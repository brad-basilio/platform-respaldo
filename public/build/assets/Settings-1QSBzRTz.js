import{r as R,c as _e,u as K,j as u,H as xe}from"./app-DzyuMihj.js";import{R as V,A as Ce,a as we,b as Se,c as Ee,d as je,t as H}from"./AuthenticatedLayout-edZBSsT0.js";import{S as ke,I as Z}from"./input-Dy0JInlT.js";/* empty css            */import"./button-HlD3P_wW.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-cxFrB3a1.js";import"./createLucideIcon-BzeuDZxw.js";import"./index-Buzty497.js";import"./index-J-QsaSCB.js";import"./index-DiA4J2Wd.js";import"./badge-C_MI7vvM.js";var G={exports:{}},U,ee;function Ne(){if(ee)return U;ee=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return U=r,U}var q,ne;function Te(){if(ne)return q;ne=1;var r=Ne();function e(){}function o(){}return o.resetWarningCache=e,q=function(){function i(n,l,c,p,f,d){if(d!==r){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}i.isRequired=i;function a(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:o,resetWarningCache:e};return s.PropTypes=s,s},q}var te;function Oe(){return te||(te=1,G.exports=Te()()),G.exports}var t=Oe(),X=function(){return X=Object.assign||function(r){for(var e,o=1,i=arguments.length;o<i;o++){e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},X.apply(this,arguments)},ue={onActivate:t.func,onAddUndo:t.func,onBeforeAddUndo:t.func,onBeforeExecCommand:t.func,onBeforeGetContent:t.func,onBeforeRenderUI:t.func,onBeforeSetContent:t.func,onBeforePaste:t.func,onBlur:t.func,onChange:t.func,onClearUndos:t.func,onClick:t.func,onContextMenu:t.func,onCommentChange:t.func,onCompositionEnd:t.func,onCompositionStart:t.func,onCompositionUpdate:t.func,onCopy:t.func,onCut:t.func,onDblclick:t.func,onDeactivate:t.func,onDirty:t.func,onDrag:t.func,onDragDrop:t.func,onDragEnd:t.func,onDragGesture:t.func,onDragOver:t.func,onDrop:t.func,onExecCommand:t.func,onFocus:t.func,onFocusIn:t.func,onFocusOut:t.func,onGetContent:t.func,onHide:t.func,onInit:t.func,onInput:t.func,onKeyDown:t.func,onKeyPress:t.func,onKeyUp:t.func,onLoadContent:t.func,onMouseDown:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onMouseMove:t.func,onMouseOut:t.func,onMouseOver:t.func,onMouseUp:t.func,onNodeChange:t.func,onObjectResizeStart:t.func,onObjectResized:t.func,onObjectSelected:t.func,onPaste:t.func,onPostProcess:t.func,onPostRender:t.func,onPreProcess:t.func,onProgressState:t.func,onRedo:t.func,onRemove:t.func,onReset:t.func,onSaveContent:t.func,onSelectionChange:t.func,onSetAttrib:t.func,onSetContent:t.func,onShow:t.func,onSubmit:t.func,onUndo:t.func,onVisualAid:t.func,onSkinLoadError:t.func,onThemeLoadError:t.func,onModelLoadError:t.func,onPluginLoadError:t.func,onIconsLoadError:t.func,onLanguageLoadError:t.func,onScriptsLoad:t.func,onScriptsLoadError:t.func},Le=X({apiKey:t.string,licenseKey:t.string,id:t.string,inline:t.bool,init:t.object,initialValue:t.string,onEditorChange:t.func,value:t.string,tagName:t.string,tabIndex:t.number,cloudChannel:t.string,plugins:t.oneOfType([t.string,t.array]),toolbar:t.oneOfType([t.string,t.array]),disabled:t.bool,readonly:t.bool,textareaName:t.string,tinymceScriptSrc:t.oneOfType([t.string,t.arrayOf(t.string),t.arrayOf(t.shape({src:t.string,async:t.bool,defer:t.bool}))]),rollback:t.oneOfType([t.number,t.oneOf([!1])]),scriptLoading:t.shape({async:t.bool,defer:t.bool,delay:t.number})},ue),de=function(r){var e=r;return e&&e.tinymce?e.tinymce:null},$=function(r){return typeof r=="function"},re=function(r){return r in ue},ie=function(r){return r.substr(2)},De=function(r,e,o,i,a,s,n){var l=Object.keys(a).filter(re),c=Object.keys(s).filter(re),p=l.filter(function(d){return s[d]===void 0}),f=c.filter(function(d){return a[d]===void 0});p.forEach(function(d){var m=ie(d),y=n[m];o(m,y),delete n[m]}),f.forEach(function(d){var m=i(r,d),y=ie(d);n[y]=m,e(y,m)})},Ie=function(r,e,o,i,a){return De(a,r.on.bind(r),r.off.bind(r),function(s,n){return function(l){var c;return(c=s(n))===null||c===void 0?void 0:c(l,r)}},e,o,i)},oe=0,pe=function(r){var e=Date.now(),o=Math.floor(Math.random()*1e9);return oe++,r+"_"+o+oe+String(e)},ae=function(r){return r!==null&&(r.tagName.toLowerCase()==="textarea"||r.tagName.toLowerCase()==="input")},se=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},Re=function(r,e){return se(r).concat(se(e))},Pe=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Be=function(r){if(!("isConnected"in Node.prototype)){for(var e=r,o=r.parentNode;o!=null;)e=o,o=e.parentNode;return e===r.ownerDocument}return r.isConnected},le=function(r,e){r!==void 0&&(r.mode!=null&&typeof r.mode=="object"&&typeof r.mode.set=="function"?r.mode.set(e):r.setMode(e))},Ae=function(r){var e=de(r);if(!e)throw new Error("tinymce should have been loaded into global scope");return e},ce=function(r){return r.options&&r.options.isRegistered("disabled")},Y=function(){return Y=Object.assign||function(r){for(var e,o=1,i=arguments.length;o<i;o++){e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Y.apply(this,arguments)},Me=function(r,e,o){var i,a,s=r.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e.id,s.src=e.src,s.async=(i=e.async)!==null&&i!==void 0?i:!1,s.defer=(a=e.defer)!==null&&a!==void 0?a:!1;var n=function(){s.removeEventListener("load",n),s.removeEventListener("error",l),o(e.src)},l=function(c){s.removeEventListener("load",n),s.removeEventListener("error",l),o(e.src,c)};s.addEventListener("load",n),s.addEventListener("error",l),r.head&&r.head.appendChild(s)},Fe=function(r){var e={},o=function(n,l){var c=e[n];c.done=!0,c.error=l;for(var p=0,f=c.handlers;p<f.length;p++){var d=f[p];d(n,l)}c.handlers=[]},i=function(n,l,c){var p=function(g){return c!==void 0?c(g):console.error(g)};if(n.length===0){p(new Error("At least one script must be provided"));return}for(var f=0,d=!1,m=function(g,C){d||(C?(d=!0,p(C)):++f===n.length&&l())},y=0,h=n;y<h.length;y++){var b=h[y],_=e[b.src];if(_)_.done?m(b.src,_.error):_.handlers.push(m);else{var x=pe("tiny-");e[b.src]={id:x,src:b.src,done:!1,error:null,handlers:[m]},Me(r,Y({id:x},b),o)}}},a=function(){for(var n,l=0,c=Object.values(e);l<c.length;l++){var p=c[l],f=r.getElementById(p.id);f!=null&&f.tagName==="SCRIPT"&&((n=f.parentNode)===null||n===void 0||n.removeChild(f))}e={}},s=function(){return r};return{loadScripts:i,deleteScripts:a,getDocument:s}},He=function(){var r=[],e=function(a){var s=r.find(function(n){return n.getDocument()===a});return s===void 0&&(s=Fe(a),r.push(s)),s},o=function(a,s,n,l,c){var p=function(){return e(a).loadScripts(s,l,c)};n>0?setTimeout(p,n):p()},i=function(){for(var a=r.pop();a!=null;a=r.pop())a.deleteScripts()};return{loadList:o,reinitialize:i}},We=He(),ze=(function(){var r=function(e,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},r(e,o)};return function(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(e,o);function i(){this.constructor=e}e.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}})(),P=function(){return P=Object.assign||function(r){for(var e,o=1,i=arguments.length;o<i;o++){e=arguments[o];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},P.apply(this,arguments)},J="change keyup compositionend setcontent CommentChange",Ke=(function(r){ze(e,r);function e(o){var i,a,s,n=r.call(this,o)||this;return n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var l=n.editor,c=n.props.value;l&&c&&c!==n.currentContent&&l.undoManager.ignore(function(){if(l.setContent(c),n.valueCursor&&(!n.inline||l.hasFocus()))try{l.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(l){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(l){(l.key==="Enter"||l.key==="Backspace"||l.key==="Delete")&&n.handleBeforeInput(l)},n.handleEditorChange=function(l){var c=n.editor;if(c&&c.initialized){var p=c.getContent();n.props.value!==void 0&&n.props.value!==p&&n.props.rollback!==!1&&(n.rollbackTimer||(n.rollbackTimer=window.setTimeout(n.rollbackChange,typeof n.props.rollback=="number"?n.props.rollback:200))),p!==n.currentContent&&(n.currentContent=p,$(n.props.onEditorChange)&&n.props.onEditorChange(p,c))}},n.handleEditorChangeSpecial=function(l){(l.key==="Backspace"||l.key==="Delete")&&n.handleEditorChange(l)},n.initialise=function(l){var c,p,f;l===void 0&&(l=0);var d=n.elementRef.current;if(d){if(!Be(d)){if(l===0)setTimeout(function(){return n.initialise(1)},1);else if(l<100)setTimeout(function(){return n.initialise(l+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var m=Ae(n.view),y=P(P(P(P({},n.props.init),{selector:void 0,target:d,disabled:n.props.disabled,readonly:n.props.readonly,inline:n.inline,plugins:Re((c=n.props.init)===null||c===void 0?void 0:c.plugins,n.props.plugins),toolbar:(p=n.props.toolbar)!==null&&p!==void 0?p:(f=n.props.init)===null||f===void 0?void 0:f.toolbar}),n.props.licenseKey?{license_key:n.props.licenseKey}:{}),{setup:function(h){n.editor=h,n.bindHandlers({}),n.inline&&!ae(d)&&h.once("PostRender",function(b){h.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&$(n.props.init.setup)&&n.props.init.setup(h),n.props.disabled&&(ce(n.editor)?n.editor.options.set("disabled",n.props.disabled):n.editor.mode.set("readonly"))},init_instance_callback:function(h){var b,_=n.getInitialValue();n.currentContent=(b=n.currentContent)!==null&&b!==void 0?b:h.getContent(),n.currentContent!==_&&(n.currentContent=_,h.setContent(_),h.undoManager.clear(),h.undoManager.add(),h.setDirty(!1)),n.props.init&&$(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(h)}});n.inline||(d.style.visibility=""),ae(d)&&(d.value=n.getInitialValue()),m.init(y)}},n.id=n.props.id||pe("tiny-react"),n.elementRef=R.createRef(),n.inline=(s=(i=n.props.inline)!==null&&i!==void 0?i:(a=n.props.init)===null||a===void 0?void 0:a.inline)!==null&&s!==void 0?s:!1,n.boundHandlers={},n}return Object.defineProperty(e.prototype,"view",{get:function(){var o,i;return(i=(o=this.elementRef.current)===null||o===void 0?void 0:o.ownerDocument.defaultView)!==null&&i!==void 0?i:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(o){var i=this,a,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(o),this.editor.initialized)){if(this.currentContent=(a=this.currentContent)!==null&&a!==void 0?a:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==o.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var n=this.editor;n.undoManager.transact(function(){var c;if(!i.inline||n.hasFocus())try{c=n.selection.getBookmark(3)}catch{}var p=i.valueCursor;if(n.setContent(i.props.value),!i.inline||n.hasFocus())for(var f=0,d=[c,p];f<d.length;f++){var m=d[f];if(m)try{n.selection.moveToBookmark(m),i.valueCursor=m;break}catch{}}})}if(this.props.readonly!==o.readonly){var l=(s=this.props.readonly)!==null&&s!==void 0?s:!1;le(this.editor,l?"readonly":"design")}this.props.disabled!==o.disabled&&(ce(this.editor)?this.editor.options.set("disabled",this.props.disabled):le(this.editor,this.props.disabled?"readonly":"design"))}},e.prototype.componentDidMount=function(){var o=this,i,a,s,n,l;if(de(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(a=(i=this.props).onScriptsLoadError)===null||a===void 0||a.call(i,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var c=function(){var f,d;(d=(f=o.props).onScriptsLoad)===null||d===void 0||d.call(f),o.initialise()},p=function(f){var d,m;(m=(d=o.props).onScriptsLoadError)===null||m===void 0||m.call(d,f)};We.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(l=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.delay)!==null&&l!==void 0?l:0,c,p)}},e.prototype.componentWillUnmount=function(){var o=this,i=this.editor;i&&(i.off(J,this.handleEditorChange),i.off(this.beforeInputEvent(),this.handleBeforeInput),i.off("keypress",this.handleEditorChangeSpecial),i.off("keydown",this.handleBeforeInputSpecial),i.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(a){i.off(a,o.boundHandlers[a])}),this.boundHandlers={},i.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return Pe()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var o=this.props.tagName,i=o===void 0?"div":o;return R.createElement(i,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return R.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var o,i,a=(o=this.props.scriptLoading)===null||o===void 0?void 0:o.async,s=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:a,defer:s}]:this.props.tinymceScriptSrc.map(function(p){return typeof p=="string"?{src:p,async:a,defer:s}:p});var n=this.props.cloudChannel,l=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(n,"/tinymce.min.js");return[{src:c,async:a,defer:s}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(o){var i=this;if(this.editor!==void 0){Ie(this.editor,o,this.props,this.boundHandlers,function(l){return i.props[l]});var a=function(l){return l.onEditorChange!==void 0||l.value!==void 0},s=a(o),n=a(this.props);!s&&n?(this.editor.on(J,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!n&&(this.editor.off(J,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=Le,e.defaultProps={cloudChannel:"8"},e})(R.Component);const gn=r=>{const e=_e.c(55),{settings:o}=r,[i,a]=R.useState("mail"),[s,n]=R.useState("prospect_welcome"),l=[{key:"prospect_welcome",label:"Email de Bienvenida a Prospectos",variables:["nombre_estudiante","nombre_asesor","email_asesor","telefono_asesor","fecha_registro","url_plataforma"]},{key:"student_enrolled",label:"Email de Credenciales para Estudiantes Matriculados",variables:["nombre_estudiante","codigo_matricula","email","contrasena","url_plataforma","nivel_academico","plan_pago"]}];let c;e[0]!==o.mail?(c=(o.mail||[]).reduce(Ve,{}),e[0]=o.mail,e[1]=c):c=e[1];let p;e[2]!==c?(p={settings:c},e[2]=c,e[3]=p):p=e[3];const f=K(p);let d;e[4]!==o.whatsapp?(d=o.whatsapp?.find(Ge)?.content||"",e[4]=o.whatsapp,e[5]=d):d=e[5];let m;e[6]!==o.whatsapp?(m=o.whatsapp?.find(Ue)?.content||"",e[6]=o.whatsapp,e[7]=m):m=e[7];let y;e[8]!==d||e[9]!==m?(y={whatsapp_number:d,whatsapp_message:m},e[8]=d,e[9]=m,e[10]=y):y=e[10];const h=K(y);let b;e[11]!==o.general?(b=o.general?.find(qe)?.content||"",e[11]=o.general,e[12]=b):b=e[12];let _;e[13]!==o.general?(_=o.general?.find($e)?.content||"",e[13]=o.general,e[14]=_):_=e[14];let x;e[15]!==b||e[16]!==_?(x={site_name:b,site_description:_},e[15]=b,e[16]=_,e[17]=x):x=e[17];const g=K(x);let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=[{id:"mail",label:"Templates de Email",icon:we},{id:"whatsapp",label:"Configuración WhatsApp",icon:Se},{id:"general",label:"Configuración General",icon:Ee}],e[18]=C):C=e[18];const fe=C;let w,M,S;if(e[19]!==g||e[20]!==f||e[21]!==h){M=B=>{B.preventDefault();const A=Object.entries(f.data.settings).map(ye=>{const[Q,be]=ye;return{key:Q,content:be,type:"mail",description:ge(Q)}});f.transform(()=>({settings:A})),f.post("/admin/settings",{onSuccess:Je,onError:Xe})};let v;e[25]!==h?(v=B=>{B.preventDefault();const A=[{key:"whatsapp_number",content:h.data.whatsapp_number,type:"whatsapp",description:"Número de WhatsApp para contacto"},{key:"whatsapp_message",content:h.data.whatsapp_message,type:"whatsapp",description:"Mensaje predeterminado de WhatsApp"}];h.transform(()=>({settings:A})),h.post("/admin/settings",{onSuccess:Ye})},e[25]=h,e[26]=v):v=e[26],S=v;let I;e[27]!==g?(I=B=>{B.preventDefault();const A=[{key:"site_name",content:g.data.site_name,type:"general",description:"Nombre del sitio"},{key:"site_description",content:g.data.site_description,type:"general",description:"Descripción del sitio"}];g.transform(()=>({settings:A})),g.post("/admin/settings",{onSuccess:Qe})},e[27]=g,e[28]=I):I=e[28],w=I;const ge=Ze;e[19]=g,e[20]=f,e[21]=h,e[22]=w,e[23]=M,e[24]=S}else w=e[22],M=e[23],S=e[24];const W=Ce;let E;e[29]===Symbol.for("react.memo_cache_sentinel")?(E=u.jsx(xe,{title:"Configuraciones"}),e[29]=E):E=e[29];const he="p-6 space-y-6";let j;e[30]===Symbol.for("react.memo_cache_sentinel")?(j=u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"p-3 bg-gradient-to-br from-[#073372] to-[#17BC91] rounded-xl shadow-lg",children:u.jsx(je,{className:"h-7 w-7 text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Configuraciones del Sistema"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Administra templates de email, WhatsApp y configuración general"})]})]}),e[30]=j):j=e[30];const me="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden";let k;e[31]!==i?(k=u.jsx("div",{className:"border-b border-gray-200",children:u.jsx("div",{className:"flex space-x-1 p-2",children:fe.map(v=>{const I=v.icon;return u.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${i===v.id?"bg-gradient-to-r from-[#073372] to-[#17BC91] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(I,{className:"h-5 w-5 mr-2"}),v.label]},v.id)})})}),e[31]=i,e[32]=k):k=e[32];const ve="p-8",z=i==="mail"&&u.jsxs("form",{onSubmit:M,className:"space-y-6",children:[u.jsx("div",{children:u.jsx(ke,{label:"Seleccionar Template de Email",value:s,onChange:v=>n(v.target.value),required:!0,children:l.map(en)})}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.find(v=>v.key===s)?.label})}),u.jsx(Ke,{apiKey:"0nai4nwo1mc0dumfyzl8re1odbzzr1fz4gfwzpgu5ghdnu4n",value:f.data.settings[s]||"",onEditorChange:v=>{f.setData("settings",{...f.data.settings,[s]:v})},init:{height:500,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | removeformat | code | help",image_title:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_url:"/admin/upload-image",images_upload_handler:tn,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}},s),u.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[u.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Variables disponibles para este template:"}),u.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:l.find(v=>v.key===s)?.variables.map(rn)})]})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"submit",disabled:f.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[u.jsx(V,{className:"h-5 w-5 mr-2"}),f.processing?"Guardando...":"Guardar Template"]})})]});let N;e[33]!==i||e[34]!==S||e[35]!==h?(N=i==="whatsapp"&&u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsx(Z,{label:"Número de WhatsApp",type:"text",value:h.data.whatsapp_number,onChange:v=>h.setData("whatsapp_number",v.target.value),helperText:"Ejemplo: +51987654321",variant:"outlined"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Predeterminado"}),u.jsx("textarea",{value:h.data.whatsapp_message,onChange:v=>h.setData("whatsapp_message",v.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Hola! Estoy interesado en información sobre los cursos..."}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Este mensaje se usará como plantilla para contacto por WhatsApp"})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"submit",disabled:h.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[u.jsx(V,{className:"h-5 w-5 mr-2"}),h.processing?"Guardando...":"Guardar Configuración"]})})]}),e[33]=i,e[34]=S,e[35]=h,e[36]=N):N=e[36];let T;e[37]!==i||e[38]!==g||e[39]!==w?(T=i==="general"&&u.jsxs("form",{onSubmit:w,className:"space-y-6",children:[u.jsx(Z,{label:"Nombre del Sitio",type:"text",value:g.data.site_name,onChange:v=>g.setData("site_name",v.target.value),variant:"outlined"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción del Sitio"}),u.jsx("textarea",{value:g.data.site_description,onChange:v=>g.setData("site_description",v.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Descripción breve del sitio..."})]}),u.jsx("div",{className:"flex justify-end",children:u.jsxs("button",{type:"submit",disabled:g.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[u.jsx(V,{className:"h-5 w-5 mr-2"}),g.processing?"Guardando...":"Guardar Configuración"]})})]}),e[37]=i,e[38]=g,e[39]=w,e[40]=T):T=e[40];let O;e[41]!==z||e[42]!==N||e[43]!==T?(O=u.jsxs("div",{className:ve,children:[z,N,T]}),e[41]=z,e[42]=N,e[43]=T,e[44]=O):O=e[44];let L;e[45]!==k||e[46]!==O?(L=u.jsxs("div",{className:me,children:[k,O]}),e[45]=k,e[46]=O,e[47]=L):L=e[47];let D;e[48]!==j||e[49]!==L?(D=u.jsxs("div",{className:he,children:[j,L]}),e[48]=j,e[49]=L,e[50]=D):D=e[50];let F;return e[51]!==W||e[52]!==E||e[53]!==D?(F=u.jsxs(W,{children:[E,D]}),e[51]=W,e[52]=E,e[53]=D,e[54]=F):F=e[54],F};function Ve(r,e){return r[e.key]=e.content,r}function Ge(r){return r.key==="whatsapp_number"}function Ue(r){return r.key==="whatsapp_message"}function qe(r){return r.key==="site_name"}function $e(r){return r.key==="site_description"}function Je(){H.success("Configuración guardada",{description:"Los templates de email han sido actualizados",duration:4e3})}function Xe(){H.error("Error",{description:"No se pudieron guardar las configuraciones",duration:4e3})}function Ye(){H.success("Configuración guardada",{description:"La configuración de WhatsApp ha sido actualizada",duration:4e3})}function Qe(){H.success("Configuración guardada",{description:"La configuración general ha sido actualizada",duration:4e3})}function Ze(r){return{welcome_email:"Email de bienvenida para nuevos usuarios",payment_reminder:"Recordatorio de pago pendiente",enrollment_confirmation:"Confirmación de matrícula"}[r]||""}function en(r){return u.jsx("option",{value:r.key,children:r.label},r.key)}function nn(r){return r.json()}function tn(r){return new Promise((e,o)=>{const i=new FormData;i.append("file",r.blob(),r.filename()),fetch("/admin/upload-image",{method:"POST",body:i,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(nn).then(a=>{a.location?e(a.location):o("Error al subir imagen")}).catch(()=>{o("Error al subir imagen")})})}function rn(r){return u.jsx("code",{className:"bg-white px-2 py-1 rounded",children:`{{${r}}}`},r)}export{gn as default};
