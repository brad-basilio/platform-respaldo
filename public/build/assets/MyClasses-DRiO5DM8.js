import{c as we,r as de,j as t,b as ie,L as be,H as Se}from"./app-DbGauczp.js";import{A as ke}from"./AuthenticatedLayout-CcOpJFtm.js";import{B as je}from"./badge-FEcguR_G.js";import{B as fe}from"./button-CTq9rhy_.js";import{S as Fe}from"./Select2-DqtznFgY.js";import{D as Re}from"./DatePicker-CzYiWFQF.js";import{I as Pe}from"./input-DPgu5UPQ.js";import{C as Ee,t as ve}from"./DocumentConfirmationModal-CBO2LUiQ.js";import{A as Ae,t as De,M as Te,a as We}from"./index.esm-Dqm0Lr7K.js";import{C as Be}from"./calendar-BPcIJRS5.js";import{C as Le}from"./clock-DUwasotU.js";import{P as Me}from"./play-DMOUAJ9i.js";import{C as ze}from"./circle-check-big-DVBmLLUY.js";import{E as Ie}from"./external-link-qoTaWxzE.js";import{C as He}from"./chevron-right-BhD1zVXu.js";import{A as $e}from"./arrow-left-CrH-oTId.js";import{S as ye}from"./search-CmqjFTFT.js";import{U as Ge}from"./users-mhpwwYqO.js";import{F as Ue}from"./film-BqcQcf-w.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./index-CnyDuYXe.js";import"./index-Ced-36WD.js";import"./dropdown-menu-uHHtlmE_.js";import"./createLucideIcon-El5PEAiD.js";import"./index-BV3GPBJK.js";import"./index-Czsmbtr5.js";import"./parseISO-9M9ZiB_H.js";import"./x-CaU8MqPZ.js";import"./triangle-alert-Bm1PLXca.js";Te.registerModules([We]);function At(s){const e=we.c(93),{scheduledClasses:r,stats:n,filters:a}=s,[o,he]=de.useState(a.status||"");let D;e[0]!==a.date?(D=a.date?new Date(a.date):null,e[0]=a.date,e[1]=D):D=e[1];const[c,xe]=de.useState(D),[m,ue]=de.useState(""),Ne=tt,Ce=et,pe=a.type==="practice",oe=pe?"Mis Sesiones Pr√°cticas":a.type==="regular"?"Mis Clases Te√≥ricas":"Todas mis Sesiones",ce=pe?"Refuerza los conocimientos de tus alumnos":"Imparte clases te√≥ricas de la ruta acad√©mica",ge=Je;let T;e[2]!==c||e[3]!==a.type||e[4]!==o?(T=()=>{const l={};o&&(l.status=o),c&&(l.date=c.toISOString().split("T")[0]),a.type&&(l.type=a.type),ie.get("/teacher/my-classes",l,{preserveState:!0})},e[2]=c,e[3]=a.type,e[4]=o,e[5]=T):T=e[5];const ne=T;let W;e[6]!==a.type?(W=()=>{he(""),xe(null),ue("");const l={};a.type&&(l.type=a.type),ie.get("/teacher/my-classes",l)},e[6]=a.type,e[7]=W):W=e[7];const me=W;let B,L,M;e[8]===Symbol.for("react.memo_cache_sentinel")?(B={headerName:"Tipo",field:"type",minWidth:100,maxWidth:130,cellRenderer:Ze},L={headerName:"Sesi√≥n",field:"template.session_number",minWidth:80,maxWidth:100,cellRenderer:Xe},M={headerName:"Clase",field:"template.title",minWidth:250,filter:"agTextColumnFilter",cellRenderer:Oe},e[8]=B,e[9]=L,e[10]=M):(B=e[8],L=e[9],M=e[10]);let z;e[11]===Symbol.for("react.memo_cache_sentinel")?(z={headerName:"Horario",field:"scheduled_at",minWidth:200,cellRenderer:l=>t.jsxs("div",{className:"flex flex-col justify-center h-full py-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-gray-700",children:[t.jsx(Be,{className:"w-3.5 h-3.5 text-slate-500"}),Ce(l.value)]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 mt-0.5",children:[t.jsx(Le,{className:"w-3.5 h-3.5"}),l.data.template.duration_minutes," min"]})]})},e[11]=z):z=e[11];let I,H,$;e[12]===Symbol.for("react.memo_cache_sentinel")?(H={headerName:"Estado",field:"status",minWidth:140,cellRenderer:l=>{const i=Ne(l.value);return t.jsx("div",{className:"flex items-center h-full",children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:i.bgColor,color:i.color,border:`1px solid ${i.borderColor}`},children:i.label})})}},$={headerName:"Alumnos",field:"enrollments_count",minWidth:120,cellRenderer:Ve},I={headerName:"Grabaci√≥n",field:"recording_url",minWidth:140,cellRenderer:Qe},e[12]=I,e[13]=H,e[14]=$):(I=e[12],H=e[13],$=e[14]);let G;e[15]===Symbol.for("react.memo_cache_sentinel")?(G=[B,L,M,z,H,$,I,{headerName:"Acciones",minWidth:200,pinned:"right",sortable:!1,filter:!1,cellRenderer:l=>{const i=l.data;return t.jsxs("div",{className:"flex items-center gap-2 h-full",children:[i.status==="scheduled"&&t.jsx("button",{onClick:()=>ge(i.id,"in_progress"),className:"text-orange-500 hover:text-orange-700 p-1.5 hover:bg-orange-50 rounded-lg transition-colors",title:"Iniciar Clase",children:t.jsx(Me,{className:"w-4 h-4"})}),i.status==="in_progress"&&t.jsx("button",{onClick:()=>ge(i.id,"completed"),className:"text-green-500 hover:text-green-700 p-1.5 hover:bg-green-50 rounded-lg transition-colors",title:"Completar Clase",children:t.jsx(ze,{className:"w-4 h-4"})}),i.meet_url&&t.jsx("a",{href:i.meet_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 p-1.5 hover:bg-blue-50 rounded-lg transition-colors",title:"Ir a Meet",children:t.jsx(Ie,{className:"w-4 h-4"})}),t.jsx(be,{href:`/teacher/my-classes/${i.id}`,className:"text-slate-600 hover:text-slate-900 p-1.5 hover:bg-slate-100 rounded-lg transition-colors",title:"Ver Detalles",children:t.jsx(He,{className:"w-4 h-4"})})]})}}],e[15]=G):G=e[15];const _e=G;let U;e[16]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsx(Se,{title:"Mis Clases"}),e[16]=U):U=e[16];let q;e[17]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs(be,{href:"/dashboard",className:"inline-flex items-center gap-2 text-gray-500 hover:text-[#073372] transition-colors mb-3",children:[t.jsx($e,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Volver al Dashboard"})]}),e[17]=q):q=e[17];let d;e[18]!==oe?(d=t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:oe}),e[18]=oe,e[19]=d):d=e[19];let f;e[20]!==ce?(f=t.jsx("p",{className:"text-gray-500 mt-1",children:ce}),e[20]=ce,e[21]=f):f=e[21];let h;e[22]!==d||e[23]!==f?(h=t.jsxs("div",{children:[q,d,f]}),e[22]=d,e[23]=f,e[24]=h):h=e[24];let x;e[25]!==n.scheduledClasses?(x=t.jsx("div",{className:"text-3xl font-black text-[#073372]",children:n.scheduledClasses}),e[25]=n.scheduledClasses,e[26]=x):x=e[26];let Q;e[27]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Programadas"}),e[27]=Q):Q=e[27];let u;e[28]!==x?(u=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#073372]/5",children:[x,Q]}),e[28]=x,e[29]=u):u=e[29];let p;e[30]!==n.inProgressClasses?(p=t.jsx("div",{className:"text-3xl font-black text-[#F98613]",children:n.inProgressClasses}),e[30]=n.inProgressClasses,e[31]=p):p=e[31];let V;e[32]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"En Curso"}),e[32]=V):V=e[32];let g;e[33]!==p?(g=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#F98613]/5",children:[p,V]}),e[33]=p,e[34]=g):g=e[34];let b;e[35]!==n.completedClasses?(b=t.jsx("div",{className:"text-3xl font-black text-[#17BC91]",children:n.completedClasses}),e[35]=n.completedClasses,e[36]=b):b=e[36];let O;e[37]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Completadas"}),e[37]=O):O=e[37];let y;e[38]!==b?(y=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#17BC91]/5",children:[b,O]}),e[38]=b,e[39]=y):y=e[39];let j;e[40]!==u||e[41]!==g||e[42]!==y?(j=t.jsxs("div",{className:"flex items-center gap-4",children:[u,g,y]}),e[40]=u,e[41]=g,e[42]=y,e[43]=j):j=e[43];let v;e[44]!==h||e[45]!==j?(v=t.jsx("div",{className:"bg-white border-b shadow-sm",children:t.jsx("div",{className:"w-full px-6 py-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[h,j]})})}),e[44]=h,e[45]=j,e[46]=v):v=e[46];let X,Z;e[47]===Symbol.for("react.memo_cache_sentinel")?(X=l=>ue(l.target.value),Z=t.jsx(ye,{className:"w-5 h-5"}),e[47]=X,e[48]=Z):(X=e[47],Z=e[48]);let N;e[49]!==m?(N=t.jsx("div",{className:"w-full md:max-w-md",children:t.jsx(Pe,{label:"Buscar en esta p√°gina...",value:m,onChange:X,icon:Z})}),e[49]=m,e[50]=N):N=e[50];let J,K;e[51]===Symbol.for("react.memo_cache_sentinel")?(J=l=>he(l),K=[{value:"",label:"Todos los estados"},{value:"scheduled",label:"üìÖ Programadas"},{value:"in_progress",label:"üîÑ En Curso"},{value:"completed",label:"‚úÖ Completadas"},{value:"cancelled",label:"‚ùå Canceladas"}],e[51]=J,e[52]=K):(J=e[51],K=e[52]);let C;e[53]!==o?(C=t.jsx("div",{className:"w-full md:w-48",children:t.jsx(Fe,{value:o,onChange:J,options:K,isSearchable:!1,isClearable:!1,label:"Estado"})}),e[53]=o,e[54]=C):C=e[54];let Y;e[55]===Symbol.for("react.memo_cache_sentinel")?(Y=l=>xe(l),e[55]=Y):Y=e[55];let _;e[56]!==c?(_=t.jsx("div",{className:"w-full md:w-48",children:t.jsx(Re,{selected:c,onChange:Y,isClearable:!0,label:"Fecha"})}),e[56]=c,e[57]=_):_=e[57];let ee;e[58]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(ye,{className:"w-4 h-4"}),e[58]=ee):ee=e[58];let w;e[59]!==ne?(w=t.jsx(fe,{onClick:ne,className:"bg-[#073372] hover:bg-[#052a5e] text-white shadow-sm h-[42px]",title:"Aplicar Filtros",children:ee}),e[59]=ne,e[60]=w):w=e[60];let S;e[61]!==me||e[62]!==c||e[63]!==o?(S=(o||c)&&t.jsx(fe,{onClick:me,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 h-[42px]",title:"Limpiar Filtros",children:t.jsx(Ee,{className:"w-4 h-4"})}),e[61]=me,e[62]=c,e[63]=o,e[64]=S):S=e[64];let k;e[65]!==w||e[66]!==S?(k=t.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[w,S]}),e[65]=w,e[66]=S,e[67]=k):k=e[67];let F;e[68]!==C||e[69]!==_||e[70]!==k?(F=t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full md:w-auto",children:[C,_,k]}),e[68]=C,e[69]=_,e[70]=k,e[71]=F):F=e[71];let R;e[72]!==N||e[73]!==F?(R=t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[N,F]}),e[72]=N,e[73]=F,e[74]=R):R=e[74];let te;e[75]===Symbol.for("react.memo_cache_sentinel")?(te={height:"600px",width:"100%"},e[75]=te):te=e[75];let le;e[76]===Symbol.for("react.memo_cache_sentinel")?(le={sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},e[76]=le):le=e[76];let se,ae;e[77]===Symbol.for("react.memo_cache_sentinel")?(se=[10,20,50],ae={mode:"singleRow"},e[77]=se,e[78]=ae):(se=e[77],ae=e[78]);let P;e[79]!==m||e[80]!==r.data?(P=t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsx("div",{className:"ag-theme-quartz",style:te,children:t.jsx(Ae,{theme:De,rowData:r.data,columnDefs:_e,quickFilterText:m,defaultColDef:le,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:se,rowSelection:ae,animateRows:!0,domLayout:"normal",rowHeight:70,headerHeight:50,suppressCellFocus:!0,rowClass:"hover:bg-gray-50",overlayNoRowsTemplate:'<div style="padding: 20px;">No hay clases para mostrar</div>'})})}),e[79]=m,e[80]=r.data,e[81]=P):P=e[81];let E;e[82]!==a||e[83]!==r.current_page||e[84]!==r.last_page?(E=r.last_page>1&&t.jsx("div",{className:"mt-8 flex justify-center gap-2 pb-8",children:Array.from({length:r.last_page},qe).map(l=>t.jsx(fe,{variant:l===r.current_page?"default":"outline",className:l===r.current_page?"font-bold text-white shadow-md":"font-semibold hover:bg-gray-50 text-slate-600",style:l===r.current_page?{backgroundColor:"#073372"}:{borderColor:"#e2e8f0"},onClick:()=>ie.get("/teacher/my-classes",{...a,page:l}),children:l},l))}),e[82]=a,e[83]=r.current_page,e[84]=r.last_page,e[85]=E):E=e[85];let A;e[86]!==R||e[87]!==P||e[88]!==E?(A=t.jsxs("div",{className:"w-full px-6 py-6 space-y-6",children:[R,P,E]}),e[86]=R,e[87]=P,e[88]=E,e[89]=A):A=e[89];let re;return e[90]!==v||e[91]!==A?(re=t.jsxs(ke,{children:[U,t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v,A]})]}),e[90]=v,e[91]=A,e[92]=re):re=e[92],re}function qe(s,e){return e+1}function Qe(s){return s.value?t.jsx("div",{className:"flex items-center h-full",children:t.jsxs(je,{className:"text-white font-semibold flex items-center gap-1 hover:bg-[#F98613]/90",style:{backgroundColor:"#F98613"},children:[t.jsx(Ue,{className:"w-3 h-3"}),"Grabaci√≥n"]})}):t.jsx("div",{className:"flex items-center h-full text-xs text-slate-400 italic",children:"Sin grabaci√≥n"})}function Ve(s){return t.jsxs("div",{className:"flex items-center h-full gap-1.5 text-sm text-gray-700",children:[t.jsx(Ge,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium",children:s.value}),t.jsx("span",{className:"text-slate-400",children:"/"}),t.jsx("span",{className:"text-slate-500",children:s.data.max_students})]})}function Oe(s){const e=s.data.template;return t.jsxs("div",{className:"flex flex-col justify-center h-full py-1",children:[t.jsx("span",{className:"font-semibold text-gray-900 leading-tight",children:e.title}),t.jsx("span",{className:"text-xs font-medium mt-1",style:{color:e.academic_level?.color||"#64748b"},children:e.academic_level?.name})]})}function Xe(s){const e=s.data.template.academic_level?.color||"#073372";return t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-sm",style:{backgroundColor:e},children:s.value})})}function Ze(s){const e=s.value==="practice";return t.jsx("div",{className:"flex items-center h-full",children:t.jsx(je,{className:`${e?"bg-cyan-100 text-cyan-700 border-cyan-200":"bg-blue-100 text-blue-700 border-blue-200"} border shadow-none`,children:e?"Pr√°ctica":"Te√≥rica"})})}function Je(s,e){ie.put(`/teacher/my-classes/${s}/status`,{status:e},{onSuccess:Ye,onError:Ke,preserveScroll:!0})}function Ke(){return ve.error("Error al actualizar estado")}function Ye(){return ve.success("Estado actualizado")}function et(s){return new Date(s).toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",timeZone:"America/Lima"})}function tt(s){const e={scheduled:{label:"Programada",color:"#073372",bgColor:"rgba(7, 51, 114, 0.1)",borderColor:"rgba(7, 51, 114, 0.3)"},in_progress:{label:"En Curso",color:"#F98613",bgColor:"rgba(249, 134, 19, 0.1)",borderColor:"rgba(249, 134, 19, 0.3)"},completed:{label:"Completada",color:"#17BC91",bgColor:"rgba(23, 188, 145, 0.1)",borderColor:"rgba(23, 188, 145, 0.3)"},cancelled:{label:"Cancelada",color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)"}};return e[s]||e.scheduled}export{At as default};
