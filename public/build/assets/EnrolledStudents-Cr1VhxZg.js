import{r as x,j as t,a as ce,c as ye}from"./app-B4MFukDB.js";import{A as ve,S as Y}from"./AuthenticatedLayout-RDVDffMW.js";import{A as Ne,t as we,M as Ce,a as Se}from"./index.esm-sLs6zI-f.js";import{I as ke}from"./input-BOQ0VJ6w.js";/* empty css                       */import{U as _e}from"./user-check-A6yIfxZ8.js";import{U as Be}from"./user-x-DKk6Qu43.js";import{C as he}from"./circle-check-big-ChKNRwg0.js";import{C as De}from"./clock-RudyLXwr.js";import{E as Ve}from"./eye-4iE24egS.js";import{C as fe}from"./circle-x-BegGM0uQ.js";import{S as Ee}from"./search-MuGcLPm2.js";import{C as Te}from"./circle-alert-pRbsgv7N.js";import{U as be}from"./users-CsYF9ZZh.js";import{P as Ae}from"./phone-DtTSZE9x.js";import{B as Re}from"./book-open-ih21j37-.js";import{G as Me}from"./graduation-cap-BVUtxRBd.js";import{C as Fe}from"./calendar-CM0Eg83l.js";/* empty css            */import"./button-D4tuwuwQ.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-BRK5xrlD.js";import"./createLucideIcon-YXtIN-XQ.js";import"./index-CvT2IicU.js";import"./index-rgsgplN-.js";import"./index-BdGE1tXd.js";import"./badge-tF2fnUN3.js";Ce.registerModules([Se]);const Pe=de=>{const e=ye.c(109),{student:a,onClose:o,groups:J}=de;let w;e[0]!==J?(w=pe=>{if(!pe)return"Sin asignar";const ge=J.find(je=>je.id===pe);return ge?ge.name:"Grupo desconocido"},e[0]=J,e[1]=w):w=e[1];const K=w;let B;e[2]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Detalles del Alumno"}),t.jsx("p",{className:"text-blue-100 text-sm",children:"Información completa del estudiante matriculado"})]}),e[2]=B):B=e[2];let C;e[3]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(fe,{className:"h-6 w-6"}),e[3]=C):C=e[3];let u;e[4]!==o?(u=t.jsxs("div",{className:"bg-gradient-to-r from-[#073372] to-[#17BC91] px-8 py-6 flex items-center justify-between",children:[B,t.jsx("button",{onClick:o,className:"text-white hover:bg-white/20 rounded-full p-2 transition-colors",children:C})]}),e[4]=o,e[5]=u):u=e[5];let S;e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(be,{className:"h-5 w-5 mr-2 text-blue-600"}),"Información Personal"]}),e[6]=S):S=e[6];let m;e[7]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nombre Completo"}),e[7]=m):m=e[7];let h;e[8]!==a.name?(h=t.jsxs("div",{children:[m,t.jsx("p",{className:"text-gray-900 mt-1",children:a.name})]}),e[8]=a.name,e[9]=h):h=e[9];let D;e[10]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Documento"}),e[10]=D):D=e[10];let f;e[11]!==a.documentNumber||e[12]!==a.documentType?(f=t.jsxs("div",{children:[D,t.jsxs("p",{className:"text-gray-900 mt-1",children:[a.documentType,": ",a.documentNumber]})]}),e[11]=a.documentNumber,e[12]=a.documentType,e[13]=f):f=e[13];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"F. Nacimiento"}),e[14]=p):p=e[14];let g;e[15]!==a.birthDate?(g=t.jsxs("div",{children:[p,t.jsx("p",{className:"text-gray-900 mt-1",children:a.birthDate})]}),e[15]=a.birthDate,e[16]=g):g=e[16];let n;e[17]!==g||e[18]!==f?(n=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f,g]}),e[17]=g,e[18]=f,e[19]=n):n=e[19];let c;e[20]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Género"}),e[20]=c):c=e[20];let b;e[21]!==a.gender?(b=t.jsxs("div",{children:[c,t.jsx("p",{className:"text-gray-900 mt-1",children:a.gender})]}),e[21]=a.gender,e[22]=b):b=e[22];let V;e[23]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nivel Educativo"}),e[23]=V):V=e[23];let j;e[24]!==a.educationLevel?(j=t.jsxs("div",{children:[V,t.jsx("p",{className:"text-gray-900 mt-1",children:a.educationLevel})]}),e[24]=a.educationLevel,e[25]=j):j=e[25];let y;e[26]!==b||e[27]!==j?(y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b,j]}),e[26]=b,e[27]=j,e[28]=y):y=e[28];let v;e[29]!==n||e[30]!==y||e[31]!==h?(v=t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[S,t.jsxs("div",{className:"space-y-4",children:[h,n,y]})]}),e[29]=n,e[30]=y,e[31]=h,e[32]=v):v=e[32];let k;e[33]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Ae,{className:"h-5 w-5 mr-2 text-green-600"}),"Información de Contacto"]}),e[33]=k):k=e[33];let E;e[34]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),e[34]=E):E=e[34];let N;e[35]!==a.email?(N=t.jsxs("div",{children:[E,t.jsx("p",{className:"text-gray-900 mt-1",children:a.email})]}),e[35]=a.email,e[36]=N):N=e[36];let T;e[37]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Teléfono"}),e[37]=T):T=e[37];let s;e[38]!==a.phoneNumber?(s=t.jsxs("div",{children:[T,t.jsx("p",{className:"text-gray-900 mt-1",children:a.phoneNumber})]}),e[38]=a.phoneNumber,e[39]=s):s=e[39];let r;e[40]!==N||e[41]!==s?(r=t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[k,t.jsxs("div",{className:"space-y-4",children:[N,s]})]}),e[40]=N,e[41]=s,e[42]=r):r=e[42];let l;e[43]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Re,{className:"h-5 w-5 mr-2 text-purple-600"}),"Información Académica"]}),e[43]=l):l=e[43];let i;e[44]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Código"}),e[44]=i):i=e[44];let d;e[45]!==a.enrollmentCode?(d=t.jsxs("div",{children:[i,t.jsx("p",{className:"text-gray-900 mt-1 font-mono",children:a.enrollmentCode})]}),e[45]=a.enrollmentCode,e[46]=d):d=e[46];let _;e[47]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Grupo"}),e[47]=_):_=e[47];let A;e[48]!==K||e[49]!==a.assignedGroupId?(A=K(a.assignedGroupId),e[48]=K,e[49]=a.assignedGroupId,e[50]=A):A=e[50];let R;e[51]!==A?(R=t.jsxs("div",{children:[_,t.jsx("p",{className:"text-gray-900 mt-1",children:A})]}),e[51]=A,e[52]=R):R=e[52];let M;e[53]!==d||e[54]!==R?(M=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d,R]}),e[53]=d,e[54]=R,e[55]=M):M=e[55];let Z;e[56]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Plan"}),e[56]=Z):Z=e[56];let F;e[57]!==a.contractedPlan?(F=t.jsxs("div",{children:[Z,t.jsx("p",{className:"text-gray-900 mt-1",children:a.contractedPlan})]}),e[57]=a.contractedPlan,e[58]=F):F=e[58];let ee;e[59]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Nivel"}),e[59]=ee):ee=e[59];const me=a.level==="basic"?"Básico":a.level==="intermediate"?"Intermedio":"Avanzado";let P;e[60]!==me?(P=t.jsxs("div",{children:[ee,t.jsx("p",{className:"text-gray-900 mt-1",children:me})]}),e[60]=me,e[61]=P):P=e[61];let te;e[62]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tipo"}),e[62]=te):te=e[62];const xe=a.classType==="theoretical"?"Teórico":"Práctico";let L;e[63]!==xe?(L=t.jsxs("div",{children:[te,t.jsx("p",{className:"text-gray-900 mt-1",children:xe})]}),e[63]=xe,e[64]=L):L=e[64];let $;e[65]!==P||e[66]!==L?($=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P,L]}),e[65]=P,e[66]=L,e[67]=$):$=e[67];let z;e[68]!==M||e[69]!==F||e[70]!==$?(z=t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[l,t.jsxs("div",{className:"space-y-4",children:[M,F,$]})]}),e[68]=M,e[69]=F,e[70]=$,e[71]=z):z=e[71];let se;e[72]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Me,{className:"h-5 w-5 mr-2 text-orange-600"}),"Examen de Categorización"]}),e[72]=se):se=e[72];let re;e[73]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"¿Realizó examen?"}),e[73]=re):re=e[73];const ue=a.hasPlacementTest?"Sí":"No";let G;e[74]!==ue?(G=t.jsxs("div",{children:[re,t.jsx("p",{className:"text-gray-900 mt-1",children:ue})]}),e[74]=ue,e[75]=G):G=e[75];let I;e[76]!==a.hasPlacementTest||e[77]!==a.testDate||e[78]!==a.testScore?(I=a.hasPlacementTest&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Fecha"}),t.jsx("p",{className:"text-gray-900 mt-1",children:a.testDate})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Puntaje"}),t.jsx("p",{className:"text-gray-900 mt-1 font-semibold",children:a.testScore})]})]}),e[76]=a.hasPlacementTest,e[77]=a.testDate,e[78]=a.testScore,e[79]=I):I=e[79];let q;e[80]!==G||e[81]!==I?(q=t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[se,t.jsxs("div",{className:"space-y-4",children:[G,I]})]}),e[80]=G,e[81]=I,e[82]=q):q=e[82];let ae;e[83]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(Fe,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Fechas Importantes"]}),e[83]=ae):ae=e[83];let le;e[84]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Registro"}),e[84]=le):le=e[84];let U;e[85]!==a.registrationDate?(U=t.jsxs("div",{children:[le,t.jsx("p",{className:"text-gray-900 mt-1",children:a.registrationDate})]}),e[85]=a.registrationDate,e[86]=U):U=e[86];let ie;e[87]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pago"}),e[87]=ie):ie=e[87];let W;e[88]!==a.paymentDate?(W=t.jsxs("div",{children:[ie,t.jsx("p",{className:"text-gray-900 mt-1",children:a.paymentDate})]}),e[88]=a.paymentDate,e[89]=W):W=e[89];let ne;e[90]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Matrícula"}),e[90]=ne):ne=e[90];let H;e[91]!==a.enrollmentDate?(H=t.jsxs("div",{children:[ne,t.jsx("p",{className:"text-gray-900 mt-1",children:a.enrollmentDate})]}),e[91]=a.enrollmentDate,e[92]=H):H=e[92];let O;e[93]!==U||e[94]!==W||e[95]!==H?(O=t.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 md:col-span-2",children:[ae,t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[U,W,H]})]}),e[93]=U,e[94]=W,e[95]=H,e[96]=O):O=e[96];let Q;e[97]!==v||e[98]!==r||e[99]!==z||e[100]!==q||e[101]!==O?(Q=t.jsx("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v,r,z,q,O]})}),e[97]=v,e[98]=r,e[99]=z,e[100]=q,e[101]=O,e[102]=Q):Q=e[102];let X;e[103]!==o?(X=t.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200 flex justify-end",children:t.jsx("button",{onClick:o,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2.5 rounded-xl font-medium transition-colors",children:"Cerrar"})}),e[103]=o,e[104]=X):X=e[104];let oe;return e[105]!==u||e[106]!==Q||e[107]!==X?(oe=t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-3xl max-w-5xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[u,Q,X]})}),e[105]=u,e[106]=Q,e[107]=X,e[108]=oe):oe=e[108],oe},mt=({students:de=[],groups:e=[],userRole:a=""})=>{const[o,J]=x.useState(de??[]),[w,K]=x.useState(null),[B,C]=x.useState(!1),[u,S]=x.useState(""),[m,h]=x.useState("verified"),[D,f]=x.useState(!1),[p,g]=x.useState(null),[n,c]=x.useState([]),b=()=>{const s=document.createElement("input");s.type="file",s.accept=".pdf,.doc,.docx,.png,.jpg,.jpeg",s.multiple=!0,s.onchange=async r=>{const i=r.target.files;if(i){const d=Array.from(i).map(_=>({file:_,document_type:"contract",document_name:_.name.replace(/\.[^/.]+$/,""),description:"",requires_signature:!0}));c([...n,...d])}},s.click()},V=s=>{c(n.filter((r,l)=>l!==s))},j=async s=>{g(s),c([]),f(!0)},y=async()=>{if(p)try{const s=new FormData;n.forEach((l,i)=>{s.append(`documents[${i}][file]`,l.file),s.append(`documents[${i}][document_type]`,l.document_type),s.append(`documents[${i}][document_name]`,l.document_name),s.append(`documents[${i}][description]`,l.description),s.append(`documents[${i}][requires_signature]`,l.requires_signature?"1":"0")});const r=await ce.post(`/admin/students/${p.id}/verify-enrollment`,s,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(f(!1),g(null),c([]),await Y.fire({title:"¡Documentos Enviados!",html:`
            <p>Los documentos han sido enviados al estudiante exitosamente</p>
            ${r.data.documents_uploaded>0?`<p class="text-sm text-gray-600 mt-2">Se enviaron ${r.data.documents_uploaded} documento(s)</p>`:""}
            <p class="text-sm text-orange-600 mt-3">⏳ La matrícula se verificará cuando el estudiante confirme todos los documentos</p>
          `,icon:"success",confirmButtonColor:"#10b981",confirmButtonText:"Entendido",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"px-6 py-2.5 rounded-xl font-medium"}}))}catch(s){console.error("Error al verificar matrícula:",s);const r=ce.isAxiosError(s)&&s.response?.data?.message||"Error al verificar la matrícula";await Y.fire({title:"Error",text:r,icon:"error",confirmButtonColor:"#ef4444",confirmButtonText:"Cerrar",customClass:{confirmButton:"px-6 py-2.5 rounded-xl font-medium"}})}},v=async s=>{if((await Y.fire({title:"¿Remover Verificación?",html:`
        <div class="text-left">
          <p class="text-gray-700 mb-3">¿Estás seguro de que quieres remover la verificación de esta matrícula?</p>
          <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded">
            <p class="text-sm text-yellow-800">
              <strong>Advertencia:</strong> Al remover la verificación:
            </p>
            <ul class="text-sm text-yellow-700 mt-2 space-y-1 list-disc list-inside">
              <li>NO contará para la comisión del asesor</li>
              <li>Se marcará como pendiente de verificación</li>
              <li>Se eliminará el registro de verificación</li>
            </ul>
          </div>
        </div>
      `,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:'<i class="fas fa-times-circle"></i> Sí, Remover',cancelButtonText:'<i class="fas fa-ban"></i> Cancelar',reverseButtons:!0,customClass:{confirmButton:"px-6 py-2.5 rounded-xl font-medium",cancelButton:"px-6 py-2.5 rounded-xl font-medium"}})).isConfirmed)try{(await ce.post(`/admin/students/${s}/unverify-enrollment`)).data.success&&(J(i=>i.map(d=>d.id===s?{...d,enrollmentVerified:!1,enrollmentVerifiedAt:void 0,verifiedEnrollmentBy:void 0}:d)),await Y.fire({title:"Verificación Removida",text:"La verificación ha sido removida exitosamente",icon:"success",confirmButtonColor:"#10b981",confirmButtonText:"Entendido",timer:3e3,timerProgressBar:!0,customClass:{confirmButton:"px-6 py-2.5 rounded-xl font-medium"}}))}catch(l){console.error("Error al remover verificación:",l);const i=ce.isAxiosError(l)&&l.response?.data?.message||"Error al remover la verificación";await Y.fire({title:"Error",text:i,icon:"error",confirmButtonColor:"#ef4444",confirmButtonText:"Cerrar",customClass:{confirmButton:"px-6 py-2.5 rounded-xl font-medium"}})}},k=x.useCallback(s=>{if(!s)return"Sin asignar";const r=e.find(l=>l.id===s);return r?r.name:"Grupo desconocido"},[e]),E=x.useMemo(()=>{let s=o;return m==="pending"?s=o.filter(r=>!r.enrollmentVerified):m==="verified"&&(s=o.filter(r=>r.enrollmentVerified)),s},[o,m]),N=s=>{K(s),C(!0)},T=x.useMemo(()=>[{headerName:"Alumno",field:"name",minWidth:300,filter:"agTextColumnFilter",cellRenderer:s=>{const r=s.data,l=r.avatar;return t.jsxs("div",{className:"flex items-center py-2 w-full h-full",children:[l?t.jsx("img",{src:`/storage/${r.avatar}`,alt:r.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0 border-2 border-white shadow-md"}):t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#073372] to-[#17BC91] rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-white text-sm font-semibold",children:r.name.split(" ").map(i=>i[0]).join("")})}),t.jsxs("div",{className:"ml-3",children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),t.jsx("div",{className:"text-xs text-gray-500",children:r.email}),t.jsx("div",{className:"text-xs text-gray-400",children:r.phoneNumber})]})]})}},{headerName:"Código",field:"enrollmentCode",width:180,filter:"agTextColumnFilter",cellRenderer:s=>{const r=s.data;return t.jsxs("div",{className:"w-full h-full flex items-center",children:[t.jsx("div",{className:"text-sm font-mono text-gray-900",children:s.value}),t.jsx("div",{className:"text-xs text-gray-500",children:r.enrollmentDate})]})}},{headerName:"Estado",field:"status",width:120,filter:"agTextColumnFilter",cellRenderer:s=>{const r=s.value;return t.jsx("div",{className:"flex items-center space-x-2 w-full h-full",children:t.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${r==="active"?"bg-[#17BC91]/10 text-[#17BC91] border border-[#17BC91]/30":"bg-red-100 text-red-800"}`,children:[r==="active"?t.jsx(_e,{className:"w-3 h-3 mr-1"}):t.jsx(Be,{className:"w-3 h-3 mr-1"}),r==="active"?"Activo":"Inactivo"]})})}},{headerName:"Nivel",field:"level",width:120,filter:"agTextColumnFilter",cellRenderer:s=>{const r=s.value,l=r==="basic"?"bg-[#17BC91]/10 text-[#17BC91] border border-[#17BC91]/30":r==="intermediate"?"bg-[#F98613]/10 text-[#F98613] border border-[#F98613]/30":"bg-[#073372]/10 text-[#073372] border border-[#073372]/30";return t.jsx("div",{className:"flex items-center space-x-2 w-full h-full",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l}`,children:r==="basic"?"Básico":r==="intermediate"?"Intermedio":"Avanzado"})})}},{headerName:"Verificación",field:"enrollmentVerified",width:150,filter:"agTextColumnFilter",cellRenderer:s=>{const l=s.data.enrollmentVerified;return t.jsx("div",{className:"flex items-center justify-between h-full gap-2",children:l?t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#17BC91]/10 text-[#17BC91] border border-[#17BC91]/30",children:[t.jsx(he,{className:"w-3 h-3 mr-1"}),"Verificado"]}):t.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#F98613]/10 text-[#F98613] border border-[#F98613]/30",children:[t.jsx(De,{className:"w-3 h-3 mr-1"}),"Pendiente"]})})}},{headerName:"Plan",field:"contractedPlan",minWidth:200,filter:"agTextColumnFilter",cellRenderer:s=>{const r=s.data;return t.jsxs("div",{className:"w-full h-full flex flex-col items-start justify-center",children:[t.jsx("div",{className:"text-sm text-gray-900",children:s.value}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Grupo: ",k(r.assignedGroupId)]})]})}},{headerName:"Acciones",width:100,sortable:!1,filter:!1,cellRenderer:s=>{const r=s.data;return t.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[t.jsx("button",{onClick:()=>N(r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:t.jsx(Ve,{className:"h-4 w-4"})}),r.enrollmentVerified?t.jsx("button",{onClick:()=>v(r.id),className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Remover verificación",children:t.jsx(he,{className:"h-4 w-4"})}):t.jsx("button",{onClick:()=>j(r),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Verificar matrícula",children:t.jsx(fe,{className:"h-4 w-4"})})]})}}],[k]);return t.jsxs(ve,{children:[t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alumnos Matriculados"}),t.jsx("p",{className:"text-gray-600",children:"Gestiona los estudiantes que ya han completado su matrícula"})]})}),t.jsxs("div",{className:"relative",children:[t.jsx(ke,{type:"text",label:"Buscar por nombre, email, código, teléfono, nivel, plan...",value:u,onChange:s=>S(s.target.value),icon:t.jsx(Ee,{className:"w-4 h-4"}),className:"pr-10"}),u&&t.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-20",children:t.jsx(fe,{className:"h-5 w-5"})})]}),t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>h("verified"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="verified"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(he,{className:"h-4 w-4"}),t.jsx("span",{children:"Verificados"}),t.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:o.filter(s=>s.enrollmentVerified).length})]})}),t.jsx("button",{onClick:()=>h("pending"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="pending"?"bg-gradient-to-r from-yellow-500 to-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(Te,{className:"h-4 w-4"}),t.jsx("span",{children:"No Verificados"}),t.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:o.filter(s=>!s.enrollmentVerified).length})]})}),t.jsx("button",{onClick:()=>h("all"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="all"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:t.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[t.jsx(be,{className:"h-4 w-4"}),t.jsx("span",{children:"Todos"}),t.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:o.length})]})})]})}),t.jsx("div",{className:"ag-theme-quartz",style:{height:"600px",width:"100%"},children:t.jsx(Ne,{theme:we,rowData:E,columnDefs:T,quickFilterText:u,defaultColDef:{sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[5,10,20,50],rowSelection:{mode:"singleRow"},animateRows:!0,domLayout:"normal",rowHeight:70,headerHeight:48,suppressCellFocus:!0,rowClass:"hover:bg-gray-50"})})]}),B&&w&&t.jsx(Pe,{student:w,onClose:()=>C(!1),groups:e}),D&&p&&t.jsx("div",{className:"fixed inset-0 bg-black/50  flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"bg-gradient-to-r from-[#073372] to-[#17BC91] px-8 py-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-white",children:"Verificar Matrícula"}),t.jsxs("p",{className:"text-white/90 text-sm mt-1",children:[p.name," - ",p.enrollmentCode]})]}),t.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:[t.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded mb-6",children:[t.jsxs("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Importante:"})," Al verificar esta matrícula:"]}),t.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 list-disc list-inside",children:[t.jsx("li",{children:"Contará para la comisión del asesor de ventas"}),t.jsx("li",{children:"Se registrará como matrícula válida"}),t.jsx("li",{children:"Se guardará tu nombre como verificador"}),n.length>0&&t.jsxs("li",{children:["Se enviarán ",n.length," documento(s) al estudiante por email"]})]})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos para el Estudiante"}),t.jsxs("button",{onClick:b,className:"flex items-center gap-2 bg-[#17BC91] hover:bg-[#17BC91]/90 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Agregar Documentos"]})]}),n.length===0?t.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[t.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:'No hay documentos agregados. Haz clic en "Agregar Documentos" para subir contratos, reglamentos, etc.'}),t.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"Los documentos se enviarán al estudiante por email y deberá confirmarlos/firmarlos."})]}):t.jsx("div",{className:"space-y-3",children:n.map((s,r)=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("span",{className:"font-medium text-gray-900",children:s.file.name}),t.jsxs("span",{className:"text-xs text-gray-500",children:["(",(s.file.size/1024/1024).toFixed(2)," MB)"]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[t.jsx("input",{type:"text",value:s.document_name,onChange:l=>{const i=[...n];i[r].document_name=l.target.value,c(i)},placeholder:"Nombre del documento",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm"}),t.jsxs("select",{value:s.document_type,onChange:l=>{const i=[...n];i[r].document_type=l.target.value,c(i)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[t.jsx("option",{value:"contract",children:"Contrato"}),t.jsx("option",{value:"regulation",children:"Reglamento"}),t.jsx("option",{value:"terms",children:"Términos y Condiciones"}),t.jsx("option",{value:"other",children:"Otro"})]})]}),t.jsx("textarea",{value:s.description,onChange:l=>{const i=[...n];i[r].description=l.target.value,c(i)},placeholder:"Descripción o instrucciones para el estudiante (opcional)",className:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-lg text-sm resize-none",rows:2}),t.jsxs("label",{className:"flex items-center gap-2 mt-2",children:[t.jsx("input",{type:"checkbox",checked:s.requires_signature,onChange:l=>{const i=[...n];i[r].requires_signature=l.target.checked,c(i)},className:"rounded"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Requiere firma del estudiante"})]})]}),t.jsx("button",{onClick:()=>V(r),className:"text-red-600 hover:bg-red-50 p-2 rounded-lg transition-colors",title:"Eliminar documento",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},r))})]})]}),t.jsxs("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>{f(!1),g(null),c([])},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2.5 rounded-xl font-medium transition-colors",children:"Cancelar"}),t.jsxs("button",{onClick:y,className:"bg-gradient-to-r from-[#073372] to-[#17BC91] hover:opacity-90 text-white px-6 py-2.5 rounded-xl font-medium transition-opacity",children:["✓ Verificar Matrícula",n.length>0&&` y Enviar ${n.length} Documento(s)`]})]})]})})]})};export{mt as default};
