import{c as Is,r as m,j as s,H as Vs,a as Ps,b as Us,L as Os}from"./app-DDnwtAou.js";import{t as $s,A as Gs}from"./AuthenticatedLayout-COg4Xp4k.js";import{B as ye}from"./button-CN_q5fm-.js";import{T as Es}from"./textarea-Cqiw7M-m.js";import{B as rs}from"./badge-fdEPb9w8.js";import{P as vs}from"./play-Dd1CqfVB.js";import{V as Ys}from"./video-DSs5jwTy.js";import{c as Zs}from"./createLucideIcon-K4XsRM4s.js";import{T as Js,M as Ts}from"./target-DAww8gxx.js";import{B as Ks}from"./book-open-BmVyYByB.js";import{L as is}from"./lock-DhD3LVrS.js";import{U as Ms}from"./users-qHzLwLGu.js";import{C as ns}from"./calendar-SY8e5cqY.js";import{S as Bs}from"./send-Czy06ebh.js";import{U as Qs}from"./user-plus-Cr9C7Cy7.js";import{C as we}from"./circle-check-big-DgidILKK.js";import{P as Ws}from"./plus-BCAi1BLO.js";import{F as ws}from"./file-text-BYcZrii5.js";import{A as Xs}from"./arrow-left-Cs-Gj62D.js";import{C as et}from"./clock-CXYR9CRl.js";import{G as st}from"./graduation-cap-wEim3Acq.js";/* empty css            */import"./dropdown-menu-DFm38KBC.js";import"./index-BV2Piioo.js";import"./index-_fPUl1jC.js";import"./index-DTU29zgP.js";import"./triangle-alert-D32YsjSX.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],lt=Zs("Sparkles",tt),Ft=a=>{const e=Is.c(212),{template:t,existingRequest:n,enrollment:os,studentInfo:_e}=a,r=os?.scheduled_class||null,g=!!r,[p,Ne]=m.useState(!1),[f,Ce]=m.useState(""),[v,_s]=m.useState(!1),[b,Ds]=m.useState(null);let Se;e[0]===Symbol.for("react.memo_cache_sentinel")?(Se=[],e[0]=Se):Se=e[0];const[j,Cs]=m.useState(Se),[cs,Ss]=m.useState(!1),[c,ve]=m.useState(null),[h,Ls]=m.useState(null),[y,ks]=m.useState(""),zs=_e?.isRegularStudent??!0,As=_e?.isVerified??!1,o=zs&&As;let ke,qe;e[1]!==o?(ke=()=>{o&&Ps.get("/api/student/class-config").then(l=>Ds(l.data)).catch(at)},qe=[o],e[1]=o,e[2]=ke,e[3]=qe):(ke=e[2],qe=e[3]),m.useEffect(ke,qe);let ds;e:{if(!b){ds=null;break e}let l;if(e[4]!==b){const u=new Date,{min_advance_hours:as,operation_start_hour:N,operation_end_hour:Rs}=b;let Ns=u.getHours()+as;u.getMinutes()>0&&(Ns=Ns+1),l=new Date(u),l.setHours(Ns,0,0,0),l.getHours()>=Rs&&(l.setDate(l.getDate()+1),l.setHours(N,0,0,0)),l.getHours()<N&&l.setHours(N,0,0,0),e[4]=b,e[5]=l}else l=e[5];ds=l}const x=ds,qs=rt;let Pe,$e;e[6]!==x||e[7]!==p||e[8]!==t.id||e[9]!==o?(Pe=()=>{p&&o&&x&&(Ss(!0),ve(null),Ps.get(`/api/student/available-classes/${t.id}`,{params:{datetime:qs(x)}}).then(l=>{Cs(l.data.classes||[])}).catch(l=>{console.error("Error loading available classes:",l),Cs([])}).finally(()=>Ss(!1)))},$e=[p,o,x,t.id],e[6]=x,e[7]=p,e[8]=t.id,e[9]=o,e[10]=Pe,e[11]=$e):(Pe=e[10],$e=e[11]),m.useEffect(Pe,$e);let Ee,Te;e[12]!==x?(Ee=()=>{x&&Ls(x)},Te=[x],e[12]=x,e[13]=Ee,e[14]=Te):(Ee=e[13],Te=e[14]),m.useEffect(Ee,Te);let Me;e[15]!==j||e[16]!==h||e[17]!==r||e[18]!==n||e[19]!==f||e[20]!==y||e[21]!==c||e[22]!==t.id||e[23]!==o?(Me=()=>{if(n||r)return;_s(!0);let l=null;o?c?l=j.find(N=>N.id===c)?.scheduled_at||null:h&&(l=qs(h)):y&&(l=y);const u={class_template_id:t.id,message:f.trim()||null,requested_datetime:l,target_scheduled_class_id:o&&c?c:null};Us.post("/student/class-requests",u,{onSuccess:()=>{$s.success("춰Solicitud enviada! Te notificaremos cuando sea procesada."),Ne(!1),Ce(""),ve(null),ks("")},onError:as=>{const N=Object.values(as)[0]||"Error al enviar la solicitud";$s.error(N),_s(!1)}})},e[15]=j,e[16]=h,e[17]=r,e[18]=n,e[19]=f,e[20]=y,e[21]=c,e[22]=t.id,e[23]=o,e[24]=Me):Me=e[24];const ms=Me,Fs=it;let Be;e[25]!==r||e[26]!==n?(Be=r?{type:"enrolled",color:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-200",label:"Inscrito",description:`Clase programada para el ${new Date(r.scheduled_at).toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})}`}:n?{type:"requested",...{pending:{color:"bg-orange-500",textColor:"text-orange-700",bgColor:"bg-orange-50",borderColor:"border-orange-200",label:"Solicitud Pendiente",description:"Tu solicitud est치 siendo revisada por el equipo acad칠mico"},approved:{color:"bg-cyan-500",textColor:"text-cyan-700",bgColor:"bg-cyan-50",borderColor:"border-cyan-200",label:"Solicitud Aprobada",description:"Tu solicitud fue aprobada. Pronto te asignar치n una clase"},scheduled:{color:"bg-green-500",textColor:"text-green-700",bgColor:"bg-green-50",borderColor:"border-green-200",label:"Clase Programada",description:n.scheduled_class?`Tu clase est치 programada para el ${new Date(n.scheduled_class.scheduled_at).toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})}${n.scheduled_class.teacher?` con ${n.scheduled_class.teacher.name}`:""}`:"Ya tienes una clase asignada"},rejected:{color:"bg-red-500",textColor:"text-red-700",bgColor:"bg-red-50",borderColor:"border-red-200",label:"Solicitud Rechazada",description:n.admin_response||"Tu solicitud no fue aprobada"}}[n.status]}:{type:"available",color:"bg-gray-400",textColor:"text-gray-700",bgColor:"bg-gray-50",borderColor:"border-gray-200",label:"Disponible",description:"Puedes solicitar esta clase"},e[25]=r,e[26]=n,e[27]=Be):Be=e[27];const i=Be,d=g,Hs=nt;let De;e[28]!==t.intro_video_url?(De=t.intro_video_url?Hs(t.intro_video_url):null,e[28]=t.intro_video_url,e[29]=De):De=e[29];const Le=De;let w;e[30]!==t.title?(w=s.jsx(Vs,{title:t.title}),e[30]=t.title,e[31]=w):w=e[31];let ze;e[32]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs(Os,{href:"/student/my-classes",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(Xs,{className:"w-5 h-5"}),s.jsx("span",{children:"Volver a mis clases"})]})})}),e[32]=ze):ze=e[32];let _;e[33]!==t.intro_video_thumbnail||e[34]!==t.title||e[35]!==Le?(_=s.jsx("div",{className:"lg:col-span-3",children:s.jsx("div",{className:"relative aspect-video bg-gray-900 rounded-2xl overflow-hidden shadow-lg",children:Le?s.jsx("iframe",{src:Le,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):t.intro_video_thumbnail?s.jsxs("div",{className:"relative w-full h-full",children:[s.jsx("img",{src:t.intro_video_thumbnail,alt:t.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:s.jsx("div",{className:"w-20 h-20 rounded-full bg-white/90 flex items-center justify-center",children:s.jsx(vs,{className:"w-10 h-10 text-gray-800 ml-1"})})})]}):s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500",children:[s.jsx(Ys,{className:"w-16 h-16 mb-3 opacity-50"}),s.jsx("span",{className:"text-sm",children:"Video de introducci칩n no disponible"})]})})}),e[33]=t.intro_video_thumbnail,e[34]=t.title,e[35]=Le,e[36]=_):_=e[36];const xs=t.academic_level?.color||"#3B82F6";let C;e[37]!==xs?(C={backgroundColor:xs},e[37]=xs,e[38]=C):C=e[38];const hs=t.academic_level?.name;let S;e[39]!==C||e[40]!==hs?(S=s.jsx(rs,{style:C,className:"text-white border-0",children:hs}),e[39]=C,e[40]=hs,e[41]=S):S=e[41];let k;e[42]!==t.session_number?(k=s.jsxs(rs,{variant:"outline",children:["Sesi칩n ",t.session_number]}),e[42]=t.session_number,e[43]=k):k=e[43];let q;e[44]!==t.modality?(q=t.modality&&s.jsx(rs,{variant:"outline",className:"capitalize",children:t.modality==="theoretical"?"Te칩rico":"Pr치ctico"}),e[44]=t.modality,e[45]=q):q=e[45];let P;e[46]!==S||e[47]!==k||e[48]!==q?(P=s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[S,k,q]}),e[46]=S,e[47]=k,e[48]=q,e[49]=P):P=e[49];let $;e[50]!==t.title?($=s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3",children:t.title}),e[50]=t.title,e[51]=$):$=e[51];let E;e[52]!==t.description?(E=t.description&&s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:t.description}),e[52]=t.description,e[53]=E):E=e[53];let Ae;e[54]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx(et,{className:"w-4 h-4"}),e[54]=Ae):Ae=e[54];let T;e[55]!==t.duration_minutes?(T=s.jsxs("div",{className:"flex items-center gap-2",children:[Ae,s.jsxs("span",{children:[t.duration_minutes," minutos"]})]}),e[55]=t.duration_minutes,e[56]=T):T=e[56];let Fe;e[57]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx(Ts,{className:"w-4 h-4"}),e[57]=Fe):Fe=e[57];let M;e[58]!==t.questions.length?(M=s.jsxs("div",{className:"flex items-center gap-2",children:[Fe,s.jsxs("span",{children:[t.questions.length," preguntas"]})]}),e[58]=t.questions.length,e[59]=M):M=e[59];let He;e[60]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx(ws,{className:"w-4 h-4"}),e[60]=He):He=e[60];let B;e[61]!==t.resources.length?(B=s.jsxs("div",{className:"flex items-center gap-2",children:[He,s.jsxs("span",{children:[t.resources.length," recursos"]})]}),e[61]=t.resources.length,e[62]=B):B=e[62];let D;e[63]!==T||e[64]!==M||e[65]!==B?(D=s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mb-6",children:[T,M,B]}),e[63]=T,e[64]=M,e[65]=B,e[66]=D):D=e[66];const us=`rounded-xl p-4 ${i.bgColor} border ${i.borderColor} mb-4`,gs=`w-2.5 h-2.5 rounded-full ${i.color}`;let L;e[67]!==gs?(L=s.jsx("div",{className:gs}),e[67]=gs,e[68]=L):L=e[68];const ps=`font-semibold ${i.textColor}`;let z;e[69]!==i.label||e[70]!==ps?(z=s.jsx("span",{className:ps,children:i.label}),e[69]=i.label,e[70]=ps,e[71]=z):z=e[71];let A;e[72]!==L||e[73]!==z?(A=s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[L,z]}),e[72]=L,e[73]=z,e[74]=A):A=e[74];const fs=`text-sm ${i.textColor} opacity-80`;let F;e[75]!==i.description||e[76]!==fs?(F=s.jsx("p",{className:fs,children:i.description}),e[75]=i.description,e[76]=fs,e[77]=F):F=e[77];let H;e[78]!==us||e[79]!==A||e[80]!==F?(H=s.jsxs("div",{className:us,children:[A,F]}),e[78]=us,e[79]=A,e[80]=F,e[81]=H):H=e[81];let R;e[82]!==i.type?(R=i.type==="available"&&s.jsxs(ye,{className:"w-full bg-[#073372] hover:bg-[#052555] text-white h-12 text-base",onClick:()=>Ne(!0),children:[s.jsx(lt,{className:"w-5 h-5 mr-2"}),"Solicitar esta Clase"]}),e[82]=i.type,e[83]=R):R=e[83];let I;e[84]!==r||e[85]!==i.type?(I=i.type==="enrolled"&&r?.meet_url&&s.jsx("a",{href:r.meet_url,target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:s.jsxs(ye,{className:"w-full bg-green-600 hover:bg-green-700 h-12 text-base",children:[s.jsx(vs,{className:"w-5 h-5 mr-2"}),"Entrar a la clase"]})}),e[84]=r,e[85]=i.type,e[86]=I):I=e[86];let V;e[87]!==n||e[88]!==i.type?(V=i.type==="requested"&&n?.status==="scheduled"&&n?.scheduled_class?.meet_url&&s.jsx("a",{href:n.scheduled_class.meet_url,target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:s.jsxs(ye,{className:"w-full bg-green-600 hover:bg-green-700 h-12 text-base",children:[s.jsx(vs,{className:"w-5 h-5 mr-2"}),"Entrar a la clase"]})}),e[87]=n,e[88]=i.type,e[89]=V):V=e[89];let U;e[90]!==n?.status||e[91]!==i.type?(U=i.type==="requested"&&n?.status==="rejected"&&s.jsx(ye,{variant:"outline",className:"w-full h-12 text-base",onClick:()=>Ne(!0),children:"Volver a solicitar"}),e[90]=n?.status,e[91]=i.type,e[92]=U):U=e[92];let O;e[93]!==R||e[94]!==I||e[95]!==V||e[96]!==U?(O=s.jsxs("div",{className:"mt-auto",children:[R,I,V,U]}),e[93]=R,e[94]=I,e[95]=V,e[96]=U,e[97]=O):O=e[97];let G;e[98]!==P||e[99]!==$||e[100]!==E||e[101]!==D||e[102]!==H||e[103]!==O?(G=s.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[P,$,E,D,H,O]}),e[98]=P,e[99]=$,e[100]=E,e[101]=D,e[102]=H,e[103]=O,e[104]=G):G=e[104];let Y;e[105]!==_||e[106]!==G?(Y=s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[_,G]})})}),e[105]=_,e[106]=G,e[107]=Y):Y=e[107];let Z;e[108]!==t.objectives?(Z=t.objectives&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Js,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Objetivos de Aprendizaje"})]})}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"rich-content text-gray-900 max-w-none whitespace-pre-line",children:t.objectives})})]}),e[108]=t.objectives,e[109]=Z):Z=e[109];let J;e[110]!==t.content?(J=t.content&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Ks,{className:"w-5 h-5 text-purple-600"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Contenido de la Clase"})]})}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"rich-content max-w-none",dangerouslySetInnerHTML:{__html:t.content}})})]}),e[110]=t.content,e[111]=J):J=e[111];let Re,Ie;e[112]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:s.jsx(Ts,{className:"w-5 h-5 text-amber-600"})}),Ie=s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preguntas de Discusi칩n"}),e[112]=Re,e[113]=Ie):(Re=e[112],Ie=e[113]);let K;e[114]!==t.questions.length?(K=s.jsxs("div",{className:"flex items-center gap-3",children:[Re,s.jsxs("div",{children:[Ie,s.jsxs("p",{className:"text-sm text-gray-500",children:[t.questions.length," preguntas preparadas"]})]})]}),e[114]=t.questions.length,e[115]=K):K=e[115];let Q;e[116]!==d?(Q=!d&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Bloqueado"})]}),e[116]=d,e[117]=Q):Q=e[117];let W;e[118]!==K||e[119]!==Q?(W=s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[K,Q]})}),e[118]=K,e[119]=Q,e[120]=W):W=e[120];let X;e[121]!==d||e[122]!==t.academic_level?.color||e[123]!==t.questions?(X=d?s.jsx("div",{className:"px-6 py-4",children:t.questions.length>0?s.jsx("div",{className:"space-y-3",children:t.questions.sort(ot).map((l,u)=>s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-gray-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 text-sm font-bold text-white",style:{backgroundColor:t.academic_level?.color||"#073372"},children:u+1}),s.jsx("p",{className:"text-gray-700 leading-relaxed pt-1",children:l.question})]},l.id))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay preguntas definidas"})}):s.jsxs("div",{className:"px-6 py-8 text-center",children:[s.jsx(is,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-gray-500 mb-1",children:"Contenido bloqueado"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Solicita esta clase para ver las preguntas de discusi칩n"})]}),e[121]=d,e[122]=t.academic_level?.color,e[123]=t.questions,e[124]=X):X=e[124];let ee;e[125]!==W||e[126]!==X?(ee=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[W,X]}),e[125]=W,e[126]=X,e[127]=ee):ee=e[127];let Ve,Ue;e[128]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(ws,{className:"w-5 h-5 text-green-600"})}),Ue=s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recursos de la Clase"}),e[128]=Ve,e[129]=Ue):(Ve=e[128],Ue=e[129]);let se;e[130]!==t.resources.length?(se=s.jsxs("div",{className:"flex items-center gap-3",children:[Ve,s.jsxs("div",{children:[Ue,s.jsxs("p",{className:"text-sm text-gray-500",children:[t.resources.length," materiales disponibles"]})]})]}),e[130]=t.resources.length,e[131]=se):se=e[131];let te;e[132]!==d?(te=!d&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(is,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Bloqueado"})]}),e[132]=d,e[133]=te):te=e[133];let le;e[134]!==se||e[135]!==te?(le=s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[se,te]})}),e[134]=se,e[135]=te,e[136]=le):le=e[136];let ae;e[137]!==d||e[138]!==t.resources?(ae=d?s.jsx("div",{className:"px-6 py-4",children:t.resources.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.resources.map(ct)}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay recursos disponibles"})}):s.jsxs("div",{className:"px-6 py-8 text-center",children:[s.jsx(is,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-gray-500 mb-1",children:"Contenido bloqueado"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Solicita esta clase para acceder a los recursos"})]}),e[137]=d,e[138]=t.resources,e[139]=ae):ae=e[139];let re;e[140]!==le||e[141]!==ae?(re=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[le,ae]}),e[140]=le,e[141]=ae,e[142]=re):re=e[142];let ie;e[143]!==Z||e[144]!==J||e[145]!==ee||e[146]!==re?(ie=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[Z,J,ee,re]}),e[143]=Z,e[144]=J,e[145]=ee,e[146]=re,e[147]=ie):ie=e[147];let Oe;e[148]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(st,{className:"w-5 h-5 text-[#073372]"}),"Informaci칩n de la Clase"]}),e[148]=Oe):Oe=e[148];let Ge;e[149]===Symbol.for("react.memo_cache_sentinel")?(Ge=s.jsx("span",{className:"text-gray-500 text-sm",children:"Nivel"}),e[149]=Ge):Ge=e[149];const bs=t.academic_level?.color||"#3B82F6";let ne;e[150]!==bs?(ne={backgroundColor:bs},e[150]=bs,e[151]=ne):ne=e[151];const js=t.academic_level?.name;let oe;e[152]!==ne||e[153]!==js?(oe=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Ge,s.jsx(rs,{style:ne,className:"text-white border-0",children:js})]}),e[152]=ne,e[153]=js,e[154]=oe):oe=e[154];let Ye;e[155]===Symbol.for("react.memo_cache_sentinel")?(Ye=s.jsx("span",{className:"text-gray-500 text-sm",children:"Sesi칩n"}),e[155]=Ye):Ye=e[155];let ce;e[156]!==t.session_number?(ce=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Ye,s.jsx("span",{className:"font-medium text-gray-900",children:t.session_number})]}),e[156]=t.session_number,e[157]=ce):ce=e[157];let Ze;e[158]===Symbol.for("react.memo_cache_sentinel")?(Ze=s.jsx("span",{className:"text-gray-500 text-sm",children:"Modalidad"}),e[158]=Ze):Ze=e[158];const ys=t.modality==="theoretical"?"Te칩rico":t.modality==="practical"?"Pr치ctico":"-";let de;e[159]!==ys?(de=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Ze,s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:ys})]}),e[159]=ys,e[160]=de):de=e[160];let Je;e[161]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsx("span",{className:"text-gray-500 text-sm",children:"Duraci칩n"}),e[161]=Je):Je=e[161];let me;e[162]!==t.duration_minutes?(me=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Je,s.jsxs("span",{className:"font-medium text-gray-900",children:[t.duration_minutes," min"]})]}),e[162]=t.duration_minutes,e[163]=me):me=e[163];let Ke;e[164]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsx("span",{className:"text-gray-500 text-sm",children:"Preguntas"}),e[164]=Ke):Ke=e[164];let xe;e[165]!==t.questions.length?(xe=s.jsxs("div",{className:"flex items-center justify-between py-2",children:[Ke,s.jsx("span",{className:"font-medium text-gray-900",children:t.questions.length})]}),e[165]=t.questions.length,e[166]=xe):xe=e[166];let he;e[167]!==oe||e[168]!==ce||e[169]!==de||e[170]!==me||e[171]!==xe?(he=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[Oe,s.jsxs("div",{className:"space-y-3",children:[oe,ce,de,me,xe]})]}),e[167]=oe,e[168]=ce,e[169]=de,e[170]=me,e[171]=xe,e[172]=he):he=e[172];let Qe;e[173]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"游눠 Consejos"}),e[173]=Qe):Qe=e[173];let We;e[174]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(we,{className:"w-4 h-4 mt-0.5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Revisa los objetivos antes de la clase"})]}),e[174]=We):We=e[174];let Xe;e[175]===Symbol.for("react.memo_cache_sentinel")?(Xe=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(we,{className:"w-4 h-4 mt-0.5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Prepara vocabulario relacionado al tema"})]}),e[175]=Xe):Xe=e[175];let es;e[176]===Symbol.for("react.memo_cache_sentinel")?(es=s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(we,{className:"w-4 h-4 mt-0.5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"No tengas miedo de cometer errores"})]}),e[176]=es):es=e[176];let ss;e[177]===Symbol.for("react.memo_cache_sentinel")?(ss=s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-100 p-6",children:[Qe,s.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[We,Xe,es,s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(we,{className:"w-4 h-4 mt-0.5 text-blue-500 flex-shrink-0"}),s.jsx("span",{children:"Participa activamente en las discusiones"})]})]})]}),e[177]=ss):ss=e[177];let ue;e[178]!==r||e[179]!==g?(ue=g&&r?.teacher&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Ms,{className:"w-5 h-5 text-[#073372]"}),"Tu Profesor"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#073372] flex items-center justify-center text-white font-bold",children:r.teacher.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:r.teacher.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Instructor"})]})]})]}),e[178]=r,e[179]=g,e[180]=ue):ue=e[180];let ge;e[181]!==r||e[182]!==g?(ge=g&&r&&s.jsxs("div",{className:"bg-green-50 rounded-xl border border-green-200 p-6",children:[s.jsxs("h3",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[s.jsx(ns,{className:"w-5 h-5"}),"Clase Programada"]}),s.jsx("p",{className:"text-green-800",children:new Date(r.scheduled_at).toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e[181]=r,e[182]=g,e[183]=ge):ge=e[183];let pe;e[184]!==he||e[185]!==ue||e[186]!==ge?(pe=s.jsxs("div",{className:"space-y-6",children:[he,ss,ue,ge]}),e[184]=he,e[185]=ue,e[186]=ge,e[187]=pe):pe=e[187];let fe;e[188]!==ie||e[189]!==pe?(fe=s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[ie,pe]})}),e[188]=ie,e[189]=pe,e[190]=fe):fe=e[190];let be;e[191]!==Y||e[192]!==fe?(be=s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[ze,Y,fe]}),e[191]=Y,e[192]=fe,e[193]=be):be=e[193];let ts;e[194]===Symbol.for("react.memo_cache_sentinel")?(ts=s.jsx("style",{children:`
        .rich-content h1 { 
          font-size: 1.75rem; 
          font-weight: 700; 
          margin: 1.5rem 0 0.75rem; 
          line-height: 1.2;
          color: #111827;
        }
        .rich-content h2 { 
          font-size: 1.375rem; 
          font-weight: 600; 
          margin: 1.25rem 0 0.5rem; 
          line-height: 1.3;
          color: #1f2937;
        }
        .rich-content h3 { 
          font-size: 1.125rem; 
          font-weight: 600; 
          margin: 1rem 0 0.5rem;
          color: #374151;
        }
        .rich-content p {
          margin: 0.5rem 0;
          line-height: 1.6;
          color: #374151;
        }
        .rich-content ul, .rich-content ol { 
          padding-left: 1.5rem; 
          margin: 0.75rem 0; 
        }
        .rich-content li { 
          margin: 0.25rem 0;
          line-height: 1.6;
        }
        .rich-content ul { list-style-type: disc; }
        .rich-content ol { list-style-type: decimal; }
        .rich-content blockquote { 
          border-left: 4px solid #e5e7eb; 
          padding-left: 1rem; 
          margin: 1rem 0;
          color: #6b7280;
          font-style: italic;
        }
        .rich-content pre {
          background: #1f2937;
          color: #e5e7eb;
          padding: 1rem;
          border-radius: 0.5rem;
          font-family: 'Fira Code', 'Monaco', monospace;
          overflow-x: auto;
          margin: 1rem 0;
        }
        .rich-content code {
          background: #f3f4f6;
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-family: 'Fira Code', 'Monaco', monospace;
          font-size: 0.875em;
        }
        .rich-content pre code {
          background: none;
          padding: 0;
          color: inherit;
        }
        .rich-content img {
          max-width: 100%;
          height: auto;
          border-radius: 0.5rem;
          margin: 1rem 0;
        }
        .rich-content a {
          color: #3b82f6;
          text-decoration: underline;
          cursor: pointer;
        }
        .rich-content a:hover {
          color: #2563eb;
        }
        .rich-content hr {
          border: none;
          border-top: 2px solid #e5e7eb;
          margin: 1.5rem 0;
        }
        .rich-content strong {
          font-weight: 600;
        }
        .rich-content em {
          font-style: italic;
        }
        .rich-content u {
          text-decoration: underline;
        }
        /* Text alignment */
        .rich-content [style*="text-align: center"] {
          text-align: center;
        }
        .rich-content [style*="text-align: right"] {
          text-align: right;
        }
        .rich-content [style*="text-align: left"] {
          text-align: left;
        }
      `}),e[194]=ts):ts=e[194];let je;e[195]!==j||e[196]!==h||e[197]!==b?.min_advance_hours||e[198]!==ms||e[199]!==cs||e[200]!==f||e[201]!==y||e[202]!==c||e[203]!==p||e[204]!==v||e[205]!==t.title||e[206]!==o?(je=p&&s.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>!v&&Ne(!1),children:s.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg",onClick:dt,children:[s.jsx("div",{className:"bg-gradient-to-r from-[#073372] to-[#17BC91] px-6 py-5 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:s.jsx(Bs,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Solicitar Clase"}),s.jsx("p",{className:"text-blue-100 text-sm",children:t.title})]})]})}),s.jsx("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:o?s.jsxs(s.Fragment,{children:[h&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[s.jsx(ns,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"Tu pr칩ximo horario disponible"})]}),s.jsx("p",{className:"text-blue-900 font-medium capitalize",children:Fs(h)}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Las clases deben solicitarse con al menos ",b?.min_advance_hours||1," hora(s) de anticipaci칩n"]})]}),cs?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"w-8 h-8 border-3 border-[#073372]/30 border-t-[#073372] rounded-full animate-spin"}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Buscando clases disponibles..."})]}):j.length>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-gray-700 font-medium flex items-center gap-2",children:[s.jsx(Ms,{className:"w-4 h-4 text-[#17BC91]"}),"Grupos disponibles para este horario:"]}),j.map(l=>s.jsxs("div",{onClick:()=>ve(l.id===c?null:l.id),className:`p-4 rounded-xl border-2 cursor-pointer transition-all ${c===l.id?"border-[#17BC91] bg-[#17BC91]/5":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c===l.id?"bg-[#17BC91] text-white":"bg-gray-100 text-gray-600"}`,children:s.jsx(Qs,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:l.teacher?.name||"Profesor por asignar"}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(l.scheduled_at).toLocaleTimeString("es-PE",{hour:"2-digit",minute:"2-digit"})})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${l.available_spots<=2?"bg-orange-100 text-orange-700":"bg-green-100 text-green-700"}`,children:[l.enrolled_count,"/",l.max_students," estudiantes"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.available_spots," cupo",l.available_spots!==1?"s":""," disponible",l.available_spots!==1?"s":""]})]})]}),c===l.id&&s.jsx("div",{className:"mt-3 pt-3 border-t border-[#17BC91]/20",children:s.jsxs("p",{className:"text-sm text-[#17BC91] flex items-center gap-1",children:[s.jsx(we,{className:"w-4 h-4"}),"Solicitar unirse a este grupo"]})})]},l.id)),s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsxs("button",{onClick:()=>ve(null),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${c===null?"border-[#073372] bg-[#073372]/5":"border-dashed border-gray-300 hover:border-gray-400"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${c===null?"bg-[#073372] text-white":"bg-gray-100 text-gray-600"}`,children:s.jsx(Ws,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Solicitar nueva clase"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Se crear치 un nuevo grupo para este horario"})]})]})})]}):s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ns,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-gray-700 font-medium",children:"No hay grupos disponibles"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Se solicitar치 crear una nueva clase para este horario"})]}),s.jsx(Es,{label:"Mensaje (opcional)",value:f,onChange:l=>Ce(l.target.value),placeholder:"쯊ienes alg칰n comentario adicional?",rows:2})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-600",children:"쮻eseas solicitar esta clase? Nuestro equipo acad칠mico revisar치 tu solicitud y te programar치 una sesi칩n."}),s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:[s.jsxs("label",{className:"flex items-center gap-2 text-purple-800 mb-3",children:[s.jsx(ns,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:"쮺u치ndo te gustar칤a tomar la clase?"})]}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"datetime-local",value:y,onChange:l=>ks(l.target.value),className:"w-full h-14 px-4 bg-white border-2 border-purple-300 rounded-lg text-gray-900 text-base cursor-pointer focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-200 hover:border-purple-400 transition-all duration-200",style:{colorScheme:"light"}})}),s.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"Haz clic en el campo para seleccionar fecha y hora. El equipo acad칠mico lo revisar치 y confirmar치."})]}),s.jsx(Es,{label:"Mensaje adicional (opcional)",value:f,onChange:l=>Ce(l.target.value),placeholder:"쮸lg칰n comentario o preferencia adicional?",rows:2})]})}),s.jsxs("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end gap-3 border-t",children:[s.jsx(ye,{variant:"outline",onClick:()=>{Ne(!1),ve(null),Ce("")},disabled:v,children:"Cancelar"}),s.jsx(ye,{onClick:ms,disabled:v||o&&!h,className:"bg-[#073372] hover:bg-[#052555]",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bs,{className:"w-4 h-4 mr-2"}),c?"Solicitar Unirme":"Enviar Solicitud"]})})]})]})}),e[195]=j,e[196]=h,e[197]=b?.min_advance_hours,e[198]=ms,e[199]=cs,e[200]=f,e[201]=y,e[202]=c,e[203]=p,e[204]=v,e[205]=t.title,e[206]=o,e[207]=je):je=e[207];let ls;return e[208]!==w||e[209]!==be||e[210]!==je?(ls=s.jsxs(Gs,{children:[w,be,ts,je]}),e[208]=w,e[209]=be,e[210]=je,e[211]=ls):ls=e[211],ls};function at(a){return console.error("Error loading class config:",a)}function rt(a){const e=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0"),os=String(a.getHours()).padStart(2,"0"),_e=String(a.getMinutes()).padStart(2,"0"),r=String(a.getSeconds()).padStart(2,"0");return`${e}-${t}-${n}T${os}:${_e}:${r}`}function it(a){return a.toLocaleString("es-PE",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})}function nt(a){if(!a)return null;const e=a.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(e)return`https://www.youtube.com/embed/${e[1]}`;const t=a.match(/vimeo\.com\/(\d+)/);return t?`https://player.vimeo.com/video/${t[1]}`:a}function ot(a,e){return a.order-e.order}function ct(a){return s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-gray-300 transition-colors cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(ws,{className:"w-5 h-5 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.title}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:a.type})]})]},a.id)}function dt(a){return a.stopPropagation()}export{Ft as default};
