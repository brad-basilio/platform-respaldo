import{c as V,r as $,j as s,H as F,L as J}from"./app-KPmqvMTa.js";import{A as K}from"./AuthenticatedLayout-C4ZEayIc.js";import{B as M}from"./badge-CYZl1_Bf.js";import{B as O}from"./button-fdp7SNS6.js";import{C as k,a as T}from"./card-BdQrzOsi.js";import{I as Q}from"./input-Dc4FiR_e.js";import{P as W}from"./progress-CXw01Ztk.js";import{U as X}from"./users-vJCjkHpK.js";import{M as Y}from"./mail-v8N68fS4.js";import{P as Z}from"./phone-BuFSm2OI.js";import{C as ee}from"./chevron-up-A7PrN8Pv.js";import{C as se}from"./chevron-down-D055FW7k.js";import{C as te}from"./circle-check-big-CTbQCZge.js";import{G as ae}from"./graduation-cap-BGCdGqCn.js";import{A as le}from"./arrow-left-Db5eX0EX.js";import{S as re}from"./search-CL0NRwIX.js";/* empty css            */import"./dropdown-menu-h4YyKOSn.js";import"./createLucideIcon-PoozB8hw.js";import"./index-B_fMtRaF.js";import"./index-BJH3MYEZ.js";import"./index-C3n1hn6C.js";import"./x-TeHIxAo4.js";import"./triangle-alert-DCXe2EAo.js";import"./clock-CJ19qoG5.js";import"./clsx-B-dksMZM.js";function ke(m){const e=V.c(54),{students:d,stats:a}=m,[l,G]=$.useState(""),[n,R]=$.useState(null);let x,h,i,p,f,c,o;if(e[0]!==n||e[1]!==l||e[2]!==a.activeStudents||e[3]!==a.graduatedStudents||e[4]!==a.totalStudents||e[5]!==d){let C;e[13]!==l?(C=t=>`${t.first_name} ${t.last_name}`.toLowerCase().includes(l.toLowerCase())||t.email.toLowerCase().includes(l.toLowerCase()),e[13]=l,e[14]=C):C=e[14];const H=d.filter(C);let _;e[15]!==n?(_=t=>{R(n===t?null:t)},e[15]=n,e[16]=_):_=e[16];const q=_,z=ce,I=ie;x=K,e[17]===Symbol.for("react.memo_cache_sentinel")?(o=s.jsx(F,{title:"Mis Participantes"}),e[17]=o):o=e[17],f="min-h-screen bg-gray-100";let P;e[18]===Symbol.for("react.memo_cache_sentinel")?(P=s.jsxs("div",{children:[s.jsxs(J,{href:"/dashboard",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-2",children:[s.jsx(le,{className:"w-4 h-4"}),"Volver al Dashboard"]}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Participantes"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Aprendices de tus clases asignadas"})]}),e[18]=P):P=e[18];let u;e[19]!==a.totalStudents?(u=s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.totalStudents}),e[19]=a.totalStudents,e[20]=u):u=e[20];let E;e[21]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx("div",{className:"text-blue-600",children:"Total"}),e[21]=E):E=e[21];let b;e[22]!==u?(b=s.jsxs("div",{className:"text-center px-4 py-2 bg-blue-50 rounded-lg",children:[u,E]}),e[22]=u,e[23]=b):b=e[23];let N;e[24]!==a.activeStudents?(N=s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.activeStudents}),e[24]=a.activeStudents,e[25]=N):N=e[25];let L;e[26]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("div",{className:"text-orange-600",children:"En Progreso"}),e[26]=L):L=e[26];let v;e[27]!==N?(v=s.jsxs("div",{className:"text-center px-4 py-2 bg-orange-50 rounded-lg",children:[N,L]}),e[27]=N,e[28]=v):v=e[28];let y;e[29]!==a.graduatedStudents?(y=s.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:a.graduatedStudents}),e[29]=a.graduatedStudents,e[30]=y):y=e[30];let A;e[31]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("div",{className:"text-emerald-600",children:"Completaron"}),e[31]=A):A=e[31];let S;e[32]!==y?(S=s.jsxs("div",{className:"text-center px-4 py-2 bg-emerald-50 rounded-lg",children:[y,A]}),e[32]=y,e[33]=S):S=e[33],e[34]!==b||e[35]!==v||e[36]!==S?(c=s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[P,s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[b,v,S]})]})})}),e[34]=b,e[35]=v,e[36]=S,e[37]=c):c=e[37],h="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6";let B;e[38]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(re,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e[38]=B):B=e[38];let D;e[39]===Symbol.for("react.memo_cache_sentinel")?(D=t=>G(t.target.value),e[39]=D):D=e[39],e[40]!==l?(i=s.jsx(k,{className:"mb-6",children:s.jsx(T,{className:"py-4",children:s.jsxs("div",{className:"relative",children:[B,s.jsx(Q,{type:"text",placeholder:"Buscar por nombre o email...",value:l,onChange:D,className:"pl-10"})]})})}),e[40]=l,e[41]=i):i=e[41],p=H.length===0?s.jsx(k,{children:s.jsxs(T,{className:"py-12 text-center",children:[s.jsx(X,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay participantes"}),s.jsx("p",{className:"text-gray-600",children:l?"No se encontraron participantes con ese criterio de búsqueda.":"Aún no tienes aprendices asignados en tus clases."})]})}):s.jsx("div",{className:"space-y-4",children:H.map(t=>s.jsx(k,{className:"overflow-hidden",children:s.jsxs(T,{className:"p-0",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>q(t.id),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold",style:{backgroundColor:t.academic_level_color},children:t.first_name.charAt(0)}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:[t.first_name," ",t.last_name]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Y,{className:"w-4 h-4"}),t.email]}),t.phone&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Z,{className:"w-4 h-4"}),t.phone]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"text-right",children:[s.jsx(M,{variant:"outline",style:{borderColor:t.academic_level_color,color:t.academic_level_color},children:t.academic_level}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("span",{className:"text-sm text-gray-600",children:[t.completed_classes,"/",t.total_classes," clases"]}),s.jsx(W,{value:t.progress,className:"w-24 h-2"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[t.progress,"%"]})]})]}),s.jsx(O,{variant:"ghost",size:"icon",children:n===t.id?s.jsx(ee,{className:"w-5 h-5"}):s.jsx(se,{className:"w-5 h-5"})})]})]}),n===t.id&&s.jsxs("div",{className:"border-t bg-gray-50 p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Historial de Clases"}),s.jsx("div",{className:"grid gap-2",children:t.enrollments.map(r=>{const U=z(r.status,r.attended,r.exam_completed);return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded bg-[#073372] text-white flex items-center justify-center text-sm font-bold",children:r.session_number}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 text-sm",children:r.class_title}),s.jsx("p",{className:"text-xs text-gray-500",children:I(r.scheduled_at)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.attended&&s.jsxs(M,{variant:"outline",className:"text-xs text-emerald-600 border-emerald-300",children:[s.jsx(te,{className:"w-3 h-3 mr-1"}),"Asistió"]}),r.exam_completed&&s.jsxs(M,{variant:"outline",className:"text-xs text-blue-600 border-blue-300",children:[s.jsx(ae,{className:"w-3 h-3 mr-1"}),"Examen ✓"]}),s.jsx(M,{className:U.color,children:U.label})]})]},r.id)})})]})]})},t.id))}),e[0]=n,e[1]=l,e[2]=a.activeStudents,e[3]=a.graduatedStudents,e[4]=a.totalStudents,e[5]=d,e[6]=x,e[7]=h,e[8]=i,e[9]=p,e[10]=f,e[11]=c,e[12]=o}else x=e[6],h=e[7],i=e[8],p=e[9],f=e[10],c=e[11],o=e[12];let g;e[42]!==h||e[43]!==i||e[44]!==p?(g=s.jsxs("div",{className:h,children:[i,p]}),e[42]=h,e[43]=i,e[44]=p,e[45]=g):g=e[45];let j;e[46]!==f||e[47]!==c||e[48]!==g?(j=s.jsxs("div",{className:f,children:[c,g]}),e[46]=f,e[47]=c,e[48]=g,e[49]=j):j=e[49];let w;return e[50]!==x||e[51]!==o||e[52]!==j?(w=s.jsxs(x,{children:[o,j]}),e[50]=x,e[51]=o,e[52]=j,e[53]=w):w=e[53],w}function ie(m){return new Date(m).toLocaleDateString("es-PE",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}function ce(m,e,d){return m==="completed"&&e&&d?{label:"Completada",color:"bg-emerald-100 text-emerald-700"}:m==="completed"&&e&&!d?{label:"Pendiente examen",color:"bg-amber-100 text-amber-700"}:m==="in_progress"?{label:"En curso",color:"bg-blue-100 text-blue-700"}:{label:"Programada",color:"bg-gray-100 text-gray-700"}}export{ke as default};
