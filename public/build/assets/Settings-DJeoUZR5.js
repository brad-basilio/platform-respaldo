import{r as K,c as Re,u as U,j as o,H as Be}from"./app-Bj4oX3Rh.js";import{R as $,A as Ae,a as fe,b as Me,c as me,d as Fe,t as E}from"./AuthenticatedLayout-BerwqAUU.js";import{S as He,I as ne}from"./input-B09Dx21v.js";/* empty css            */import"./button-D49wP_hF.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-B1SwgLJg.js";import"./createLucideIcon-nKcviYrd.js";import"./index-9_7zjKb1.js";import"./index-B1MRhvqq.js";import"./index-gXFAwOtZ.js";import"./badge-CoQnd23r.js";import"./file-text-BgBj-u2X.js";import"./triangle-alert-C3U3U5Y3.js";import"./circle-check-big-Bq9DlSil.js";import"./clock-BXdBXXJX.js";var ie={exports:{}},oe,he;function ze(){if(he)return oe;he=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oe=n,oe}var se,ge;function qe(){if(ge)return se;ge=1;var n=ze();function e(){}function r(){}return r.resetWarningCache=e,se=function(){function i(t,c,d,p,f,u){if(u!==n){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},se}var ve;function We(){return ve||(ve=1,ie.exports=qe()()),ie.exports}var a=We(),de=function(){return de=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},de.apply(this,arguments)},Se={onActivate:a.func,onAddUndo:a.func,onBeforeAddUndo:a.func,onBeforeExecCommand:a.func,onBeforeGetContent:a.func,onBeforeRenderUI:a.func,onBeforeSetContent:a.func,onBeforePaste:a.func,onBlur:a.func,onChange:a.func,onClearUndos:a.func,onClick:a.func,onContextMenu:a.func,onCommentChange:a.func,onCompositionEnd:a.func,onCompositionStart:a.func,onCompositionUpdate:a.func,onCopy:a.func,onCut:a.func,onDblclick:a.func,onDeactivate:a.func,onDirty:a.func,onDrag:a.func,onDragDrop:a.func,onDragEnd:a.func,onDragGesture:a.func,onDragOver:a.func,onDrop:a.func,onExecCommand:a.func,onFocus:a.func,onFocusIn:a.func,onFocusOut:a.func,onGetContent:a.func,onHide:a.func,onInit:a.func,onInput:a.func,onKeyDown:a.func,onKeyPress:a.func,onKeyUp:a.func,onLoadContent:a.func,onMouseDown:a.func,onMouseEnter:a.func,onMouseLeave:a.func,onMouseMove:a.func,onMouseOut:a.func,onMouseOver:a.func,onMouseUp:a.func,onNodeChange:a.func,onObjectResizeStart:a.func,onObjectResized:a.func,onObjectSelected:a.func,onPaste:a.func,onPostProcess:a.func,onPostRender:a.func,onPreProcess:a.func,onProgressState:a.func,onRedo:a.func,onRemove:a.func,onReset:a.func,onSaveContent:a.func,onSelectionChange:a.func,onSetAttrib:a.func,onSetContent:a.func,onShow:a.func,onSubmit:a.func,onUndo:a.func,onVisualAid:a.func,onSkinLoadError:a.func,onThemeLoadError:a.func,onModelLoadError:a.func,onPluginLoadError:a.func,onIconsLoadError:a.func,onLanguageLoadError:a.func,onScriptsLoad:a.func,onScriptsLoadError:a.func},Ge=de({apiKey:a.string,licenseKey:a.string,id:a.string,inline:a.bool,init:a.object,initialValue:a.string,onEditorChange:a.func,value:a.string,tagName:a.string,tabIndex:a.number,cloudChannel:a.string,plugins:a.oneOfType([a.string,a.array]),toolbar:a.oneOfType([a.string,a.array]),disabled:a.bool,readonly:a.bool,textareaName:a.string,tinymceScriptSrc:a.oneOfType([a.string,a.arrayOf(a.string),a.arrayOf(a.shape({src:a.string,async:a.bool,defer:a.bool}))]),rollback:a.oneOfType([a.number,a.oneOf([!1])]),scriptLoading:a.shape({async:a.bool,defer:a.bool,delay:a.number})},Se),Ne=function(n){var e=n;return e&&e.tinymce?e.tinymce:null},le=function(n){return typeof n=="function"},ye=function(n){return n in Se},be=function(n){return n.substr(2)},Ke=function(n,e,r,i,s,l,t){var c=Object.keys(s).filter(ye),d=Object.keys(l).filter(ye),p=c.filter(function(u){return l[u]===void 0}),f=d.filter(function(u){return s[u]===void 0});p.forEach(function(u){var g=be(u),b=t[g];r(g,b),delete t[g]}),f.forEach(function(u){var g=i(n,u),b=be(u);t[b]=g,e(b,g)})},Ve=function(n,e,r,i,s){return Ke(s,n.on.bind(n),n.off.bind(n),function(l,t){return function(c){var d;return(d=l(t))===null||d===void 0?void 0:d(c,n)}},e,r,i)},xe=0,Ee=function(n){var e=Date.now(),r=Math.floor(Math.random()*1e9);return xe++,n+"_"+r+xe+String(e)},_e=function(n){return n!==null&&(n.tagName.toLowerCase()==="textarea"||n.tagName.toLowerCase()==="input")},we=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},Ue=function(n,e){return we(n).concat(we(e))},$e=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},Je=function(n){if(!("isConnected"in Node.prototype)){for(var e=n,r=n.parentNode;r!=null;)e=r,r=e.parentNode;return e===n.ownerDocument}return n.isConnected},je=function(n,e){n!==void 0&&(n.mode!=null&&typeof n.mode=="object"&&typeof n.mode.set=="function"?n.mode.set(e):n.setMode(e))},Xe=function(n){var e=Ne(n);if(!e)throw new Error("tinymce should have been loaded into global scope");return e},Ce=function(n){return n.options&&n.options.isRegistered("disabled")},ue=function(){return ue=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},ue.apply(this,arguments)},Ye=function(n,e,r){var i,s,l=n.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.id=e.id,l.src=e.src,l.async=(i=e.async)!==null&&i!==void 0?i:!1,l.defer=(s=e.defer)!==null&&s!==void 0?s:!1;var t=function(){l.removeEventListener("load",t),l.removeEventListener("error",c),r(e.src)},c=function(d){l.removeEventListener("load",t),l.removeEventListener("error",c),r(e.src,d)};l.addEventListener("load",t),l.addEventListener("error",c),n.head&&n.head.appendChild(l)},Qe=function(n){var e={},r=function(t,c){var d=e[t];d.done=!0,d.error=c;for(var p=0,f=d.handlers;p<f.length;p++){var u=f[p];u(t,c)}d.handlers=[]},i=function(t,c,d){var p=function(y){return d!==void 0?d(y):console.error(y)};if(t.length===0){p(new Error("At least one script must be provided"));return}for(var f=0,u=!1,g=function(y,j){u||(j?(u=!0,p(j)):++f===t.length&&c())},b=0,h=t;b<h.length;b++){var x=h[b],_=e[x.src];if(_)_.done?g(x.src,_.error):_.handlers.push(g);else{var N=Ee("tiny-");e[x.src]={id:N,src:x.src,done:!1,error:null,handlers:[g]},Ye(n,ue({id:N},x),r)}}},s=function(){for(var t,c=0,d=Object.values(e);c<d.length;c++){var p=d[c],f=n.getElementById(p.id);f!=null&&f.tagName==="SCRIPT"&&((t=f.parentNode)===null||t===void 0||t.removeChild(f))}e={}},l=function(){return n};return{loadScripts:i,deleteScripts:s,getDocument:l}},Ze=function(){var n=[],e=function(s){var l=n.find(function(t){return t.getDocument()===s});return l===void 0&&(l=Qe(s),n.push(l)),l},r=function(s,l,t,c,d){var p=function(){return e(s).loadScripts(l,c,d)};t>0?setTimeout(p,t):p()},i=function(){for(var s=n.pop();s!=null;s=n.pop())s.deleteScripts()};return{loadList:r,reinitialize:i}},et=Ze(),tt=(function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l])},n(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}})(),V=function(){return V=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},V.apply(this,arguments)},ce="change keyup compositionend setcontent CommentChange",nt=(function(n){tt(e,n);function e(r){var i,s,l,t=n.call(this,r)||this;return t.rollbackTimer=void 0,t.valueCursor=void 0,t.rollbackChange=function(){var c=t.editor,d=t.props.value;c&&d&&d!==t.currentContent&&c.undoManager.ignore(function(){if(c.setContent(d),t.valueCursor&&(!t.inline||c.hasFocus()))try{c.selection.moveToBookmark(t.valueCursor)}catch{}}),t.rollbackTimer=void 0},t.handleBeforeInput=function(c){if(t.props.value!==void 0&&t.props.value===t.currentContent&&t.editor&&(!t.inline||t.editor.hasFocus()))try{t.valueCursor=t.editor.selection.getBookmark(3)}catch{}},t.handleBeforeInputSpecial=function(c){(c.key==="Enter"||c.key==="Backspace"||c.key==="Delete")&&t.handleBeforeInput(c)},t.handleEditorChange=function(c){var d=t.editor;if(d&&d.initialized){var p=d.getContent();t.props.value!==void 0&&t.props.value!==p&&t.props.rollback!==!1&&(t.rollbackTimer||(t.rollbackTimer=window.setTimeout(t.rollbackChange,typeof t.props.rollback=="number"?t.props.rollback:200))),p!==t.currentContent&&(t.currentContent=p,le(t.props.onEditorChange)&&t.props.onEditorChange(p,d))}},t.handleEditorChangeSpecial=function(c){(c.key==="Backspace"||c.key==="Delete")&&t.handleEditorChange(c)},t.initialise=function(c){var d,p,f;c===void 0&&(c=0);var u=t.elementRef.current;if(u){if(!Je(u)){if(c===0)setTimeout(function(){return t.initialise(1)},1);else if(c<100)setTimeout(function(){return t.initialise(c+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var g=Xe(t.view),b=V(V(V(V({},t.props.init),{selector:void 0,target:u,disabled:t.props.disabled,readonly:t.props.readonly,inline:t.inline,plugins:Ue((d=t.props.init)===null||d===void 0?void 0:d.plugins,t.props.plugins),toolbar:(p=t.props.toolbar)!==null&&p!==void 0?p:(f=t.props.init)===null||f===void 0?void 0:f.toolbar}),t.props.licenseKey?{license_key:t.props.licenseKey}:{}),{setup:function(h){t.editor=h,t.bindHandlers({}),t.inline&&!_e(u)&&h.once("PostRender",function(x){h.setContent(t.getInitialValue(),{no_events:!0})}),t.props.init&&le(t.props.init.setup)&&t.props.init.setup(h),t.props.disabled&&(Ce(t.editor)?t.editor.options.set("disabled",t.props.disabled):t.editor.mode.set("readonly"))},init_instance_callback:function(h){var x,_=t.getInitialValue();t.currentContent=(x=t.currentContent)!==null&&x!==void 0?x:h.getContent(),t.currentContent!==_&&(t.currentContent=_,h.setContent(_),h.undoManager.clear(),h.undoManager.add(),h.setDirty(!1)),t.props.init&&le(t.props.init.init_instance_callback)&&t.props.init.init_instance_callback(h)}});t.inline||(u.style.visibility=""),_e(u)&&(u.value=t.getInitialValue()),g.init(b)}},t.id=t.props.id||Ee("tiny-react"),t.elementRef=K.createRef(),t.inline=(l=(i=t.props.inline)!==null&&i!==void 0?i:(s=t.props.init)===null||s===void 0?void 0:s.inline)!==null&&l!==void 0?l:!1,t.boundHandlers={},t}return Object.defineProperty(e.prototype,"view",{get:function(){var r,i;return(i=(r=this.elementRef.current)===null||r===void 0?void 0:r.ownerDocument.defaultView)!==null&&i!==void 0?i:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(r){var i=this,s,l;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(r),this.editor.initialized)){if(this.currentContent=(s=this.currentContent)!==null&&s!==void 0?s:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==r.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var t=this.editor;t.undoManager.transact(function(){var d;if(!i.inline||t.hasFocus())try{d=t.selection.getBookmark(3)}catch{}var p=i.valueCursor;if(t.setContent(i.props.value),!i.inline||t.hasFocus())for(var f=0,u=[d,p];f<u.length;f++){var g=u[f];if(g)try{t.selection.moveToBookmark(g),i.valueCursor=g;break}catch{}}})}if(this.props.readonly!==r.readonly){var c=(l=this.props.readonly)!==null&&l!==void 0?l:!1;je(this.editor,c?"readonly":"design")}this.props.disabled!==r.disabled&&(Ce(this.editor)?this.editor.options.set("disabled",this.props.disabled):je(this.editor,this.props.disabled?"readonly":"design"))}},e.prototype.componentDidMount=function(){var r=this,i,s,l,t,c;if(Ne(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(s=(i=this.props).onScriptsLoadError)===null||s===void 0||s.call(i,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((l=this.elementRef.current)===null||l===void 0)&&l.ownerDocument){var d=function(){var f,u;(u=(f=r.props).onScriptsLoad)===null||u===void 0||u.call(f),r.initialise()},p=function(f){var u,g;(g=(u=r.props).onScriptsLoadError)===null||g===void 0||g.call(u,f)};et.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(c=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.delay)!==null&&c!==void 0?c:0,d,p)}},e.prototype.componentWillUnmount=function(){var r=this,i=this.editor;i&&(i.off(ce,this.handleEditorChange),i.off(this.beforeInputEvent(),this.handleBeforeInput),i.off("keypress",this.handleEditorChangeSpecial),i.off("keydown",this.handleBeforeInputSpecial),i.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(s){i.off(s,r.boundHandlers[s])}),this.boundHandlers={},i.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return $e()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var r=this.props.tagName,i=r===void 0?"div":r;return K.createElement(i,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return K.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var r,i,s=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.async,l=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:s,defer:l}]:this.props.tinymceScriptSrc.map(function(p){return typeof p=="string"?{src:p,async:s,defer:l}:p});var t=this.props.cloudChannel,c=this.props.apiKey?this.props.apiKey:"no-api-key",d="https://cdn.tiny.cloud/1/".concat(c,"/tinymce/").concat(t,"/tinymce.min.js");return[{src:d,async:s,defer:l}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(r){var i=this;if(this.editor!==void 0){Ve(this.editor,r,this.props,this.boundHandlers,function(c){return i.props[c]});var s=function(c){return c.onEditorChange!==void 0||c.value!==void 0},l=s(r),t=s(this.props);!l&&t?(this.editor.on(ce,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):l&&!t&&(this.editor.off(ce,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=Ge,e.defaultProps={cloudChannel:"8"},e})(K.Component);const zt=n=>{const e=Re.c(84),{settings:r}=n,[i,s]=K.useState("mail"),[l,t]=K.useState("prospect_welcome"),c=[{key:"prospect_welcome",label:"Email de Bienvenida a Prospectos",variables:["nombre_estudiante","nombre_asesor","email_asesor","telefono_asesor","fecha_registro","url_plataforma"]},{key:"student_enrolled",label:"Email de Credenciales para Estudiantes Matriculados",variables:["nombre_estudiante","codigo_matricula","email","contrasena","url_plataforma","nivel_academico","plan_pago"]},{key:"enrollment_verified",label:"Email de MatrÃ­cula Verificada",variables:["nombre_estudiante","codigo_matricula","email","nivel_academico","plan_pago","verificado_por","fecha_verificacion","cantidad_documentos","url_plataforma"]}];let d;e[0]!==r.mail?(d=(r.mail||[]).reduce(at,{}),e[0]=r.mail,e[1]=d):d=e[1];let p;e[2]!==d?(p={settings:d},e[2]=d,e[3]=p):p=e[3];const f=U(p);let u;e[4]!==r.whatsapp?(u=r.whatsapp?.find(rt)?.content||"",e[4]=r.whatsapp,e[5]=u):u=e[5];let g;e[6]!==r.whatsapp?(g=r.whatsapp?.find(it)?.content||"",e[6]=r.whatsapp,e[7]=g):g=e[7];let b;e[8]!==u||e[9]!==g?(b={whatsapp_number:u,whatsapp_message:g},e[8]=u,e[9]=g,e[10]=b):b=e[10];const h=U(b);let x;e[11]!==r.general?(x=r.general?.find(ot)?.content||"",e[11]=r.general,e[12]=x):x=e[12];let _;e[13]!==r.general?(_=r.general?.find(st)?.content||"",e[13]=r.general,e[14]=_):_=e[14];let N;e[15]!==x||e[16]!==_?(N={site_name:x,site_description:_},e[15]=x,e[16]=_,e[17]=N):N=e[17];const y=U(N);let j;e[18]!==r.contact?(j=r.contact?.find(lt)?.content||"",e[18]=r.contact,e[19]=j):j=e[19];let J;e[20]!==j?(J={support_email:j},e[20]=j,e[21]=J):J=e[21];const w=U(J);let k;e[22]!==r.payment?(k=r.payment?.find(ct)?.content||"7",e[22]=r.payment,e[23]=k):k=e[23];let T;e[24]!==r.payment?(T=r.payment?.find(dt)?.content||"true",e[24]=r.payment,e[25]=T):T=e[25];let X;e[26]!==k||e[27]!==T?(X={plan_change_deadline_days:k,allow_partial_payments:T},e[26]=k,e[27]=T,e[28]=X):X=e[28];const v=U(X);let Y;e[29]===Symbol.for("react.memo_cache_sentinel")?(Y=[{id:"mail",label:"Templates de Email",icon:fe},{id:"whatsapp",label:"ConfiguraciÃ³n WhatsApp",icon:Me},{id:"payment",label:"ConfiguraciÃ³n de Pagos",icon:me},{id:"general",label:"ConfiguraciÃ³n General",icon:Fe},{id:"contact",label:"InformaciÃ³n de Contacto",icon:fe}],e[29]=Y):Y=e[29];const ke=Y;let D,O,Q,L,I;if(e[30]!==w||e[31]!==y||e[32]!==f||e[33]!==v||e[34]!==h){Q=C=>{C.preventDefault();const S=Object.entries(f.data.settings).map(Ie=>{const[pe,Pe]=Ie;return{key:pe,content:Pe,type:"mail",description:Le(pe)}});f.transform(()=>({settings:S})),f.post("/admin/settings",{onSuccess:ut,onError:pt})};let m;e[40]!==h?(m=C=>{C.preventDefault();const S=[{key:"whatsapp_number",content:h.data.whatsapp_number,type:"whatsapp",description:"NÃºmero de WhatsApp para contacto"},{key:"whatsapp_message",content:h.data.whatsapp_message,type:"whatsapp",description:"Mensaje predeterminado de WhatsApp"}];h.transform(()=>({settings:S})),h.post("/admin/settings",{onSuccess:ft})},e[40]=h,e[41]=m):m=e[41],I=m;let G;e[42]!==y?(G=C=>{C.preventDefault();const S=[{key:"site_name",content:y.data.site_name,type:"general",description:"Nombre del sitio"},{key:"site_description",content:y.data.site_description,type:"general",description:"DescripciÃ³n del sitio"}];y.transform(()=>({settings:S})),y.post("/admin/settings",{onSuccess:mt})},e[42]=y,e[43]=G):G=e[43],O=G;let ee;e[44]!==w?(ee=C=>{C.preventDefault();const S=[{key:"support_email",content:w.data.support_email,type:"contact",description:"Email de soporte tÃ©cnico para estudiantes"}];w.transform(()=>({settings:S})),w.post("/admin/settings",{onSuccess:ht})},e[44]=w,e[45]=ee):ee=e[45],D=ee;let te;e[46]!==v?(te=C=>{C.preventDefault();const S=[{key:"plan_change_deadline_days",content:v.data.plan_change_deadline_days,type:"payment",description:"DÃ­as lÃ­mite desde la matrÃ­cula para cambiar de plan"},{key:"allow_partial_payments",content:v.data.allow_partial_payments,type:"payment",description:"Permitir pagos parciales de cualquier monto aplicados al total"}];v.transform(()=>({settings:S})),v.post("/admin/settings",{onSuccess:gt,onError:vt})},e[46]=v,e[47]=te):te=e[47],L=te;const Le=yt;e[30]=w,e[31]=y,e[32]=f,e[33]=v,e[34]=h,e[35]=D,e[36]=O,e[37]=Q,e[38]=L,e[39]=I}else D=e[35],O=e[36],Q=e[37],L=e[38],I=e[39];const ae=Ae;let P;e[48]===Symbol.for("react.memo_cache_sentinel")?(P=o.jsx(Be,{title:"Configuraciones"}),e[48]=P):P=e[48];const Te="p-6 space-y-6";let R;e[49]===Symbol.for("react.memo_cache_sentinel")?(R=o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-3 bg-gradient-to-br from-[#073372] to-[#17BC91] rounded-xl shadow-lg",children:o.jsx(me,{className:"h-7 w-7 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Configuraciones del Sistema"}),o.jsx("p",{className:"text-sm text-slate-600",children:"Administra templates de email, WhatsApp y configuraciÃ³n general"})]})]}),e[49]=R):R=e[49];const De="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden";let B;e[50]!==i?(B=o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("div",{className:"flex space-x-1 p-2",children:ke.map(m=>{const G=m.icon;return o.jsxs("button",{onClick:()=>s(m.id),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${i===m.id?"bg-gradient-to-r from-[#073372] to-[#17BC91] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(G,{className:"h-5 w-5 mr-2"}),m.label]},m.id)})})}),e[50]=i,e[51]=B):B=e[51];const Oe="p-8",re=i==="mail"&&o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[o.jsx("div",{children:o.jsx(He,{label:"Seleccionar Template de Email",value:l,onChange:m=>t(m.target.value),required:!0,children:c.map(bt)})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:c.find(m=>m.key===l)?.label})}),o.jsx(nt,{apiKey:"0nai4nwo1mc0dumfyzl8re1odbzzr1fz4gfwzpgu5ghdnu4n",value:f.data.settings[l]||"",onEditorChange:m=>{f.setData("settings",{...f.data.settings,[l]:m})},init:{height:500,menubar:"file edit view insert format tools table help",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","visualchars","pagebreak"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete | code | removeformat | help",image_title:!0,image_advtab:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_url:"/admin/upload-image",relative_urls:!1,remove_script_host:!1,convert_urls:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:_t,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:jt}},l),o.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Variables disponibles para este template:"}),o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:c.find(m=>m.key===l)?.variables.map(Ct)})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:f.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o.jsx($,{className:"h-5 w-5 mr-2"}),f.processing?"Guardando...":"Guardar Template"]})})]});let A;e[52]!==i||e[53]!==I||e[54]!==h?(A=i==="whatsapp"&&o.jsxs("form",{onSubmit:I,className:"space-y-6",children:[o.jsx(ne,{label:"NÃºmero de WhatsApp",type:"text",value:h.data.whatsapp_number,onChange:m=>h.setData("whatsapp_number",m.target.value),helperText:"Ejemplo: +51987654321",variant:"outlined"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Predeterminado"}),o.jsx("textarea",{value:h.data.whatsapp_message,onChange:m=>h.setData("whatsapp_message",m.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Hola! Estoy interesado en informaciÃ³n sobre los cursos..."}),o.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Este mensaje se usarÃ¡ como plantilla para contacto por WhatsApp"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:h.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o.jsx($,{className:"h-5 w-5 mr-2"}),h.processing?"Guardando...":"Guardar ConfiguraciÃ³n"]})})]}),e[52]=i,e[53]=I,e[54]=h,e[55]=A):A=e[55];let M;e[56]!==i||e[57]!==y||e[58]!==O?(M=i==="general"&&o.jsxs("form",{onSubmit:O,className:"space-y-6",children:[o.jsx(ne,{label:"Nombre del Sitio",type:"text",value:y.data.site_name,onChange:m=>y.setData("site_name",m.target.value),variant:"outlined"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DescripciÃ³n del Sitio"}),o.jsx("textarea",{value:y.data.site_description,onChange:m=>y.setData("site_description",m.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"DescripciÃ³n breve del sitio..."})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:y.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o.jsx($,{className:"h-5 w-5 mr-2"}),y.processing?"Guardando...":"Guardar ConfiguraciÃ³n"]})})]}),e[56]=i,e[57]=y,e[58]=O,e[59]=M):M=e[59];let F;e[60]!==i||e[61]!==w||e[62]!==D?(F=i==="contact"&&o.jsxs("form",{onSubmit:D,className:"space-y-6",children:[o.jsx(ne,{label:"Email de Soporte",type:"email",value:w.data.support_email,onChange:m=>w.setData("support_email",m.target.value),helperText:"Email que se mostrarÃ¡ a los estudiantes para soporte tÃ©cnico",variant:"outlined"}),o.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-900",children:[o.jsx("strong",{children:"Nota:"})," Este email se muestra en las notificaciones y modales de confirmaciÃ³n de documentos para que los estudiantes puedan contactar con soporte."]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:w.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o.jsx($,{className:"h-5 w-5 mr-2"}),w.processing?"Guardando...":"Guardar Email"]})})]}),e[60]=i,e[61]=w,e[62]=D,e[63]=F):F=e[63];let H;e[64]!==i||e[65]!==L||e[66]!==v?(H=i==="payment"&&o.jsxs("form",{onSubmit:L,className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"âš™ï¸ Configuraciones de Sistema de Pagos"}),o.jsx("p",{className:"text-sm text-slate-700",children:"Estas configuraciones afectan el comportamiento del sistema de pagos y cambios de plan para todos los estudiantes."})]}),o.jsxs("div",{children:[o.jsx(ne,{label:"DÃ­as lÃ­mite para cambiar de plan",type:"number",min:"0",max:"30",value:v.data.plan_change_deadline_days,onChange:m=>v.setData("plan_change_deadline_days",m.target.value),helperText:"NÃºmero de dÃ­as desde la matrÃ­cula en que el estudiante puede cambiar su plan de pago (ej: 7 dÃ­as)",variant:"outlined"}),o.jsx("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:o.jsxs("p",{className:"text-xs text-yellow-900",children:[o.jsx("strong",{children:"âš ï¸ Importante:"})," Solo los estudiantes que no tengan cuotas pagadas o verificadas podrÃ¡n cambiar de plan, incluso dentro de este perÃ­odo."]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permitir pagos parciales"}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"allow_partial_payments",value:"true",checked:v.data.allow_partial_payments==="true",onChange:m=>v.setData("allow_partial_payments",m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"SÃ­, permitir pagos parciales"})]}),o.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[o.jsx("input",{type:"radio",name:"allow_partial_payments",value:"false",checked:v.data.allow_partial_payments==="false",onChange:m=>v.setData("allow_partial_payments",m.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"No, solo pagos completos"})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Si se habilita, los estudiantes podrÃ¡n pagar cualquier monto que deseen aplicado al total de su plan de pagos."})]}),o.jsxs("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-3",children:"ðŸ“Š Resumen de ConfiguraciÃ³n Actual:"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-600",children:"DÃ­as para cambiar plan:"}),o.jsxs("span",{className:"font-bold text-slate-900",children:[v.data.plan_change_deadline_days," dÃ­as"]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-slate-600",children:"Pagos parciales:"}),o.jsx("span",{className:`font-bold ${v.data.allow_partial_payments==="true"?"text-green-600":"text-red-600"}`,children:v.data.allow_partial_payments==="true"?"âœ“ Habilitados (monto libre)":"âœ— Deshabilitados"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{type:"submit",disabled:v.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[o.jsx($,{className:"h-5 w-5 mr-2"}),v.processing?"Guardando...":"Guardar ConfiguraciÃ³n de Pagos"]})})]}),e[64]=i,e[65]=L,e[66]=v,e[67]=H):H=e[67];let z;e[68]!==re||e[69]!==A||e[70]!==M||e[71]!==F||e[72]!==H?(z=o.jsxs("div",{className:Oe,children:[re,A,M,F,H]}),e[68]=re,e[69]=A,e[70]=M,e[71]=F,e[72]=H,e[73]=z):z=e[73];let q;e[74]!==B||e[75]!==z?(q=o.jsxs("div",{className:De,children:[B,z]}),e[74]=B,e[75]=z,e[76]=q):q=e[76];let W;e[77]!==R||e[78]!==q?(W=o.jsxs("div",{className:Te,children:[R,q]}),e[77]=R,e[78]=q,e[79]=W):W=e[79];let Z;return e[80]!==ae||e[81]!==P||e[82]!==W?(Z=o.jsxs(ae,{children:[P,W]}),e[80]=ae,e[81]=P,e[82]=W,e[83]=Z):Z=e[83],Z};function at(n,e){return n[e.key]=e.content,n}function rt(n){return n.key==="whatsapp_number"}function it(n){return n.key==="whatsapp_message"}function ot(n){return n.key==="site_name"}function st(n){return n.key==="site_description"}function lt(n){return n.key==="support_email"}function ct(n){return n.key==="plan_change_deadline_days"}function dt(n){return n.key==="allow_partial_payments"}function ut(){E.success("ConfiguraciÃ³n guardada",{description:"Los templates de email han sido actualizados",duration:4e3})}function pt(){E.error("Error",{description:"No se pudieron guardar las configuraciones",duration:4e3})}function ft(){E.success("ConfiguraciÃ³n guardada",{description:"La configuraciÃ³n de WhatsApp ha sido actualizada",duration:4e3})}function mt(){E.success("ConfiguraciÃ³n guardada",{description:"La configuraciÃ³n general ha sido actualizada",duration:4e3})}function ht(){E.success("ConfiguraciÃ³n guardada",{description:"El email de soporte ha sido actualizado",duration:4e3})}function gt(){E.success("ConfiguraciÃ³n guardada",{description:"Las configuraciones de pago han sido actualizadas",duration:4e3})}function vt(){E.error("Error",{description:"No se pudieron guardar las configuraciones",duration:4e3})}function yt(n){return{welcome_email:"Email de bienvenida para nuevos usuarios",payment_reminder:"Recordatorio de pago pendiente",enrollment_confirmation:"ConfirmaciÃ³n de matrÃ­cula"}[n]||""}function bt(n){return o.jsx("option",{value:n.key,children:n.label},n.key)}function xt(n){return n.json()}function _t(n){return new Promise((e,r)=>{const i=new FormData;i.append("file",n.blob(),n.filename()),fetch("/admin/upload-image",{method:"POST",body:i,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(xt).then(s=>{s.location?e(s.location):r("Error al subir imagen")}).catch(()=>{r("Error al subir imagen")})})}function wt(n){return n=n.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"'),n=n.replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"'),n=n.replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"'),n=n.replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"'),n}function jt(n){const e=wt;n.on("BeforeSetContent",function(r){r.content&&typeof r.content=="string"&&(r.content=e(r.content))}),n.on("PostProcess",function(r){r.content&&typeof r.content=="string"&&(r.content=e(r.content))})}function Ct(n){return o.jsx("code",{className:"bg-white px-2 py-1 rounded",children:`{{${n}}}`},n)}export{zt as default};
