import{r as F,c as ke,u as U,j as c,H as Ne}from"./app-B5QkxoVQ.js";import{R as $,A as Te,a as oe,b as Oe,c as De,d as Le,t as z}from"./AuthenticatedLayout-DzuEq7nr.js";import{S as Ie,I as Y}from"./input-B9j9VSLH.js";/* empty css            */import"./button-CPvqIiNw.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-DzHilK3d.js";import"./createLucideIcon-D5xWD9Yu.js";import"./index-CNCL5WM8.js";import"./index-DIShPEL2.js";import"./index-055zJb7B.js";import"./badge-BrB7Tfci.js";import"./file-text-BE3l-3Xd.js";import"./triangle-alert-BxEDjgyl.js";import"./circle-check-big-ku8itA8p.js";import"./clock-BpXiDhYI.js";var Q={exports:{}},Z,se;function Re(){if(se)return Z;se=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z=n,Z}var ee,le;function Pe(){if(le)return ee;le=1;var n=Re();function e(){}function i(){}return i.resetWarningCache=e,ee=function(){function a(t,l,d,p,f,u){if(u!==n){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}a.isRequired=a;function o(){return a}var s={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:o,element:a,elementType:a,instanceOf:o,node:a,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return s.PropTypes=s,s},ee}var ce;function Be(){return ce||(ce=1,Q.exports=Pe()()),Q.exports}var r=Be(),re=function(){return re=Object.assign||function(n){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},re.apply(this,arguments)},ge={onActivate:r.func,onAddUndo:r.func,onBeforeAddUndo:r.func,onBeforeExecCommand:r.func,onBeforeGetContent:r.func,onBeforeRenderUI:r.func,onBeforeSetContent:r.func,onBeforePaste:r.func,onBlur:r.func,onChange:r.func,onClearUndos:r.func,onClick:r.func,onContextMenu:r.func,onCommentChange:r.func,onCompositionEnd:r.func,onCompositionStart:r.func,onCompositionUpdate:r.func,onCopy:r.func,onCut:r.func,onDblclick:r.func,onDeactivate:r.func,onDirty:r.func,onDrag:r.func,onDragDrop:r.func,onDragEnd:r.func,onDragGesture:r.func,onDragOver:r.func,onDrop:r.func,onExecCommand:r.func,onFocus:r.func,onFocusIn:r.func,onFocusOut:r.func,onGetContent:r.func,onHide:r.func,onInit:r.func,onInput:r.func,onKeyDown:r.func,onKeyPress:r.func,onKeyUp:r.func,onLoadContent:r.func,onMouseDown:r.func,onMouseEnter:r.func,onMouseLeave:r.func,onMouseMove:r.func,onMouseOut:r.func,onMouseOver:r.func,onMouseUp:r.func,onNodeChange:r.func,onObjectResizeStart:r.func,onObjectResized:r.func,onObjectSelected:r.func,onPaste:r.func,onPostProcess:r.func,onPostRender:r.func,onPreProcess:r.func,onProgressState:r.func,onRedo:r.func,onRemove:r.func,onReset:r.func,onSaveContent:r.func,onSelectionChange:r.func,onSetAttrib:r.func,onSetContent:r.func,onShow:r.func,onSubmit:r.func,onUndo:r.func,onVisualAid:r.func,onSkinLoadError:r.func,onThemeLoadError:r.func,onModelLoadError:r.func,onPluginLoadError:r.func,onIconsLoadError:r.func,onLanguageLoadError:r.func,onScriptsLoad:r.func,onScriptsLoadError:r.func},Ae=re({apiKey:r.string,licenseKey:r.string,id:r.string,inline:r.bool,init:r.object,initialValue:r.string,onEditorChange:r.func,value:r.string,tagName:r.string,tabIndex:r.number,cloudChannel:r.string,plugins:r.oneOfType([r.string,r.array]),toolbar:r.oneOfType([r.string,r.array]),disabled:r.bool,readonly:r.bool,textareaName:r.string,tinymceScriptSrc:r.oneOfType([r.string,r.arrayOf(r.string),r.arrayOf(r.shape({src:r.string,async:r.bool,defer:r.bool}))]),rollback:r.oneOfType([r.number,r.oneOf([!1])]),scriptLoading:r.shape({async:r.bool,defer:r.bool,delay:r.number})},ge),ye=function(n){var e=n;return e&&e.tinymce?e.tinymce:null},te=function(n){return typeof n=="function"},de=function(n){return n in ge},ue=function(n){return n.substr(2)},Me=function(n,e,i,a,o,s,t){var l=Object.keys(o).filter(de),d=Object.keys(s).filter(de),p=l.filter(function(u){return s[u]===void 0}),f=d.filter(function(u){return o[u]===void 0});p.forEach(function(u){var h=ue(u),y=t[h];i(h,y),delete t[h]}),f.forEach(function(u){var h=a(n,u),y=ue(u);t[y]=h,e(y,h)})},Fe=function(n,e,i,a,o){return Me(o,n.on.bind(n),n.off.bind(n),function(s,t){return function(l){var d;return(d=s(t))===null||d===void 0?void 0:d(l,n)}},e,i,a)},pe=0,be=function(n){var e=Date.now(),i=Math.floor(Math.random()*1e9);return pe++,n+"_"+i+pe+String(e)},fe=function(n){return n!==null&&(n.tagName.toLowerCase()==="textarea"||n.tagName.toLowerCase()==="input")},me=function(n){return typeof n>"u"||n===""?[]:Array.isArray(n)?n:n.split(" ")},He=function(n,e){return me(n).concat(me(e))},ze=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},We=function(n){if(!("isConnected"in Node.prototype)){for(var e=n,i=n.parentNode;i!=null;)e=i,i=e.parentNode;return e===n.ownerDocument}return n.isConnected},he=function(n,e){n!==void 0&&(n.mode!=null&&typeof n.mode=="object"&&typeof n.mode.set=="function"?n.mode.set(e):n.setMode(e))},Ke=function(n){var e=ye(n);if(!e)throw new Error("tinymce should have been loaded into global scope");return e},ve=function(n){return n.options&&n.options.isRegistered("disabled")},ie=function(){return ie=Object.assign||function(n){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ie.apply(this,arguments)},Ve=function(n,e,i){var a,o,s=n.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e.id,s.src=e.src,s.async=(a=e.async)!==null&&a!==void 0?a:!1,s.defer=(o=e.defer)!==null&&o!==void 0?o:!1;var t=function(){s.removeEventListener("load",t),s.removeEventListener("error",l),i(e.src)},l=function(d){s.removeEventListener("load",t),s.removeEventListener("error",l),i(e.src,d)};s.addEventListener("load",t),s.addEventListener("error",l),n.head&&n.head.appendChild(s)},Ge=function(n){var e={},i=function(t,l){var d=e[t];d.done=!0,d.error=l;for(var p=0,f=d.handlers;p<f.length;p++){var u=f[p];u(t,l)}d.handlers=[]},a=function(t,l,d){var p=function(g){return d!==void 0?d(g):console.error(g)};if(t.length===0){p(new Error("At least one script must be provided"));return}for(var f=0,u=!1,h=function(g,C){u||(C?(u=!0,p(C)):++f===t.length&&l())},y=0,m=t;y<m.length;y++){var b=m[y],_=e[b.src];if(_)_.done?h(b.src,_.error):_.handlers.push(h);else{var w=be("tiny-");e[b.src]={id:w,src:b.src,done:!1,error:null,handlers:[h]},Ve(n,ie({id:w},b),i)}}},o=function(){for(var t,l=0,d=Object.values(e);l<d.length;l++){var p=d[l],f=n.getElementById(p.id);f!=null&&f.tagName==="SCRIPT"&&((t=f.parentNode)===null||t===void 0||t.removeChild(f))}e={}},s=function(){return n};return{loadScripts:a,deleteScripts:o,getDocument:s}},qe=function(){var n=[],e=function(o){var s=n.find(function(t){return t.getDocument()===o});return s===void 0&&(s=Ge(o),n.push(s)),s},i=function(o,s,t,l,d){var p=function(){return e(o).loadScripts(s,l,d)};t>0?setTimeout(p,t):p()},a=function(){for(var o=n.pop();o!=null;o=n.pop())o.deleteScripts()};return{loadList:i,reinitialize:a}},Ue=qe(),$e=(function(){var n=function(e,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])},n(e,i)};return function(e,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(e,i);function a(){this.constructor=e}e.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}})(),H=function(){return H=Object.assign||function(n){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},H.apply(this,arguments)},ne="change keyup compositionend setcontent CommentChange",Je=(function(n){$e(e,n);function e(i){var a,o,s,t=n.call(this,i)||this;return t.rollbackTimer=void 0,t.valueCursor=void 0,t.rollbackChange=function(){var l=t.editor,d=t.props.value;l&&d&&d!==t.currentContent&&l.undoManager.ignore(function(){if(l.setContent(d),t.valueCursor&&(!t.inline||l.hasFocus()))try{l.selection.moveToBookmark(t.valueCursor)}catch{}}),t.rollbackTimer=void 0},t.handleBeforeInput=function(l){if(t.props.value!==void 0&&t.props.value===t.currentContent&&t.editor&&(!t.inline||t.editor.hasFocus()))try{t.valueCursor=t.editor.selection.getBookmark(3)}catch{}},t.handleBeforeInputSpecial=function(l){(l.key==="Enter"||l.key==="Backspace"||l.key==="Delete")&&t.handleBeforeInput(l)},t.handleEditorChange=function(l){var d=t.editor;if(d&&d.initialized){var p=d.getContent();t.props.value!==void 0&&t.props.value!==p&&t.props.rollback!==!1&&(t.rollbackTimer||(t.rollbackTimer=window.setTimeout(t.rollbackChange,typeof t.props.rollback=="number"?t.props.rollback:200))),p!==t.currentContent&&(t.currentContent=p,te(t.props.onEditorChange)&&t.props.onEditorChange(p,d))}},t.handleEditorChangeSpecial=function(l){(l.key==="Backspace"||l.key==="Delete")&&t.handleEditorChange(l)},t.initialise=function(l){var d,p,f;l===void 0&&(l=0);var u=t.elementRef.current;if(u){if(!We(u)){if(l===0)setTimeout(function(){return t.initialise(1)},1);else if(l<100)setTimeout(function(){return t.initialise(l+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var h=Ke(t.view),y=H(H(H(H({},t.props.init),{selector:void 0,target:u,disabled:t.props.disabled,readonly:t.props.readonly,inline:t.inline,plugins:He((d=t.props.init)===null||d===void 0?void 0:d.plugins,t.props.plugins),toolbar:(p=t.props.toolbar)!==null&&p!==void 0?p:(f=t.props.init)===null||f===void 0?void 0:f.toolbar}),t.props.licenseKey?{license_key:t.props.licenseKey}:{}),{setup:function(m){t.editor=m,t.bindHandlers({}),t.inline&&!fe(u)&&m.once("PostRender",function(b){m.setContent(t.getInitialValue(),{no_events:!0})}),t.props.init&&te(t.props.init.setup)&&t.props.init.setup(m),t.props.disabled&&(ve(t.editor)?t.editor.options.set("disabled",t.props.disabled):t.editor.mode.set("readonly"))},init_instance_callback:function(m){var b,_=t.getInitialValue();t.currentContent=(b=t.currentContent)!==null&&b!==void 0?b:m.getContent(),t.currentContent!==_&&(t.currentContent=_,m.setContent(_),m.undoManager.clear(),m.undoManager.add(),m.setDirty(!1)),t.props.init&&te(t.props.init.init_instance_callback)&&t.props.init.init_instance_callback(m)}});t.inline||(u.style.visibility=""),fe(u)&&(u.value=t.getInitialValue()),h.init(y)}},t.id=t.props.id||be("tiny-react"),t.elementRef=F.createRef(),t.inline=(s=(a=t.props.inline)!==null&&a!==void 0?a:(o=t.props.init)===null||o===void 0?void 0:o.inline)!==null&&s!==void 0?s:!1,t.boundHandlers={},t}return Object.defineProperty(e.prototype,"view",{get:function(){var i,a;return(a=(i=this.elementRef.current)===null||i===void 0?void 0:i.ownerDocument.defaultView)!==null&&a!==void 0?a:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(i){var a=this,o,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(i),this.editor.initialized)){if(this.currentContent=(o=this.currentContent)!==null&&o!==void 0?o:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==i.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var t=this.editor;t.undoManager.transact(function(){var d;if(!a.inline||t.hasFocus())try{d=t.selection.getBookmark(3)}catch{}var p=a.valueCursor;if(t.setContent(a.props.value),!a.inline||t.hasFocus())for(var f=0,u=[d,p];f<u.length;f++){var h=u[f];if(h)try{t.selection.moveToBookmark(h),a.valueCursor=h;break}catch{}}})}if(this.props.readonly!==i.readonly){var l=(s=this.props.readonly)!==null&&s!==void 0?s:!1;he(this.editor,l?"readonly":"design")}this.props.disabled!==i.disabled&&(ve(this.editor)?this.editor.options.set("disabled",this.props.disabled):he(this.editor,this.props.disabled?"readonly":"design"))}},e.prototype.componentDidMount=function(){var i=this,a,o,s,t,l;if(ye(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(o=(a=this.props).onScriptsLoadError)===null||o===void 0||o.call(a,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var d=function(){var f,u;(u=(f=i.props).onScriptsLoad)===null||u===void 0||u.call(f),i.initialise()},p=function(f){var u,h;(h=(u=i.props).onScriptsLoadError)===null||h===void 0||h.call(u,f)};Ue.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(l=(t=this.props.scriptLoading)===null||t===void 0?void 0:t.delay)!==null&&l!==void 0?l:0,d,p)}},e.prototype.componentWillUnmount=function(){var i=this,a=this.editor;a&&(a.off(ne,this.handleEditorChange),a.off(this.beforeInputEvent(),this.handleBeforeInput),a.off("keypress",this.handleEditorChangeSpecial),a.off("keydown",this.handleBeforeInputSpecial),a.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(o){a.off(o,i.boundHandlers[o])}),this.boundHandlers={},a.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return ze()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var i=this.props.tagName,a=i===void 0?"div":i;return F.createElement(a,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return F.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var i,a,o=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.async,s=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:o,defer:s}]:this.props.tinymceScriptSrc.map(function(p){return typeof p=="string"?{src:p,async:o,defer:s}:p});var t=this.props.cloudChannel,l=this.props.apiKey?this.props.apiKey:"no-api-key",d="https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(t,"/tinymce.min.js");return[{src:d,async:o,defer:s}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(i){var a=this;if(this.editor!==void 0){Fe(this.editor,i,this.props,this.boundHandlers,function(l){return a.props[l]});var o=function(l){return l.onEditorChange!==void 0||l.value!==void 0},s=o(i),t=o(this.props);!s&&t?(this.editor.on(ne,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!t&&(this.editor.off(ne,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=Ae,e.defaultProps={cloudChannel:"8"},e})(F.Component);const Ot=n=>{const e=ke.c(68),{settings:i}=n,[a,o]=F.useState("mail"),[s,t]=F.useState("prospect_welcome"),l=[{key:"prospect_welcome",label:"Email de Bienvenida a Prospectos",variables:["nombre_estudiante","nombre_asesor","email_asesor","telefono_asesor","fecha_registro","url_plataforma"]},{key:"student_enrolled",label:"Email de Credenciales para Estudiantes Matriculados",variables:["nombre_estudiante","codigo_matricula","email","contrasena","url_plataforma","nivel_academico","plan_pago"]},{key:"enrollment_verified",label:"Email de Matrícula Verificada",variables:["nombre_estudiante","codigo_matricula","email","nivel_academico","plan_pago","verificado_por","fecha_verificacion","cantidad_documentos","url_plataforma"]}];let d;e[0]!==i.mail?(d=(i.mail||[]).reduce(Xe,{}),e[0]=i.mail,e[1]=d):d=e[1];let p;e[2]!==d?(p={settings:d},e[2]=d,e[3]=p):p=e[3];const f=U(p);let u;e[4]!==i.whatsapp?(u=i.whatsapp?.find(Ye)?.content||"",e[4]=i.whatsapp,e[5]=u):u=e[5];let h;e[6]!==i.whatsapp?(h=i.whatsapp?.find(Qe)?.content||"",e[6]=i.whatsapp,e[7]=h):h=e[7];let y;e[8]!==u||e[9]!==h?(y={whatsapp_number:u,whatsapp_message:h},e[8]=u,e[9]=h,e[10]=y):y=e[10];const m=U(y);let b;e[11]!==i.general?(b=i.general?.find(Ze)?.content||"",e[11]=i.general,e[12]=b):b=e[12];let _;e[13]!==i.general?(_=i.general?.find(et)?.content||"",e[13]=i.general,e[14]=_):_=e[14];let w;e[15]!==b||e[16]!==_?(w={site_name:b,site_description:_},e[15]=b,e[16]=_,e[17]=w):w=e[17];const g=U(w);let C;e[18]!==i.contact?(C=i.contact?.find(tt)?.content||"",e[18]=i.contact,e[19]=C):C=e[19];let W;e[20]!==C?(W={support_email:C},e[20]=C,e[21]=W):W=e[21];const x=U(W);let K;e[22]===Symbol.for("react.memo_cache_sentinel")?(K=[{id:"mail",label:"Templates de Email",icon:oe},{id:"whatsapp",label:"Configuración WhatsApp",icon:Oe},{id:"general",label:"Configuración General",icon:De},{id:"contact",label:"Información de Contacto",icon:oe}],e[22]=K):K=e[22];const _e=K;let E,k,V,N;if(e[23]!==x||e[24]!==g||e[25]!==f||e[26]!==m){V=S=>{S.preventDefault();const j=Object.entries(f.data.settings).map(je=>{const[ae,Ee]=je;return{key:ae,content:Ee,type:"mail",description:Se(ae)}});f.transform(()=>({settings:j})),f.post("/admin/settings",{onSuccess:nt,onError:rt})};let v;e[31]!==m?(v=S=>{S.preventDefault();const j=[{key:"whatsapp_number",content:m.data.whatsapp_number,type:"whatsapp",description:"Número de WhatsApp para contacto"},{key:"whatsapp_message",content:m.data.whatsapp_message,type:"whatsapp",description:"Mensaje predeterminado de WhatsApp"}];m.transform(()=>({settings:j})),m.post("/admin/settings",{onSuccess:it})},e[31]=m,e[32]=v):v=e[32],N=v;let M;e[33]!==g?(M=S=>{S.preventDefault();const j=[{key:"site_name",content:g.data.site_name,type:"general",description:"Nombre del sitio"},{key:"site_description",content:g.data.site_description,type:"general",description:"Descripción del sitio"}];g.transform(()=>({settings:j})),g.post("/admin/settings",{onSuccess:at})},e[33]=g,e[34]=M):M=e[34],k=M;let q;e[35]!==x?(q=S=>{S.preventDefault();const j=[{key:"support_email",content:x.data.support_email,type:"contact",description:"Email de soporte técnico para estudiantes"}];x.transform(()=>({settings:j})),x.post("/admin/settings",{onSuccess:ot})},e[35]=x,e[36]=q):q=e[36],E=q;const Se=st;e[23]=x,e[24]=g,e[25]=f,e[26]=m,e[27]=E,e[28]=k,e[29]=V,e[30]=N}else E=e[27],k=e[28],V=e[29],N=e[30];const J=Te;let T;e[37]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(Ne,{title:"Configuraciones"}),e[37]=T):T=e[37];const xe="p-6 space-y-6";let O;e[38]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-gradient-to-br from-[#073372] to-[#17BC91] rounded-xl shadow-lg",children:c.jsx(Le,{className:"h-7 w-7 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Configuraciones del Sistema"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Administra templates de email, WhatsApp y configuración general"})]})]}),e[38]=O):O=e[38];const Ce="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden";let D;e[39]!==a?(D=c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("div",{className:"flex space-x-1 p-2",children:_e.map(v=>{const M=v.icon;return c.jsxs("button",{onClick:()=>o(v.id),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${a===v.id?"bg-gradient-to-r from-[#073372] to-[#17BC91] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[c.jsx(M,{className:"h-5 w-5 mr-2"}),v.label]},v.id)})})}),e[39]=a,e[40]=D):D=e[40];const we="p-8",X=a==="mail"&&c.jsxs("form",{onSubmit:V,className:"space-y-6",children:[c.jsx("div",{children:c.jsx(Ie,{label:"Seleccionar Template de Email",value:s,onChange:v=>t(v.target.value),required:!0,children:l.map(lt)})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.find(v=>v.key===s)?.label})}),c.jsx(Je,{apiKey:"0nai4nwo1mc0dumfyzl8re1odbzzr1fz4gfwzpgu5ghdnu4n",value:f.data.settings[s]||"",onEditorChange:v=>{f.setData("settings",{...f.data.settings,[s]:v})},init:{height:500,menubar:"file edit view insert format tools table help",plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount","visualchars","pagebreak"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete | code | removeformat | help",image_title:!0,image_advtab:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_url:"/admin/upload-image",relative_urls:!1,remove_script_host:!1,convert_urls:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:dt,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:pt}},s),c.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Variables disponibles para este template:"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:l.find(v=>v.key===s)?.variables.map(ft)})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:f.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),f.processing?"Guardando...":"Guardar Template"]})})]});let L;e[41]!==a||e[42]!==N||e[43]!==m?(L=a==="whatsapp"&&c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsx(Y,{label:"Número de WhatsApp",type:"text",value:m.data.whatsapp_number,onChange:v=>m.setData("whatsapp_number",v.target.value),helperText:"Ejemplo: +51987654321",variant:"outlined"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Predeterminado"}),c.jsx("textarea",{value:m.data.whatsapp_message,onChange:v=>m.setData("whatsapp_message",v.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Hola! Estoy interesado en información sobre los cursos..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Este mensaje se usará como plantilla para contacto por WhatsApp"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:m.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),m.processing?"Guardando...":"Guardar Configuración"]})})]}),e[41]=a,e[42]=N,e[43]=m,e[44]=L):L=e[44];let I;e[45]!==a||e[46]!==g||e[47]!==k?(I=a==="general"&&c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsx(Y,{label:"Nombre del Sitio",type:"text",value:g.data.site_name,onChange:v=>g.setData("site_name",v.target.value),variant:"outlined"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción del Sitio"}),c.jsx("textarea",{value:g.data.site_description,onChange:v=>g.setData("site_description",v.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Descripción breve del sitio..."})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:g.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),g.processing?"Guardando...":"Guardar Configuración"]})})]}),e[45]=a,e[46]=g,e[47]=k,e[48]=I):I=e[48];let R;e[49]!==a||e[50]!==x||e[51]!==E?(R=a==="contact"&&c.jsxs("form",{onSubmit:E,className:"space-y-6",children:[c.jsx(Y,{label:"Email de Soporte",type:"email",value:x.data.support_email,onChange:v=>x.setData("support_email",v.target.value),helperText:"Email que se mostrará a los estudiantes para soporte técnico",variant:"outlined"}),c.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-900",children:[c.jsx("strong",{children:"Nota:"})," Este email se muestra en las notificaciones y modales de confirmación de documentos para que los estudiantes puedan contactar con soporte."]})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:x.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),x.processing?"Guardando...":"Guardar Email"]})})]}),e[49]=a,e[50]=x,e[51]=E,e[52]=R):R=e[52];let P;e[53]!==X||e[54]!==L||e[55]!==I||e[56]!==R?(P=c.jsxs("div",{className:we,children:[X,L,I,R]}),e[53]=X,e[54]=L,e[55]=I,e[56]=R,e[57]=P):P=e[57];let B;e[58]!==D||e[59]!==P?(B=c.jsxs("div",{className:Ce,children:[D,P]}),e[58]=D,e[59]=P,e[60]=B):B=e[60];let A;e[61]!==O||e[62]!==B?(A=c.jsxs("div",{className:xe,children:[O,B]}),e[61]=O,e[62]=B,e[63]=A):A=e[63];let G;return e[64]!==J||e[65]!==T||e[66]!==A?(G=c.jsxs(J,{children:[T,A]}),e[64]=J,e[65]=T,e[66]=A,e[67]=G):G=e[67],G};function Xe(n,e){return n[e.key]=e.content,n}function Ye(n){return n.key==="whatsapp_number"}function Qe(n){return n.key==="whatsapp_message"}function Ze(n){return n.key==="site_name"}function et(n){return n.key==="site_description"}function tt(n){return n.key==="support_email"}function nt(){z.success("Configuración guardada",{description:"Los templates de email han sido actualizados",duration:4e3})}function rt(){z.error("Error",{description:"No se pudieron guardar las configuraciones",duration:4e3})}function it(){z.success("Configuración guardada",{description:"La configuración de WhatsApp ha sido actualizada",duration:4e3})}function at(){z.success("Configuración guardada",{description:"La configuración general ha sido actualizada",duration:4e3})}function ot(){z.success("Configuración guardada",{description:"El email de soporte ha sido actualizado",duration:4e3})}function st(n){return{welcome_email:"Email de bienvenida para nuevos usuarios",payment_reminder:"Recordatorio de pago pendiente",enrollment_confirmation:"Confirmación de matrícula"}[n]||""}function lt(n){return c.jsx("option",{value:n.key,children:n.label},n.key)}function ct(n){return n.json()}function dt(n){return new Promise((e,i)=>{const a=new FormData;a.append("file",n.blob(),n.filename()),fetch("/admin/upload-image",{method:"POST",body:a,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(ct).then(o=>{o.location?e(o.location):i("Error al subir imagen")}).catch(()=>{i("Error al subir imagen")})})}function ut(n){return n=n.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"'),n=n.replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"'),n=n.replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"'),n=n.replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"'),n}function pt(n){const e=ut;n.on("BeforeSetContent",function(i){i.content&&typeof i.content=="string"&&(i.content=e(i.content))}),n.on("PostProcess",function(i){i.content&&typeof i.content=="string"&&(i.content=e(i.content))})}function ft(n){return c.jsx("code",{className:"bg-white px-2 py-1 rounded",children:`{{${n}}}`},n)}export{Ot as default};
