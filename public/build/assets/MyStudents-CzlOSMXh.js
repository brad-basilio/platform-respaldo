import{c as Y,r as I,j as t,H as Z,L as ee}from"./app-C6YE5T--.js";import{A as te}from"./AuthenticatedLayout-_rPooCV6.js";import{B as Q}from"./badge-DHSqOQzH.js";import{B as $}from"./button-6tCHLMme.js";import{I as se}from"./input-BvfI1Hj0.js";import{P as le}from"./progress-BHxnw60Q.js";import{A as re,t as ae,M as ie,a as oe}from"./index.esm-CztITC9k.js";import{c as ne}from"./createLucideIcon-BGmV2zCp.js";import{X as de}from"./x-sHO0ZKp4.js";import{B as V}from"./book-open-D6fWrMEq.js";import{C as ce}from"./circle-check-big-WFnOe-g7.js";import{G as me}from"./graduation-cap-DeqEuz9X.js";import{A as xe}from"./arrow-left-BcGMsynW.js";import{S as he}from"./search-Dnb4AIrI.js";import{P as fe}from"./phone-i1TUlmDW.js";/* empty css            */import"./DocumentConfirmationModal-CZV_kU00.js";import"./dropdown-menu-uD6b7PPU.js";import"./index-BgNR7j3l.js";import"./index-CAKlQ3OI.js";import"./index-rSn7b1lN.js";import"./triangle-alert-CK3NKnUG.js";import"./clock-BWTYdOlS.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pe=ne("History",ue);ie.registerModules([oe]);function Oe(s){const e=Y.c(48),{students:a,stats:l}=s,[o,O]=I.useState(""),[T,W]=I.useState(null),X=ve,J=Ne;let y,N,v,_;e[0]===Symbol.for("react.memo_cache_sentinel")?(y={headerName:"Estudiante",field:"first_name",minWidth:250,filter:"agTextColumnFilter",cellRenderer:ye},N={headerName:"Nivel",field:"academic_level",minWidth:150,filter:"agTextColumnFilter",cellRenderer:je},v={headerName:"Contacto",field:"phone",minWidth:180,cellRenderer:ge},_={headerName:"Progreso",field:"progress",minWidth:200,cellRenderer:be},e[0]=y,e[1]=N,e[2]=v,e[3]=_):(y=e[0],N=e[1],v=e[2],_=e[3]);let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w=[y,N,v,_,{headerName:"Acciones",width:200,pinned:"right",sortable:!1,filter:!1,cellRenderer:j=>t.jsx("div",{className:"flex items-center h-full",children:t.jsxs($,{variant:"outline",size:"sm",onClick:()=>W(j.data),className:"text-blue-600 border-blue-200 hover:bg-blue-50 hover:text-blue-700 h-8",title:"Ver Historial de Clases",children:[t.jsx(pe,{className:"w-4 h-4 mr-1.5"}),"Historial"]})})}],e[4]=w):w=e[4];const K=w;let S;e[5]===Symbol.for("react.memo_cache_sentinel")?(S=j=>{const{student:i,onClose:G}=j;return i?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[85vh] flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex items-center justify-between p-5 border-b bg-gray-50/50",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-sm",style:{backgroundColor:i.academic_level_color},children:i.first_name.charAt(0)}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:[i.first_name," ",i.last_name]}),t.jsx("p",{className:"text-sm text-gray-500",children:"Historial de Clases"})]})]}),t.jsx("button",{onClick:G,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors",children:t.jsx(de,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-5 overflow-y-auto",children:i.enrollments.length===0?t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(V,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),t.jsx("p",{children:"No hay historial de clases registrado."})]}):t.jsx("div",{className:"space-y-3",children:i.enrollments.map(r=>{const q=J(r.status,r.attended,r.exam_completed);return t.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#073372] to-[#124d9c] text-white flex items-center justify-center font-bold text-sm shadow-sm",children:r.session_number}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-gray-900",children:r.class_title}),t.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Programada:"})," ",X(r.scheduled_at)]})]})]}),t.jsxs("div",{className:"flex flex-col items-end gap-2",children:[t.jsx(Q,{className:`${q.color} border px-2.5 py-0.5`,children:q.label}),t.jsxs("div",{className:"flex gap-1.5",children:[r.attended&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:[t.jsx(ce,{className:"w-3 h-3 mr-1"})," Asistió"]}),r.exam_completed&&t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:[t.jsx(me,{className:"w-3 h-3 mr-1"})," Examen"]})]})]})]},r.id)})})}),t.jsx("div",{className:"p-4 border-t bg-gray-50/50 flex justify-end",children:t.jsx($,{onClick:G,variant:"outline",className:"border-gray-300",children:"Cerrar"})})]})}):null},e[5]=S):S=e[5];const U=S;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(Z,{title:"Mis Participantes"}),e[6]=C):C=e[6];let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsxs("div",{children:[t.jsxs(ee,{href:"/dashboard",className:"inline-flex items-center gap-2 text-gray-500 hover:text-[#073372] transition-colors mb-2",children:[t.jsx(xe,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Volver al Dashboard"})]}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mis Participantes"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona y monitorea el progreso de tus aprendices"})]}),e[7]=k):k=e[7];let n;e[8]!==l.totalStudents?(n=t.jsx("div",{className:"text-2xl font-black text-[#073372]",children:l.totalStudents}),e[8]=l.totalStudents,e[9]=n):n=e[9];let P;e[10]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("div",{className:"text-xs font-semibold text-gray-600",children:"Total"}),e[10]=P):P=e[10];let d;e[11]!==n?(d=t.jsxs("div",{className:"text-center px-5 py-2.5 bg-[#073372]/5 rounded-xl border border-[#073372]/10",children:[n,P]}),e[11]=n,e[12]=d):d=e[12];let c;e[13]!==l.activeStudents?(c=t.jsx("div",{className:"text-2xl font-black text-[#F98613]",children:l.activeStudents}),e[13]=l.activeStudents,e[14]=c):c=e[14];let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("div",{className:"text-xs font-semibold text-gray-600",children:"En Progreso"}),e[15]=R):R=e[15];let m;e[16]!==c?(m=t.jsxs("div",{className:"text-center px-5 py-2.5 bg-[#F98613]/5 rounded-xl border border-[#F98613]/10",children:[c,R]}),e[16]=c,e[17]=m):m=e[17];let x;e[18]!==l.graduatedStudents?(x=t.jsx("div",{className:"text-2xl font-black text-[#17BC91]",children:l.graduatedStudents}),e[18]=l.graduatedStudents,e[19]=x):x=e[19];let A;e[20]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("div",{className:"text-xs font-semibold text-gray-600",children:"Completaron"}),e[20]=A):A=e[20];let h;e[21]!==x?(h=t.jsxs("div",{className:"text-center px-5 py-2.5 bg-[#17BC91]/5 rounded-xl border border-[#17BC91]/10",children:[x,A]}),e[21]=x,e[22]=h):h=e[22];let f;e[23]!==d||e[24]!==m||e[25]!==h?(f=t.jsx("div",{className:"bg-white border-b shadow-sm",children:t.jsx("div",{className:"w-full px-6 py-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[k,t.jsxs("div",{className:"flex items-center gap-4",children:[d,m,h]})]})})}),e[23]=d,e[24]=m,e[25]=h,e[26]=f):f=e[26];let B,M;e[27]===Symbol.for("react.memo_cache_sentinel")?(B=j=>O(j.target.value),M=t.jsx(he,{className:"w-5 h-5"}),e[27]=B,e[28]=M):(B=e[27],M=e[28]);let u;e[29]!==o?(u=t.jsx("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-gray-200 shadow-sm",children:t.jsx("div",{className:"w-full",children:t.jsx(se,{label:"Buscar por nombre, email o teléfono...",value:o,onChange:B,icon:M})})}),e[29]=o,e[30]=u):u=e[30];let H;e[31]===Symbol.for("react.memo_cache_sentinel")?(H={height:"600px",width:"100%"},e[31]=H):H=e[31];let z;e[32]===Symbol.for("react.memo_cache_sentinel")?(z={sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},e[32]=z):z=e[32];let E,F;e[33]===Symbol.for("react.memo_cache_sentinel")?(E=[10,20,50],F={mode:"singleRow"},e[33]=E,e[34]=F):(E=e[33],F=e[34]);let p;e[35]!==o||e[36]!==a?(p=t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsx("div",{className:"ag-theme-quartz",style:H,children:t.jsx(re,{theme:ae,rowData:a,columnDefs:K,quickFilterText:o,defaultColDef:z,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:E,rowSelection:F,animateRows:!0,domLayout:"normal",rowHeight:70,headerHeight:50,suppressCellFocus:!0,overlayNoRowsTemplate:'<div style="padding: 20px;">No se encontraron participantes</div>'})})}),e[35]=o,e[36]=a,e[37]=p):p=e[37];let b;e[38]!==u||e[39]!==p?(b=t.jsxs("div",{className:"w-full px-6 py-6 space-y-6",children:[u,p]}),e[38]=u,e[39]=p,e[40]=b):b=e[40];let L;e[41]===Symbol.for("react.memo_cache_sentinel")?(L=()=>W(null),e[41]=L):L=e[41];let g;e[42]!==T?(g=t.jsx(U,{student:T,onClose:L}),e[42]=T,e[43]=g):g=e[43];let D;return e[44]!==f||e[45]!==b||e[46]!==g?(D=t.jsxs(te,{children:[C,t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f,b,g]})]}),e[44]=f,e[45]=b,e[46]=g,e[47]=D):D=e[47],D}function be(s){const e=s.data;return t.jsxs("div",{className:"flex flex-col justify-center h-full w-full pr-4",children:[t.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[e.completed_classes,"/",e.total_classes," clases"]}),t.jsxs("span",{className:"text-xs font-bold text-gray-900",children:[e.progress,"%"]})]}),t.jsx(le,{value:e.progress,className:"h-2 w-full"})]})}function ge(s){const e=s.data;return t.jsx("div",{className:"flex flex-col justify-center h-full text-sm text-gray-600 gap-1",children:e.phone?t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(fe,{className:"w-3.5 h-3.5 text-gray-400"}),t.jsx("span",{children:e.phone})]}):t.jsx("span",{className:"text-gray-400 italic text-xs",children:"Sin teléfono"})})}function je(s){const e=s.data.academic_level_color;return t.jsx("div",{className:"flex items-center h-full",children:t.jsxs(Q,{variant:"outline",className:"font-medium",style:{borderColor:e,color:e,backgroundColor:`${e}10`},children:[t.jsx(V,{className:"w-3 h-3 mr-1.5"}),s.value]})})}function ye(s){const e=s.data,a=e.first_name.charAt(0);return t.jsxs("div",{className:"flex items-center gap-3 py-1",children:[t.jsx("div",{className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0",style:{backgroundColor:e.academic_level_color},children:a}),t.jsxs("div",{className:"flex flex-col justify-center",children:[t.jsxs("span",{className:"font-semibold text-gray-900 leading-tight",children:[e.first_name," ",e.last_name]}),t.jsx("span",{className:"text-xs text-gray-500",children:e.email})]})]})}function Ne(s,e,a){return s==="completed"&&e&&a?{label:"Completada",color:"bg-emerald-100 text-emerald-700",border:"border-emerald-200"}:s==="completed"&&e&&!a?{label:"Pendiente examen",color:"bg-amber-100 text-amber-700",border:"border-amber-200"}:s==="in_progress"?{label:"En curso",color:"bg-blue-100 text-blue-700",border:"border-blue-200"}:{label:"Programada",color:"bg-gray-100 text-gray-700",border:"border-gray-200"}}function ve(s){return new Date(s).toLocaleDateString("es-PE",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})}export{Oe as default};
