import{r as F,c as ke,u as U,j as c,H as Ne}from"./app-CRpZIwKH.js";import{R as $,A as Te,a as oe,b as Oe,c as De,d as Le,t as z}from"./AuthenticatedLayout-BCNhS_Yx.js";import{S as Ie,I as Y}from"./input-D3WZOiD7.js";/* empty css            */import"./button-dyQEeoCU.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-BsZw--N2.js";import"./createLucideIcon-DtbBEY2T.js";import"./index-BCOG9f1j.js";import"./index-DBASf53K.js";import"./index-BtRC7LB8.js";import"./badge-Bsr7IUJ7.js";import"./file-text-3Hmzimyb.js";import"./triangle-alert-BrIZxZNZ.js";import"./circle-check-big-BPzk6l3n.js";import"./clock-CgUnFPMp.js";var Q={exports:{}},Z,se;function Re(){if(se)return Z;se=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Z=r,Z}var ee,le;function Pe(){if(le)return ee;le=1;var r=Re();function e(){}function a(){}return a.resetWarningCache=e,ee=function(){function i(n,l,d,p,f,u){if(u!==r){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}i.isRequired=i;function o(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:a,resetWarningCache:e};return s.PropTypes=s,s},ee}var ce;function Be(){return ce||(ce=1,Q.exports=Pe()()),Q.exports}var t=Be(),re=function(){return re=Object.assign||function(r){for(var e,a=1,i=arguments.length;a<i;a++){e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},re.apply(this,arguments)},ge={onActivate:t.func,onAddUndo:t.func,onBeforeAddUndo:t.func,onBeforeExecCommand:t.func,onBeforeGetContent:t.func,onBeforeRenderUI:t.func,onBeforeSetContent:t.func,onBeforePaste:t.func,onBlur:t.func,onChange:t.func,onClearUndos:t.func,onClick:t.func,onContextMenu:t.func,onCommentChange:t.func,onCompositionEnd:t.func,onCompositionStart:t.func,onCompositionUpdate:t.func,onCopy:t.func,onCut:t.func,onDblclick:t.func,onDeactivate:t.func,onDirty:t.func,onDrag:t.func,onDragDrop:t.func,onDragEnd:t.func,onDragGesture:t.func,onDragOver:t.func,onDrop:t.func,onExecCommand:t.func,onFocus:t.func,onFocusIn:t.func,onFocusOut:t.func,onGetContent:t.func,onHide:t.func,onInit:t.func,onInput:t.func,onKeyDown:t.func,onKeyPress:t.func,onKeyUp:t.func,onLoadContent:t.func,onMouseDown:t.func,onMouseEnter:t.func,onMouseLeave:t.func,onMouseMove:t.func,onMouseOut:t.func,onMouseOver:t.func,onMouseUp:t.func,onNodeChange:t.func,onObjectResizeStart:t.func,onObjectResized:t.func,onObjectSelected:t.func,onPaste:t.func,onPostProcess:t.func,onPostRender:t.func,onPreProcess:t.func,onProgressState:t.func,onRedo:t.func,onRemove:t.func,onReset:t.func,onSaveContent:t.func,onSelectionChange:t.func,onSetAttrib:t.func,onSetContent:t.func,onShow:t.func,onSubmit:t.func,onUndo:t.func,onVisualAid:t.func,onSkinLoadError:t.func,onThemeLoadError:t.func,onModelLoadError:t.func,onPluginLoadError:t.func,onIconsLoadError:t.func,onLanguageLoadError:t.func,onScriptsLoad:t.func,onScriptsLoadError:t.func},Ae=re({apiKey:t.string,licenseKey:t.string,id:t.string,inline:t.bool,init:t.object,initialValue:t.string,onEditorChange:t.func,value:t.string,tagName:t.string,tabIndex:t.number,cloudChannel:t.string,plugins:t.oneOfType([t.string,t.array]),toolbar:t.oneOfType([t.string,t.array]),disabled:t.bool,readonly:t.bool,textareaName:t.string,tinymceScriptSrc:t.oneOfType([t.string,t.arrayOf(t.string),t.arrayOf(t.shape({src:t.string,async:t.bool,defer:t.bool}))]),rollback:t.oneOfType([t.number,t.oneOf([!1])]),scriptLoading:t.shape({async:t.bool,defer:t.bool,delay:t.number})},ge),ye=function(r){var e=r;return e&&e.tinymce?e.tinymce:null},ne=function(r){return typeof r=="function"},de=function(r){return r in ge},ue=function(r){return r.substr(2)},Me=function(r,e,a,i,o,s,n){var l=Object.keys(o).filter(de),d=Object.keys(s).filter(de),p=l.filter(function(u){return s[u]===void 0}),f=d.filter(function(u){return o[u]===void 0});p.forEach(function(u){var h=ue(u),y=n[h];a(h,y),delete n[h]}),f.forEach(function(u){var h=i(r,u),y=ue(u);n[y]=h,e(y,h)})},Fe=function(r,e,a,i,o){return Me(o,r.on.bind(r),r.off.bind(r),function(s,n){return function(l){var d;return(d=s(n))===null||d===void 0?void 0:d(l,r)}},e,a,i)},pe=0,be=function(r){var e=Date.now(),a=Math.floor(Math.random()*1e9);return pe++,r+"_"+a+pe+String(e)},fe=function(r){return r!==null&&(r.tagName.toLowerCase()==="textarea"||r.tagName.toLowerCase()==="input")},me=function(r){return typeof r>"u"||r===""?[]:Array.isArray(r)?r:r.split(" ")},He=function(r,e){return me(r).concat(me(e))},ze=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},We=function(r){if(!("isConnected"in Node.prototype)){for(var e=r,a=r.parentNode;a!=null;)e=a,a=e.parentNode;return e===r.ownerDocument}return r.isConnected},he=function(r,e){r!==void 0&&(r.mode!=null&&typeof r.mode=="object"&&typeof r.mode.set=="function"?r.mode.set(e):r.setMode(e))},Ke=function(r){var e=ye(r);if(!e)throw new Error("tinymce should have been loaded into global scope");return e},ve=function(r){return r.options&&r.options.isRegistered("disabled")},ie=function(){return ie=Object.assign||function(r){for(var e,a=1,i=arguments.length;a<i;a++){e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ie.apply(this,arguments)},Ve=function(r,e,a){var i,o,s=r.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e.id,s.src=e.src,s.async=(i=e.async)!==null&&i!==void 0?i:!1,s.defer=(o=e.defer)!==null&&o!==void 0?o:!1;var n=function(){s.removeEventListener("load",n),s.removeEventListener("error",l),a(e.src)},l=function(d){s.removeEventListener("load",n),s.removeEventListener("error",l),a(e.src,d)};s.addEventListener("load",n),s.addEventListener("error",l),r.head&&r.head.appendChild(s)},Ge=function(r){var e={},a=function(n,l){var d=e[n];d.done=!0,d.error=l;for(var p=0,f=d.handlers;p<f.length;p++){var u=f[p];u(n,l)}d.handlers=[]},i=function(n,l,d){var p=function(g){return d!==void 0?d(g):console.error(g)};if(n.length===0){p(new Error("At least one script must be provided"));return}for(var f=0,u=!1,h=function(g,C){u||(C?(u=!0,p(C)):++f===n.length&&l())},y=0,m=n;y<m.length;y++){var b=m[y],_=e[b.src];if(_)_.done?h(b.src,_.error):_.handlers.push(h);else{var w=be("tiny-");e[b.src]={id:w,src:b.src,done:!1,error:null,handlers:[h]},Ve(r,ie({id:w},b),a)}}},o=function(){for(var n,l=0,d=Object.values(e);l<d.length;l++){var p=d[l],f=r.getElementById(p.id);f!=null&&f.tagName==="SCRIPT"&&((n=f.parentNode)===null||n===void 0||n.removeChild(f))}e={}},s=function(){return r};return{loadScripts:i,deleteScripts:o,getDocument:s}},qe=function(){var r=[],e=function(o){var s=r.find(function(n){return n.getDocument()===o});return s===void 0&&(s=Ge(o),r.push(s)),s},a=function(o,s,n,l,d){var p=function(){return e(o).loadScripts(s,l,d)};n>0?setTimeout(p,n):p()},i=function(){for(var o=r.pop();o!=null;o=r.pop())o.deleteScripts()};return{loadList:a,reinitialize:i}},Ue=qe(),$e=(function(){var r=function(e,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},r(e,a)};return function(e,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(e,a);function i(){this.constructor=e}e.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}})(),H=function(){return H=Object.assign||function(r){for(var e,a=1,i=arguments.length;a<i;a++){e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},H.apply(this,arguments)},te="change keyup compositionend setcontent CommentChange",Je=(function(r){$e(e,r);function e(a){var i,o,s,n=r.call(this,a)||this;return n.rollbackTimer=void 0,n.valueCursor=void 0,n.rollbackChange=function(){var l=n.editor,d=n.props.value;l&&d&&d!==n.currentContent&&l.undoManager.ignore(function(){if(l.setContent(d),n.valueCursor&&(!n.inline||l.hasFocus()))try{l.selection.moveToBookmark(n.valueCursor)}catch{}}),n.rollbackTimer=void 0},n.handleBeforeInput=function(l){if(n.props.value!==void 0&&n.props.value===n.currentContent&&n.editor&&(!n.inline||n.editor.hasFocus()))try{n.valueCursor=n.editor.selection.getBookmark(3)}catch{}},n.handleBeforeInputSpecial=function(l){(l.key==="Enter"||l.key==="Backspace"||l.key==="Delete")&&n.handleBeforeInput(l)},n.handleEditorChange=function(l){var d=n.editor;if(d&&d.initialized){var p=d.getContent();n.props.value!==void 0&&n.props.value!==p&&n.props.rollback!==!1&&(n.rollbackTimer||(n.rollbackTimer=window.setTimeout(n.rollbackChange,typeof n.props.rollback=="number"?n.props.rollback:200))),p!==n.currentContent&&(n.currentContent=p,ne(n.props.onEditorChange)&&n.props.onEditorChange(p,d))}},n.handleEditorChangeSpecial=function(l){(l.key==="Backspace"||l.key==="Delete")&&n.handleEditorChange(l)},n.initialise=function(l){var d,p,f;l===void 0&&(l=0);var u=n.elementRef.current;if(u){if(!We(u)){if(l===0)setTimeout(function(){return n.initialise(1)},1);else if(l<100)setTimeout(function(){return n.initialise(l+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var h=Ke(n.view),y=H(H(H(H({},n.props.init),{selector:void 0,target:u,disabled:n.props.disabled,readonly:n.props.readonly,inline:n.inline,plugins:He((d=n.props.init)===null||d===void 0?void 0:d.plugins,n.props.plugins),toolbar:(p=n.props.toolbar)!==null&&p!==void 0?p:(f=n.props.init)===null||f===void 0?void 0:f.toolbar}),n.props.licenseKey?{license_key:n.props.licenseKey}:{}),{setup:function(m){n.editor=m,n.bindHandlers({}),n.inline&&!fe(u)&&m.once("PostRender",function(b){m.setContent(n.getInitialValue(),{no_events:!0})}),n.props.init&&ne(n.props.init.setup)&&n.props.init.setup(m),n.props.disabled&&(ve(n.editor)?n.editor.options.set("disabled",n.props.disabled):n.editor.mode.set("readonly"))},init_instance_callback:function(m){var b,_=n.getInitialValue();n.currentContent=(b=n.currentContent)!==null&&b!==void 0?b:m.getContent(),n.currentContent!==_&&(n.currentContent=_,m.setContent(_),m.undoManager.clear(),m.undoManager.add(),m.setDirty(!1)),n.props.init&&ne(n.props.init.init_instance_callback)&&n.props.init.init_instance_callback(m)}});n.inline||(u.style.visibility=""),fe(u)&&(u.value=n.getInitialValue()),h.init(y)}},n.id=n.props.id||be("tiny-react"),n.elementRef=F.createRef(),n.inline=(s=(i=n.props.inline)!==null&&i!==void 0?i:(o=n.props.init)===null||o===void 0?void 0:o.inline)!==null&&s!==void 0?s:!1,n.boundHandlers={},n}return Object.defineProperty(e.prototype,"view",{get:function(){var a,i;return(i=(a=this.elementRef.current)===null||a===void 0?void 0:a.ownerDocument.defaultView)!==null&&i!==void 0?i:window},enumerable:!1,configurable:!0}),e.prototype.componentDidUpdate=function(a){var i=this,o,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(a),this.editor.initialized)){if(this.currentContent=(o=this.currentContent)!==null&&o!==void 0?o:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==a.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var n=this.editor;n.undoManager.transact(function(){var d;if(!i.inline||n.hasFocus())try{d=n.selection.getBookmark(3)}catch{}var p=i.valueCursor;if(n.setContent(i.props.value),!i.inline||n.hasFocus())for(var f=0,u=[d,p];f<u.length;f++){var h=u[f];if(h)try{n.selection.moveToBookmark(h),i.valueCursor=h;break}catch{}}})}if(this.props.readonly!==a.readonly){var l=(s=this.props.readonly)!==null&&s!==void 0?s:!1;he(this.editor,l?"readonly":"design")}this.props.disabled!==a.disabled&&(ve(this.editor)?this.editor.options.set("disabled",this.props.disabled):he(this.editor,this.props.disabled?"readonly":"design"))}},e.prototype.componentDidMount=function(){var a=this,i,o,s,n,l;if(ye(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(o=(i=this.props).onScriptsLoadError)===null||o===void 0||o.call(i,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var d=function(){var f,u;(u=(f=a.props).onScriptsLoad)===null||u===void 0||u.call(f),a.initialise()},p=function(f){var u,h;(h=(u=a.props).onScriptsLoadError)===null||h===void 0||h.call(u,f)};Ue.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(l=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.delay)!==null&&l!==void 0?l:0,d,p)}},e.prototype.componentWillUnmount=function(){var a=this,i=this.editor;i&&(i.off(te,this.handleEditorChange),i.off(this.beforeInputEvent(),this.handleBeforeInput),i.off("keypress",this.handleEditorChangeSpecial),i.off("keydown",this.handleBeforeInputSpecial),i.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(o){i.off(o,a.boundHandlers[o])}),this.boundHandlers={},i.remove(),this.editor=void 0)},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.beforeInputEvent=function(){return ze()?"beforeinput SelectionChange":"SelectionChange"},e.prototype.renderInline=function(){var a=this.props.tagName,i=a===void 0?"div":a;return F.createElement(i,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.renderIframe=function(){return F.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},e.prototype.getScriptSources=function(){var a,i,o=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.async,s=(i=this.props.scriptLoading)===null||i===void 0?void 0:i.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:o,defer:s}]:this.props.tinymceScriptSrc.map(function(p){return typeof p=="string"?{src:p,async:o,defer:s}:p});var n=this.props.cloudChannel,l=this.props.apiKey?this.props.apiKey:"no-api-key",d="https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(n,"/tinymce.min.js");return[{src:d,async:o,defer:s}]},e.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},e.prototype.bindHandlers=function(a){var i=this;if(this.editor!==void 0){Fe(this.editor,a,this.props,this.boundHandlers,function(l){return i.props[l]});var o=function(l){return l.onEditorChange!==void 0||l.value!==void 0},s=o(a),n=o(this.props);!s&&n?(this.editor.on(te,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!n&&(this.editor.off(te,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},e.propTypes=Ae,e.defaultProps={cloudChannel:"8"},e})(F.Component);const Tn=r=>{const e=ke.c(68),{settings:a}=r,[i,o]=F.useState("mail"),[s,n]=F.useState("prospect_welcome"),l=[{key:"prospect_welcome",label:"Email de Bienvenida a Prospectos",variables:["nombre_estudiante","nombre_asesor","email_asesor","telefono_asesor","fecha_registro","url_plataforma"]},{key:"student_enrolled",label:"Email de Credenciales para Estudiantes Matriculados",variables:["nombre_estudiante","codigo_matricula","email","contrasena","url_plataforma","nivel_academico","plan_pago"]},{key:"enrollment_verified",label:"Email de Matrícula Verificada",variables:["nombre_estudiante","codigo_matricula","email","nivel_academico","plan_pago","verificado_por","fecha_verificacion","cantidad_documentos","url_plataforma"]}];let d;e[0]!==a.mail?(d=(a.mail||[]).reduce(Xe,{}),e[0]=a.mail,e[1]=d):d=e[1];let p;e[2]!==d?(p={settings:d},e[2]=d,e[3]=p):p=e[3];const f=U(p);let u;e[4]!==a.whatsapp?(u=a.whatsapp?.find(Ye)?.content||"",e[4]=a.whatsapp,e[5]=u):u=e[5];let h;e[6]!==a.whatsapp?(h=a.whatsapp?.find(Qe)?.content||"",e[6]=a.whatsapp,e[7]=h):h=e[7];let y;e[8]!==u||e[9]!==h?(y={whatsapp_number:u,whatsapp_message:h},e[8]=u,e[9]=h,e[10]=y):y=e[10];const m=U(y);let b;e[11]!==a.general?(b=a.general?.find(Ze)?.content||"",e[11]=a.general,e[12]=b):b=e[12];let _;e[13]!==a.general?(_=a.general?.find(en)?.content||"",e[13]=a.general,e[14]=_):_=e[14];let w;e[15]!==b||e[16]!==_?(w={site_name:b,site_description:_},e[15]=b,e[16]=_,e[17]=w):w=e[17];const g=U(w);let C;e[18]!==a.contact?(C=a.contact?.find(nn)?.content||"",e[18]=a.contact,e[19]=C):C=e[19];let W;e[20]!==C?(W={support_email:C},e[20]=C,e[21]=W):W=e[21];const x=U(W);let K;e[22]===Symbol.for("react.memo_cache_sentinel")?(K=[{id:"mail",label:"Templates de Email",icon:oe},{id:"whatsapp",label:"Configuración WhatsApp",icon:Oe},{id:"general",label:"Configuración General",icon:De},{id:"contact",label:"Información de Contacto",icon:oe}],e[22]=K):K=e[22];const _e=K;let E,k,V,N;if(e[23]!==x||e[24]!==g||e[25]!==f||e[26]!==m){V=S=>{S.preventDefault();const j=Object.entries(f.data.settings).map(je=>{const[ae,Ee]=je;return{key:ae,content:Ee,type:"mail",description:Se(ae)}});f.transform(()=>({settings:j})),f.post("/admin/settings",{onSuccess:tn,onError:rn})};let v;e[31]!==m?(v=S=>{S.preventDefault();const j=[{key:"whatsapp_number",content:m.data.whatsapp_number,type:"whatsapp",description:"Número de WhatsApp para contacto"},{key:"whatsapp_message",content:m.data.whatsapp_message,type:"whatsapp",description:"Mensaje predeterminado de WhatsApp"}];m.transform(()=>({settings:j})),m.post("/admin/settings",{onSuccess:an})},e[31]=m,e[32]=v):v=e[32],N=v;let M;e[33]!==g?(M=S=>{S.preventDefault();const j=[{key:"site_name",content:g.data.site_name,type:"general",description:"Nombre del sitio"},{key:"site_description",content:g.data.site_description,type:"general",description:"Descripción del sitio"}];g.transform(()=>({settings:j})),g.post("/admin/settings",{onSuccess:on})},e[33]=g,e[34]=M):M=e[34],k=M;let q;e[35]!==x?(q=S=>{S.preventDefault();const j=[{key:"support_email",content:x.data.support_email,type:"contact",description:"Email de soporte técnico para estudiantes"}];x.transform(()=>({settings:j})),x.post("/admin/settings",{onSuccess:sn})},e[35]=x,e[36]=q):q=e[36],E=q;const Se=ln;e[23]=x,e[24]=g,e[25]=f,e[26]=m,e[27]=E,e[28]=k,e[29]=V,e[30]=N}else E=e[27],k=e[28],V=e[29],N=e[30];const J=Te;let T;e[37]===Symbol.for("react.memo_cache_sentinel")?(T=c.jsx(Ne,{title:"Configuraciones"}),e[37]=T):T=e[37];const xe="p-6 space-y-6";let O;e[38]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-3 bg-gradient-to-br from-[#073372] to-[#17BC91] rounded-xl shadow-lg",children:c.jsx(Le,{className:"h-7 w-7 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Configuraciones del Sistema"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Administra templates de email, WhatsApp y configuración general"})]})]}),e[38]=O):O=e[38];const Ce="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden";let D;e[39]!==i?(D=c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("div",{className:"flex space-x-1 p-2",children:_e.map(v=>{const M=v.icon;return c.jsxs("button",{onClick:()=>o(v.id),className:`flex items-center px-6 py-3 rounded-lg font-medium transition-all ${i===v.id?"bg-gradient-to-r from-[#073372] to-[#17BC91] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[c.jsx(M,{className:"h-5 w-5 mr-2"}),v.label]},v.id)})})}),e[39]=i,e[40]=D):D=e[40];const we="p-8",X=i==="mail"&&c.jsxs("form",{onSubmit:V,className:"space-y-6",children:[c.jsx("div",{children:c.jsx(Ie,{label:"Seleccionar Template de Email",value:s,onChange:v=>n(v.target.value),required:!0,children:l.map(cn)})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.find(v=>v.key===s)?.label})}),c.jsx(Je,{apiKey:"0nai4nwo1mc0dumfyzl8re1odbzzr1fz4gfwzpgu5ghdnu4n",value:f.data.settings[s]||"",onEditorChange:v=>{f.setData("settings",{...f.data.settings,[s]:v})},init:{height:500,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help","wordcount"],toolbar:"undo redo | blocks | bold italic forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | removeformat | code | help",image_title:!0,automatic_uploads:!0,file_picker_types:"image",images_upload_url:"/admin/upload-image",images_upload_handler:un,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}},s),c.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Variables disponibles para este template:"}),c.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:l.find(v=>v.key===s)?.variables.map(pn)})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:f.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),f.processing?"Guardando...":"Guardar Template"]})})]});let L;e[41]!==i||e[42]!==N||e[43]!==m?(L=i==="whatsapp"&&c.jsxs("form",{onSubmit:N,className:"space-y-6",children:[c.jsx(Y,{label:"Número de WhatsApp",type:"text",value:m.data.whatsapp_number,onChange:v=>m.setData("whatsapp_number",v.target.value),helperText:"Ejemplo: +51987654321",variant:"outlined"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensaje Predeterminado"}),c.jsx("textarea",{value:m.data.whatsapp_message,onChange:v=>m.setData("whatsapp_message",v.target.value),rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Hola! Estoy interesado en información sobre los cursos..."}),c.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Este mensaje se usará como plantilla para contacto por WhatsApp"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:m.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),m.processing?"Guardando...":"Guardar Configuración"]})})]}),e[41]=i,e[42]=N,e[43]=m,e[44]=L):L=e[44];let I;e[45]!==i||e[46]!==g||e[47]!==k?(I=i==="general"&&c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsx(Y,{label:"Nombre del Sitio",type:"text",value:g.data.site_name,onChange:v=>g.setData("site_name",v.target.value),variant:"outlined"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripción del Sitio"}),c.jsx("textarea",{value:g.data.site_description,onChange:v=>g.setData("site_description",v.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#17BC91] focus:border-transparent transition-all",placeholder:"Descripción breve del sitio..."})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:g.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),g.processing?"Guardando...":"Guardar Configuración"]})})]}),e[45]=i,e[46]=g,e[47]=k,e[48]=I):I=e[48];let R;e[49]!==i||e[50]!==x||e[51]!==E?(R=i==="contact"&&c.jsxs("form",{onSubmit:E,className:"space-y-6",children:[c.jsx(Y,{label:"Email de Soporte",type:"email",value:x.data.support_email,onChange:v=>x.setData("support_email",v.target.value),helperText:"Email que se mostrará a los estudiantes para soporte técnico",variant:"outlined"}),c.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-900",children:[c.jsx("strong",{children:"Nota:"})," Este email se muestra en las notificaciones y modales de confirmación de documentos para que los estudiantes puedan contactar con soporte."]})}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"submit",disabled:x.processing,className:"inline-flex items-center px-6 py-3 bg-[#073372] hover:bg-[#17BC91] text-white font-medium rounded-lg transition-all shadow-md hover:shadow-lg disabled:opacity-50",children:[c.jsx($,{className:"h-5 w-5 mr-2"}),x.processing?"Guardando...":"Guardar Email"]})})]}),e[49]=i,e[50]=x,e[51]=E,e[52]=R):R=e[52];let P;e[53]!==X||e[54]!==L||e[55]!==I||e[56]!==R?(P=c.jsxs("div",{className:we,children:[X,L,I,R]}),e[53]=X,e[54]=L,e[55]=I,e[56]=R,e[57]=P):P=e[57];let B;e[58]!==D||e[59]!==P?(B=c.jsxs("div",{className:Ce,children:[D,P]}),e[58]=D,e[59]=P,e[60]=B):B=e[60];let A;e[61]!==O||e[62]!==B?(A=c.jsxs("div",{className:xe,children:[O,B]}),e[61]=O,e[62]=B,e[63]=A):A=e[63];let G;return e[64]!==J||e[65]!==T||e[66]!==A?(G=c.jsxs(J,{children:[T,A]}),e[64]=J,e[65]=T,e[66]=A,e[67]=G):G=e[67],G};function Xe(r,e){return r[e.key]=e.content,r}function Ye(r){return r.key==="whatsapp_number"}function Qe(r){return r.key==="whatsapp_message"}function Ze(r){return r.key==="site_name"}function en(r){return r.key==="site_description"}function nn(r){return r.key==="support_email"}function tn(){z.success("Configuración guardada",{description:"Los templates de email han sido actualizados",duration:4e3})}function rn(){z.error("Error",{description:"No se pudieron guardar las configuraciones",duration:4e3})}function an(){z.success("Configuración guardada",{description:"La configuración de WhatsApp ha sido actualizada",duration:4e3})}function on(){z.success("Configuración guardada",{description:"La configuración general ha sido actualizada",duration:4e3})}function sn(){z.success("Configuración guardada",{description:"El email de soporte ha sido actualizado",duration:4e3})}function ln(r){return{welcome_email:"Email de bienvenida para nuevos usuarios",payment_reminder:"Recordatorio de pago pendiente",enrollment_confirmation:"Confirmación de matrícula"}[r]||""}function cn(r){return c.jsx("option",{value:r.key,children:r.label},r.key)}function dn(r){return r.json()}function un(r){return new Promise((e,a)=>{const i=new FormData;i.append("file",r.blob(),r.filename()),fetch("/admin/upload-image",{method:"POST",body:i,headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||""}}).then(dn).then(o=>{o.location?e(o.location):a("Error al subir imagen")}).catch(()=>{a("Error al subir imagen")})})}function pn(r){return c.jsx("code",{className:"bg-white px-2 py-1 rounded",children:`{{${r}}}`},r)}export{Tn as default};
