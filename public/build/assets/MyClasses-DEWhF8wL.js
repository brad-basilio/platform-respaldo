import{c as pe,r as se,j as t,b as te,L as ce,H as ge}from"./app-BpXLPbzL.js";import{C as be,A as je,t as de}from"./AuthenticatedLayout-DzLmeUQy.js";import{B as ve}from"./badge-Coa06Q7b.js";import{B as ae}from"./button-iVlo7Pgw.js";import{S as Ne}from"./Select2-RloTOnDS.js";import{D as ye}from"./DatePicker-_blcZKid.js";import{I as Ce}from"./input-pMtvQRv9.js";import{A as _e,t as we,M as Se,a as ke}from"./index.esm-s0WAWzGx.js";import{C as Fe}from"./calendar-DKDuUuzY.js";import{C as Re}from"./clock-C67aOsxK.js";import{P as Ee}from"./play-8pPKx4_T.js";import{C as Ae}from"./circle-check-big-DuNX0gRA.js";import{E as De}from"./external-link--MUZIFaK.js";import{C as Pe}from"./chevron-right-COOiOVHt.js";import{A as Be}from"./arrow-left-DzN-1pR_.js";import{S as me}from"./search-HvS8GTO5.js";import{U as Le}from"./users-2g2aRmnJ.js";import{F as We}from"./film-CtcZ8W1Q.js";/* empty css            */import"./dropdown-menu-D9eqbTpY.js";import"./createLucideIcon-DMHu2HAu.js";import"./index-D3sIMzOI.js";import"./index-CKS-41j4.js";import"./index-nj8b-ULl.js";import"./x-DqmRuQwd.js";import"./triangle-alert-5gAUKPcV.js";import"./clsx-B-dksMZM.js";import"./index-CnyDuYXe.js";import"./parseISO-DSMcWN8w.js";Se.registerModules([ke]);function yt(s){const e=pe.c(79),{scheduledClasses:a,stats:n,filters:c}=s,[o,re]=se.useState(c.status||"");let R;e[0]!==c.date?(R=c.date?new Date(c.date):null,e[0]=c.date,e[1]=R):R=e[1];const[i,oe]=se.useState(R),[m,ie]=se.useState(""),fe=Qe,he=qe,ne=Ge;let E;e[2]!==i||e[3]!==o?(E=()=>{const l={};o&&(l.status=o),i&&(l.date=i.toISOString().split("T")[0]),te.get("/teacher/my-classes",l,{preserveState:!0})},e[2]=i,e[3]=o,e[4]=E):E=e[4];const le=E;let A;e[5]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{re(""),oe(null),ie(""),te.get("/teacher/my-classes")},e[5]=A):A=e[5];const xe=A;let D,P;e[6]===Symbol.for("react.memo_cache_sentinel")?(D={headerName:"Sesi√≥n",field:"template.session_number",minWidth:100,maxWidth:120,cellRenderer:Ie},P={headerName:"Clase",field:"template.title",minWidth:250,filter:"agTextColumnFilter",cellRenderer:He},e[6]=D,e[7]=P):(D=e[6],P=e[7]);let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B={headerName:"Horario",field:"scheduled_at",minWidth:200,cellRenderer:l=>t.jsxs("div",{className:"flex flex-col justify-center h-full py-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-gray-700",children:[t.jsx(Fe,{className:"w-3.5 h-3.5 text-slate-500"}),he(l.value)]}),t.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 mt-0.5",children:[t.jsx(Re,{className:"w-3.5 h-3.5"}),l.data.template.duration_minutes," min"]})]})},e[8]=B):B=e[8];let L,W,M;e[9]===Symbol.for("react.memo_cache_sentinel")?(L={headerName:"Estado",field:"status",minWidth:140,cellRenderer:l=>{const r=fe(l.value);return t.jsx("div",{className:"flex items-center h-full",children:t.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:r.bgColor,color:r.color,border:`1px solid ${r.borderColor}`},children:r.label})})}},W={headerName:"Alumnos",field:"enrollments_count",minWidth:120,cellRenderer:Te},M={headerName:"Grabaci√≥n",field:"recording_url",minWidth:140,cellRenderer:ze},e[9]=L,e[10]=W,e[11]=M):(L=e[9],W=e[10],M=e[11]);let z;e[12]===Symbol.for("react.memo_cache_sentinel")?(z=[D,P,B,L,W,M,{headerName:"Acciones",minWidth:200,pinned:"right",sortable:!1,filter:!1,cellRenderer:l=>{const r=l.data;return t.jsxs("div",{className:"flex items-center gap-2 h-full",children:[r.status==="scheduled"&&t.jsx("button",{onClick:()=>ne(r.id,"in_progress"),className:"text-orange-500 hover:text-orange-700 p-1.5 hover:bg-orange-50 rounded-lg transition-colors",title:"Iniciar Clase",children:t.jsx(Ee,{className:"w-4 h-4"})}),r.status==="in_progress"&&t.jsx("button",{onClick:()=>ne(r.id,"completed"),className:"text-green-500 hover:text-green-700 p-1.5 hover:bg-green-50 rounded-lg transition-colors",title:"Completar Clase",children:t.jsx(Ae,{className:"w-4 h-4"})}),r.meet_url&&t.jsx("a",{href:r.meet_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 p-1.5 hover:bg-blue-50 rounded-lg transition-colors",title:"Ir a Meet",children:t.jsx(De,{className:"w-4 h-4"})}),t.jsx(ce,{href:`/teacher/my-classes/${r.id}`,className:"text-slate-600 hover:text-slate-900 p-1.5 hover:bg-slate-100 rounded-lg transition-colors",title:"Ver Detalles",children:t.jsx(Pe,{className:"w-4 h-4"})})]})}}],e[12]=z):z=e[12];const ue=z;let T;e[13]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(ge,{title:"Mis Clases"}),e[13]=T):T=e[13];let H;e[14]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs("div",{children:[t.jsxs(ce,{href:"/dashboard",className:"inline-flex items-center gap-2 text-gray-500 hover:text-[#073372] transition-colors mb-3",children:[t.jsx(Be,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Volver al Dashboard"})]}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Clases"}),t.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona y monitorea tus sesiones de clase"})]}),e[14]=H):H=e[14];let d;e[15]!==n.scheduledClasses?(d=t.jsx("div",{className:"text-3xl font-black text-[#073372]",children:n.scheduledClasses}),e[15]=n.scheduledClasses,e[16]=d):d=e[16];let I;e[17]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Programadas"}),e[17]=I):I=e[17];let f;e[18]!==d?(f=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#073372]/5",children:[d,I]}),e[18]=d,e[19]=f):f=e[19];let h;e[20]!==n.inProgressClasses?(h=t.jsx("div",{className:"text-3xl font-black text-[#F98613]",children:n.inProgressClasses}),e[20]=n.inProgressClasses,e[21]=h):h=e[21];let G;e[22]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"En Curso"}),e[22]=G):G=e[22];let x;e[23]!==h?(x=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#F98613]/5",children:[h,G]}),e[23]=h,e[24]=x):x=e[24];let u;e[25]!==n.completedClasses?(u=t.jsx("div",{className:"text-3xl font-black text-[#17BC91]",children:n.completedClasses}),e[25]=n.completedClasses,e[26]=u):u=e[26];let $;e[27]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Completadas"}),e[27]=$):$=e[27];let p;e[28]!==u?(p=t.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md bg-[#17BC91]/5",children:[u,$]}),e[28]=u,e[29]=p):p=e[29];let g;e[30]!==f||e[31]!==x||e[32]!==p?(g=t.jsx("div",{className:"bg-white border-b shadow-sm",children:t.jsx("div",{className:"w-full px-6 py-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[H,t.jsxs("div",{className:"flex items-center gap-4",children:[f,x,p]})]})})}),e[30]=f,e[31]=x,e[32]=p,e[33]=g):g=e[33];let U,q;e[34]===Symbol.for("react.memo_cache_sentinel")?(U=l=>ie(l.target.value),q=t.jsx(me,{className:"w-5 h-5"}),e[34]=U,e[35]=q):(U=e[34],q=e[35]);let b;e[36]!==m?(b=t.jsx("div",{className:"w-full md:max-w-md",children:t.jsx(Ce,{label:"Buscar en esta p√°gina...",value:m,onChange:U,icon:q})}),e[36]=m,e[37]=b):b=e[37];let Q,V;e[38]===Symbol.for("react.memo_cache_sentinel")?(Q=l=>re(l),V=[{value:"",label:"Todos los estados"},{value:"scheduled",label:"üìÖ Programadas"},{value:"in_progress",label:"üîÑ En Curso"},{value:"completed",label:"‚úÖ Completadas"},{value:"cancelled",label:"‚ùå Canceladas"}],e[38]=Q,e[39]=V):(Q=e[38],V=e[39]);let j;e[40]!==o?(j=t.jsx("div",{className:"w-full md:w-48",children:t.jsx(Ne,{value:o,onChange:Q,options:V,isSearchable:!1,isClearable:!1,label:"Estado"})}),e[40]=o,e[41]=j):j=e[41];let O;e[42]===Symbol.for("react.memo_cache_sentinel")?(O=l=>oe(l),e[42]=O):O=e[42];let v;e[43]!==i?(v=t.jsx("div",{className:"w-full md:w-48",children:t.jsx(ye,{selected:i,onChange:O,isClearable:!0,label:"Fecha"})}),e[43]=i,e[44]=v):v=e[44];let X;e[45]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(me,{className:"w-4 h-4"}),e[45]=X):X=e[45];let N;e[46]!==le?(N=t.jsx(ae,{onClick:le,className:"bg-[#073372] hover:bg-[#052a5e] text-white shadow-sm h-[42px]",title:"Aplicar Filtros",children:X}),e[46]=le,e[47]=N):N=e[47];let y;e[48]!==i||e[49]!==o?(y=(o||i)&&t.jsx(ae,{onClick:xe,variant:"outline",className:"border-orange-500 text-orange-500 hover:bg-orange-50 h-[42px]",title:"Limpiar Filtros",children:t.jsx(be,{className:"w-4 h-4"})}),e[48]=i,e[49]=o,e[50]=y):y=e[50];let C;e[51]!==N||e[52]!==y?(C=t.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[N,y]}),e[51]=N,e[52]=y,e[53]=C):C=e[53];let _;e[54]!==j||e[55]!==v||e[56]!==C?(_=t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 w-full md:w-auto",children:[j,v,C]}),e[54]=j,e[55]=v,e[56]=C,e[57]=_):_=e[57];let w;e[58]!==b||e[59]!==_?(w=t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[b,_]}),e[58]=b,e[59]=_,e[60]=w):w=e[60];let Z;e[61]===Symbol.for("react.memo_cache_sentinel")?(Z={height:"600px",width:"100%"},e[61]=Z):Z=e[61];let J;e[62]===Symbol.for("react.memo_cache_sentinel")?(J={sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},e[62]=J):J=e[62];let K,Y;e[63]===Symbol.for("react.memo_cache_sentinel")?(K=[10,20,50],Y={mode:"singleRow"},e[63]=K,e[64]=Y):(K=e[63],Y=e[64]);let S;e[65]!==m||e[66]!==a.data?(S=t.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:t.jsx("div",{className:"ag-theme-quartz",style:Z,children:t.jsx(_e,{theme:we,rowData:a.data,columnDefs:ue,quickFilterText:m,defaultColDef:J,pagination:!0,paginationPageSize:10,paginationPageSizeSelector:K,rowSelection:Y,animateRows:!0,domLayout:"normal",rowHeight:70,headerHeight:50,suppressCellFocus:!0,rowClass:"hover:bg-gray-50",overlayNoRowsTemplate:'<div style="padding: 20px;">No hay clases para mostrar</div>'})})}),e[65]=m,e[66]=a.data,e[67]=S):S=e[67];let k;e[68]!==c||e[69]!==a.current_page||e[70]!==a.last_page?(k=a.last_page>1&&t.jsx("div",{className:"mt-8 flex justify-center gap-2 pb-8",children:Array.from({length:a.last_page},Me).map(l=>t.jsx(ae,{variant:l===a.current_page?"default":"outline",className:l===a.current_page?"font-bold text-white shadow-md":"font-semibold hover:bg-gray-50 text-slate-600",style:l===a.current_page?{backgroundColor:"#073372"}:{borderColor:"#e2e8f0"},onClick:()=>te.get("/teacher/my-classes",{...c,page:l}),children:l},l))}),e[68]=c,e[69]=a.current_page,e[70]=a.last_page,e[71]=k):k=e[71];let F;e[72]!==w||e[73]!==S||e[74]!==k?(F=t.jsxs("div",{className:"w-full px-6 py-6 space-y-6",children:[w,S,k]}),e[72]=w,e[73]=S,e[74]=k,e[75]=F):F=e[75];let ee;return e[76]!==g||e[77]!==F?(ee=t.jsxs(je,{children:[T,t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[g,F]})]}),e[76]=g,e[77]=F,e[78]=ee):ee=e[78],ee}function Me(s,e){return e+1}function ze(s){return s.value?t.jsx("div",{className:"flex items-center h-full",children:t.jsxs(ve,{className:"text-white font-semibold flex items-center gap-1 hover:bg-[#F98613]/90",style:{backgroundColor:"#F98613"},children:[t.jsx(We,{className:"w-3 h-3"}),"Grabaci√≥n"]})}):t.jsx("div",{className:"flex items-center h-full text-xs text-slate-400 italic",children:"Sin grabaci√≥n"})}function Te(s){return t.jsxs("div",{className:"flex items-center h-full gap-1.5 text-sm text-gray-700",children:[t.jsx(Le,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium",children:s.value}),t.jsx("span",{className:"text-slate-400",children:"/"}),t.jsx("span",{className:"text-slate-500",children:s.data.max_students})]})}function He(s){const e=s.data.template;return t.jsxs("div",{className:"flex flex-col justify-center h-full py-1",children:[t.jsx("span",{className:"font-semibold text-gray-900 leading-tight",children:e.title}),t.jsx("span",{className:"text-xs font-medium mt-1",style:{color:e.academic_level?.color||"#64748b"},children:e.academic_level?.name})]})}function Ie(s){const e=s.data.template.academic_level?.color||"#073372";return t.jsx("div",{className:"flex items-center justify-center h-full",children:t.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white shadow-sm",style:{backgroundColor:e},children:s.value})})}function Ge(s,e){te.put(`/teacher/my-classes/${s}/status`,{status:e},{onSuccess:Ue,onError:$e,preserveScroll:!0})}function $e(){return de.error("Error al actualizar estado")}function Ue(){return de.success("Estado actualizado")}function qe(s){return new Date(s).toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",timeZone:"America/Lima"})}function Qe(s){const e={scheduled:{label:"Programada",color:"#073372",bgColor:"rgba(7, 51, 114, 0.1)",borderColor:"rgba(7, 51, 114, 0.3)"},in_progress:{label:"En Curso",color:"#F98613",bgColor:"rgba(249, 134, 19, 0.1)",borderColor:"rgba(249, 134, 19, 0.3)"},completed:{label:"Completada",color:"#17BC91",bgColor:"rgba(23, 188, 145, 0.1)",borderColor:"rgba(23, 188, 145, 0.3)"},cancelled:{label:"Cancelada",color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)"}};return e[s]||e.scheduled}export{yt as default};
