import{c as ne,r as se,j as s,L as te,b as K,H as me}from"./app-_juWiQjN.js";import{A as de,t as re}from"./AuthenticatedLayout-CYep95iQ.js";import{B as W}from"./badge-Ds4M52Tk.js";import{B as n}from"./button-2qpoJ3W_.js";import{S as xe}from"./Select2-DnCjkQYX.js";import{D as he}from"./DatePicker-CrleUQaJ.js";import{C as le}from"./calendar-g5Z6WCQ8.js";import{C as fe}from"./clock-Bi8TvcHc.js";import{U as be}from"./users-D5sCaIAr.js";import{F as pe}from"./film-dYNcbf60.js";import{P as ge}from"./play-D9Jl2qH2.js";import{C as ae}from"./circle-check-big-AJRdMwTQ.js";import{E as ue}from"./external-link-Bp9X7rmX.js";import{C as ye}from"./chevron-right-DSNG6u1G.js";import{A as je}from"./arrow-left-DN5G2ZNb.js";import{F as Ne}from"./filter-Bmjk4ufW.js";import{S as _e}from"./search-CZC4C7bm.js";/* empty css            */import"./dropdown-menu-D9Ujf5tf.js";import"./createLucideIcon-Dy5hdPgB.js";import"./index-D12MHe17.js";import"./index-ButJPhDw.js";import"./index-DMUdtq1a.js";import"./file-text-B09_lDH2.js";import"./triangle-alert-BcPk12Hk.js";import"./clsx-B-dksMZM.js";import"./index-CnyDuYXe.js";import"./parseISO-BaDQbOxz.js";function ls(i){const e=ne.c(68),{scheduledClasses:l,stats:o,filters:c}=i,[a,X]=se.useState(c.status||"");let w;e[0]!==c.date?(w=c.date?new Date(c.date):null,e[0]=c.date,e[1]=w):w=e[1];const[r,Y]=se.useState(w),oe=Fe,ie=ke,ee=Ce;let S;e[2]!==r||e[3]!==a?(S=()=>{const t={};a&&(t.status=a),r&&(t.date=r.toISOString().split("T")[0]),K.get("/teacher/my-classes",t,{preserveState:!0})},e[2]=r,e[3]=a,e[4]=S):S=e[4];const Q=S;let k;e[5]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{X(""),Y(null),K.get("/teacher/my-classes")},e[5]=k):k=e[5];const ce=k;let F;e[6]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(me,{title:"Mis Clases"}),e[6]=F):F=e[6];let E;e[7]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{children:[s.jsxs(te,{href:"/dashboard",className:"inline-flex items-center gap-2 text-gray-500 hover:text-[#073372] transition-colors mb-3",children:[s.jsx(je,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Volver al Dashboard"})]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Clases"}),s.jsx("p",{className:"text-gray-500 mt-1",children:"Gestiona y monitorea tus sesiones de clase"})]}),e[7]=E):E=e[7];let B;e[8]===Symbol.for("react.memo_cache_sentinel")?(B={backgroundColor:"rgba(7, 51, 114, 0.05)"},e[8]=B):B=e[8];let P;e[9]===Symbol.for("react.memo_cache_sentinel")?(P={color:"#073372"},e[9]=P):P=e[9];let m;e[10]!==o.scheduledClasses?(m=s.jsx("div",{className:"text-3xl font-black",style:P,children:o.scheduledClasses}),e[10]=o.scheduledClasses,e[11]=m):m=e[11];let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Programadas"}),e[12]=D):D=e[12];let d;e[13]!==m?(d=s.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md",style:B,children:[m,D]}),e[13]=m,e[14]=d):d=e[14];let L;e[15]===Symbol.for("react.memo_cache_sentinel")?(L={backgroundColor:"rgba(249, 134, 19, 0.05)"},e[15]=L):L=e[15];let A;e[16]===Symbol.for("react.memo_cache_sentinel")?(A={color:"#F98613"},e[16]=A):A=e[16];let x;e[17]!==o.inProgressClasses?(x=s.jsx("div",{className:"text-3xl font-black",style:A,children:o.inProgressClasses}),e[17]=o.inProgressClasses,e[18]=x):x=e[18];let M;e[19]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"En Curso"}),e[19]=M):M=e[19];let h;e[20]!==x?(h=s.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md",style:L,children:[x,M]}),e[20]=x,e[21]=h):h=e[21];let $;e[22]===Symbol.for("react.memo_cache_sentinel")?($={backgroundColor:"rgba(23, 188, 145, 0.05)"},e[22]=$):$=e[22];let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R={color:"#17BC91"},e[23]=R):R=e[23];let f;e[24]!==o.completedClasses?(f=s.jsx("div",{className:"text-3xl font-black",style:R,children:o.completedClasses}),e[24]=o.completedClasses,e[25]=f):f=e[25];let T;e[26]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx("div",{className:"text-xs font-semibold text-gray-600 mt-1",children:"Completadas"}),e[26]=T):T=e[26];let b;e[27]!==f?(b=s.jsxs("div",{className:"text-center px-5 py-3 rounded-xl shadow-md",style:$,children:[f,T]}),e[27]=f,e[28]=b):b=e[28];let p;e[29]!==d||e[30]!==h||e[31]!==b?(p=s.jsx("div",{className:"bg-white border-b shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[E,s.jsxs("div",{className:"flex items-center gap-4",children:[d,h,b]})]})})}),e[29]=d,e[30]=h,e[31]=b,e[32]=p):p=e[32];let U;e[33]===Symbol.for("react.memo_cache_sentinel")?(U={backgroundColor:"rgba(7, 51, 114, 0.1)"},e[33]=U):U=e[33];let z;e[34]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx("div",{className:"p-2.5 rounded-lg",style:U,children:s.jsx(Ne,{className:"w-5 h-5",style:{color:"#073372"}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Filtros de BÃºsqueda"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Encuentra tus clases rÃ¡pidamente"})]})]}),e[34]=z):z=e[34];let G,H,I;e[35]===Symbol.for("react.memo_cache_sentinel")?(G=t=>X(t),H=[{value:"",label:"Todos los estados"},{value:"scheduled",label:"ðŸ“… Programadas"},{value:"in_progress",label:"ðŸ”„ En Curso"},{value:"completed",label:"âœ… Completadas"},{value:"cancelled",label:"âŒ Canceladas"}],I=s.jsx(ae,{className:"w-5 h-5"}),e[35]=G,e[36]=H,e[37]=I):(G=e[35],H=e[36],I=e[37]);let g;e[38]!==a?(g=s.jsx(xe,{label:"Estado de la Clase",value:a,onChange:G,options:H,icon:I,isSearchable:!1,isClearable:!1}),e[38]=a,e[39]=g):g=e[39];let V;e[40]===Symbol.for("react.memo_cache_sentinel")?(V=t=>Y(t),e[40]=V):V=e[40];let u;e[41]!==r?(u=s.jsx(he,{label:"Fecha",selected:r,onChange:V,isClearable:!0}),e[41]=r,e[42]=u):u=e[42];let q,O;e[43]===Symbol.for("react.memo_cache_sentinel")?(q={backgroundColor:"#073372"},O=s.jsx(_e,{className:"w-5 h-5 mr-2"}),e[43]=q,e[44]=O):(q=e[43],O=e[44]);let y;e[45]!==Q?(y=s.jsxs(n,{onClick:Q,className:"h-14 text-white font-semibold shadow-md hover:shadow-lg transition-all",style:q,children:[O,"Buscar"]}),e[45]=Q,e[46]=y):y=e[46];let j;e[47]!==r||e[48]!==a?(j=(a||r)&&s.jsx(n,{onClick:ce,variant:"outline",className:"h-14 border-2 font-semibold hover:bg-gray-50",style:{borderColor:"#F98613",color:"#F98613"},children:"Limpiar Filtros"}),e[47]=r,e[48]=a,e[49]=j):j=e[49];let N;e[50]!==g||e[51]!==u||e[52]!==y||e[53]!==j?(N=s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[z,s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[g,u,y,j]})]}),e[50]=g,e[51]=u,e[52]=y,e[53]=j,e[54]=N):N=e[54];let _;e[55]!==l.data?(_=l.data.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"rgba(7, 51, 114, 0.1)"},children:s.jsx(le,{className:"w-10 h-10",style:{color:"#073372",opacity:.5}})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No hay clases"}),s.jsx("p",{className:"text-gray-500",children:"No tienes clases asignadas con los filtros seleccionados."})]}):s.jsx("div",{className:"space-y-4",children:l.data.map(t=>{const J=oe(t.status);return s.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 overflow-hidden",children:s.jsxs("div",{className:"flex items-stretch",children:[s.jsxs("div",{className:"w-28 flex-shrink-0 flex flex-col items-center justify-center py-6",style:{backgroundColor:t.template.academic_level?.color||"#073372"},children:[s.jsx("span",{className:"text-4xl font-black text-white",children:t.template.session_number}),s.jsx("span",{className:"text-xs text-white/80 uppercase font-semibold mt-1",children:"SesiÃ³n"})]}),s.jsx("div",{className:"flex-1 p-5",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900",children:t.template.title}),s.jsx(W,{className:"text-xs font-semibold px-3 py-1",style:{backgroundColor:J.bgColor,color:J.color,border:`1px solid ${J.borderColor}`},children:J.label})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600 mt-3",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(le,{className:"w-4 h-4",style:{color:"#073372"}}),ie(t.scheduled_at)]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(fe,{className:"w-4 h-4",style:{color:"#073372"}}),t.template.duration_minutes," min"]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(be,{className:"w-4 h-4",style:{color:"#073372"}}),t.enrollments_count,"/",t.max_students," estudiantes"]}),s.jsx(W,{variant:"outline",className:"font-semibold",style:{borderColor:t.template.academic_level?.color,color:t.template.academic_level?.color},children:t.template.academic_level?.name})]}),t.recording_url&&s.jsx("div",{className:"mt-3",children:s.jsxs(W,{className:"text-white font-semibold",style:{backgroundColor:"#F98613"},children:[s.jsx(pe,{className:"w-3 h-3 mr-1.5"}),"Con GrabaciÃ³n"]})})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.status==="scheduled"&&s.jsxs(n,{className:"font-semibold text-white shadow-md hover:shadow-lg transition-all",style:{backgroundColor:"#F98613"},onClick:()=>ee(t.id,"in_progress"),children:[s.jsx(ge,{className:"w-4 h-4 mr-1.5"}),"Iniciar"]}),t.status==="in_progress"&&s.jsxs(n,{className:"font-semibold text-white shadow-md hover:shadow-lg transition-all",style:{backgroundColor:"#17BC91"},onClick:()=>ee(t.id,"completed"),children:[s.jsx(ae,{className:"w-4 h-4 mr-1.5"}),"Completar"]}),t.meet_url&&s.jsx("a",{href:t.meet_url,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(n,{variant:"outline",className:"font-semibold",style:{borderColor:"#073372",color:"#073372"},children:[s.jsx(ue,{className:"w-4 h-4 mr-1.5"}),"Meet"]})}),s.jsx(te,{href:`/teacher/my-classes/${t.id}`,children:s.jsxs(n,{variant:"outline",className:"font-semibold text-gray-800",children:["Ver Detalle",s.jsx(ye,{className:"w-4 h-4 ml-1"})]})})]})]})})]})},t.id)})}),e[55]=l.data,e[56]=_):_=e[56];let v;e[57]!==c||e[58]!==l.current_page||e[59]!==l.last_page?(v=l.last_page>1&&s.jsx("div",{className:"mt-8 flex justify-center gap-2",children:Array.from({length:l.last_page},ve).map(t=>s.jsx(n,{variant:t===l.current_page?"default":"outline",className:t===l.current_page?"font-bold text-white shadow-md":"font-semibold hover:bg-gray-50",style:t===l.current_page?{backgroundColor:"#073372"}:{borderColor:"#073372",color:"#073372"},onClick:()=>K.get("/teacher/my-classes",{...c,page:t}),children:t},t))}),e[57]=c,e[58]=l.current_page,e[59]=l.last_page,e[60]=v):v=e[60];let C;e[61]!==N||e[62]!==_||e[63]!==v?(C=s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[N,_,v]}),e[61]=N,e[62]=_,e[63]=v,e[64]=C):C=e[64];let Z;return e[65]!==p||e[66]!==C?(Z=s.jsxs(de,{children:[F,s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p,C]})]}),e[65]=p,e[66]=C,e[67]=Z):Z=e[67],Z}function ve(i,e){return e+1}function Ce(i,e){K.put(`/teacher/my-classes/${i}/status`,{status:e},{onSuccess:Se,onError:we,preserveScroll:!0})}function we(){return re.error("Error al actualizar estado")}function Se(){return re.success("Estado actualizado")}function ke(i){return new Date(i).toLocaleDateString("es-PE",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",timeZone:"America/Lima"})}function Fe(i){const e={scheduled:{label:"Programada",color:"#073372",bgColor:"rgba(7, 51, 114, 0.1)",borderColor:"rgba(7, 51, 114, 0.3)"},in_progress:{label:"En Curso",color:"#F98613",bgColor:"rgba(249, 134, 19, 0.1)",borderColor:"rgba(249, 134, 19, 0.3)"},completed:{label:"Completada",color:"#17BC91",bgColor:"rgba(23, 188, 145, 0.1)",borderColor:"rgba(23, 188, 145, 0.3)"},cancelled:{label:"Cancelada",color:"#ef4444",bgColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.3)"}};return e[i]||e.scheduled}export{ls as default};
