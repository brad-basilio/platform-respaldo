import{d as z,r as d,j as e,b as x,U as I}from"./app-CVv7ZG74.js";import{A as F}from"./AuthenticatedLayout-Bk-cpgMv.js";import{A as R,t as G,M as H,a as L}from"./index.esm-UPRISHkQ.js";import{C as O}from"./circle-check-big-Bzz9K-UX.js";import{C as W}from"./circle-alert-CD6Sn_8H.js";import{B as $}from"./book-open-CG0kAsYx.js";import{S as V}from"./square-pen-DUzQI6jp.js";import{T as N,P as w}from"./trash-2-DqyzN4-Y.js";import{S as U}from"./search-BmIt3uur.js";import{C as J}from"./DocumentConfirmationModal-BwGr4Zrx.js";/* empty css            */import"./index-C29d0i3U.js";import"./createLucideIcon-DF3dqa9c.js";import"./button-CnPoxm1_.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-BeAQQnmj.js";import"./index-C48nmXbu.js";import"./index-BLM_NRAb.js";import"./badge-BMxtx184.js";import"./file-text-F5GMD3rL.js";import"./triangle-alert-DEAtRq5o.js";import"./clock-BPVPYuXJ.js";H.registerModules([L]);const fe=({teachers:C,groups:Q})=>{const{flash:u}=z().props,[_,g]=d.useState(!1),[m,h]=d.useState(null),[p,f]=d.useState(""),v=C.map(l=>({...l,name:l.name||`${l.first_name} ${l.paternal_last_name} ${l.maternal_last_name||""}`.trim(),availableSchedule:l.availableSchedule||l.available_schedule||[],assignedGroups:l.assignedGroups||[],assignedGroupIds:l.assignedGroupIds||[]})),k=l=>{x.post("/admin/teachers",l,{onSuccess:()=>{g(!1)}})},S=l=>{m&&x.put(`/admin/teachers/${m.id}`,l,{onSuccess:()=>{h(null)}})},T=l=>{const s=v.find(n=>n.id===l);if(s&&s.assignedGroups&&s.assignedGroups.length>0){alert("No se puede eliminar un profesor con grupos asignados. Por favor reasigna los grupos primero.");return}confirm("¿Estás seguro de que quieres eliminar este profesor?")&&x.delete(`/admin/teachers/${l}`)},j=({teacher:l,onSubmit:s,onCancel:n})=>{const[a,t]=d.useState({first_name:l?.first_name||"",paternal_last_name:l?.paternal_last_name||"",maternal_last_name:l?.maternal_last_name||"",email:l?.email||"",phone_number:l?.phone_number||"",gender:l?.gender||"",age:l?.age?.toString()||"",birth_date:l?.birth_date||"",document_type:l?.document_type||"DNI",document_number:l?.document_number||"",education_level:l?.education_level||"",status:l?.status||"active",specialization:l?.specialization||"theoretical",start_date:l?.start_date||"",bank_account:l?.bank_account||"",bank:l?.bank||"",work_modality:l?.work_modality||"",language_level:l?.language_level||"",contract_status:l?.contract_status||"contratado",contract_period:l?.contract_period||"",contract_modality:l?.contract_modality||"",current_address:l?.current_address||"",emergency_contact_number:l?.emergency_contact_number||"",emergency_contact_relationship:l?.emergency_contact_relationship||"",emergency_contact_name:l?.emergency_contact_name||"",available_schedule:l?.availableSchedule||l?.available_schedule||[{dayOfWeek:"Lunes",startTime:"09:00",endTime:"12:00",duration:180}]}),M=()=>{t({...a,available_schedule:[...a.available_schedule,{dayOfWeek:"Lunes",startTime:"09:00",endTime:"12:00",duration:180}]})},B=r=>{t({...a,available_schedule:a.available_schedule.filter((o,i)=>i!==r)})},b=(r,o,i)=>{const c=[...a.available_schedule];if(o==="duration"?c[r]={...c[r],[o]:parseInt(i)}:c[r]={...c[r],[o]:i},o==="startTime"||o==="endTime"){const y=c[r],E=parseInt(y.startTime.replace(":","")),q=parseInt(y.endTime.replace(":",""));c[r].duration=Math.round((q-E)*60/100)}t({...a,available_schedule:c})},D=r=>{r.preventDefault(),s(a)};return I.useEffect(()=>{const r=window.scrollY;return document.body.style.position="fixed",document.body.style.top=`-${r}px`,document.body.style.width="100%",document.body.style.overflow="hidden",()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",window.scrollTo(0,r)}},[]),e.jsx("div",{className:"fixed inset-0 z-[9999] bg-black/75 backdrop-blur-sm animate-fade-in flex items-center justify-center p-4",onClick:n,style:{height:"100vh",width:"100vw"},children:e.jsxs("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col animate-scale-in",onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"relative bg-gradient-to-r from-green-600 to-blue-600 px-8 py-6 rounded-t-3xl flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:l?"Editar Profesor":"Nuevo Profesor"}),e.jsx("p",{className:"text-green-100",children:l?"Actualiza la información del profesor":"Completa la información para registrar un nuevo profesor"})]}),e.jsx("button",{type:"button",onClick:n,className:"flex-shrink-0 w-10 h-10 flex items-center justify-center text-white hover:bg-white/10 rounded-lg transition-all duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("form",{onSubmit:D,className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxs("div",{className:"p-8 space-y-6 overflow-y-auto flex-1",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4 pb-2 border-b-2 border-blue-600",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold mr-3",children:"1"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Datos Personales del Profesor"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombres *"}),e.jsx("input",{type:"text",value:a.first_name,onChange:r=>t({...a,first_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido Paterno *"}),e.jsx("input",{type:"text",value:a.paternal_last_name,onChange:r=>t({...a,paternal_last_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido Materno"}),e.jsx("input",{type:"text",value:a.maternal_last_name,onChange:r=>t({...a,maternal_last_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),e.jsxs("select",{value:a.document_type,onChange:r=>t({...a,document_type:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"DNI",children:"DNI"}),e.jsx("option",{value:"CE",children:"Carnet de Extranjería"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Documento *"}),e.jsx("input",{type:"text",value:a.document_number,onChange:r=>t({...a,document_number:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:a.document_type==="DNI"?"12345678":"001234567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Nacimiento *"}),e.jsx("input",{type:"date",value:a.birth_date,onChange:r=>t({...a,birth_date:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sexo *"}),e.jsxs("select",{value:a.gender,onChange:r=>t({...a,gender:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número de Celular *"}),e.jsx("input",{type:"tel",value:a.phone_number,onChange:r=>t({...a,phone_number:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+51 987654321",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Grado de Instrucción *"}),e.jsxs("select",{value:a.education_level,onChange:r=>t({...a,education_level:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"tecnico",children:"Técnico"}),e.jsx("option",{value:"universitario",children:"Universitario"}),e.jsx("option",{value:"maestria",children:"Maestría"}),e.jsx("option",{value:"doctorado",children:"Doctorado"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico *"}),e.jsx("input",{type:"email",value:a.email,onChange:r=>t({...a,email:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4 pb-2 border-b-2 border-green-600",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold mr-3",children:"2"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Datos Laborales"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Ingreso *"}),e.jsx("input",{type:"date",value:a.start_date,onChange:r=>t({...a,start_date:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modalidad de Trabajo *"}),e.jsxs("select",{value:a.work_modality,onChange:r=>t({...a,work_modality:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"presencial",children:"Presencial"}),e.jsx("option",{value:"virtual",children:"Virtual"}),e.jsx("option",{value:"hibrido",children:"Híbrido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nivel de Idioma *"}),e.jsxs("select",{value:a.language_level,onChange:r=>t({...a,language_level:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"nativo",children:"Nativo"}),e.jsx("option",{value:"C2",children:"C2 - Proficiency"}),e.jsx("option",{value:"C1",children:"C1 - Advanced"}),e.jsx("option",{value:"B2",children:"B2 - Upper Intermediate"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cuenta Bancaria / CCI"}),e.jsx("input",{type:"text",value:a.bank_account,onChange:r=>t({...a,bank_account:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Número de cuenta o CCI"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Banco"}),e.jsxs("select",{value:a.bank,onChange:r=>t({...a,bank:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar banco"}),e.jsx("option",{value:"BCP",children:"Banco de Crédito del Perú"}),e.jsx("option",{value:"BBVA",children:"BBVA"}),e.jsx("option",{value:"Scotiabank",children:"Scotiabank"}),e.jsx("option",{value:"Interbank",children:"Interbank"}),e.jsx("option",{value:"BanBif",children:"BanBif"}),e.jsx("option",{value:"Banco Pichincha",children:"Banco Pichincha"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado de Contrato *"}),e.jsxs("select",{value:a.contract_status,onChange:r=>t({...a,contract_status:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"contratado",children:"Contratado"}),e.jsx("option",{value:"en_proceso",children:"En Proceso"}),e.jsx("option",{value:"finalizado",children:"Finalizado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Periodo de Contrato"}),e.jsx("input",{type:"text",value:a.contract_period,onChange:r=>t({...a,contract_period:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: 6 meses, 1 año"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Modalidad de Contrato"}),e.jsxs("select",{value:a.contract_modality,onChange:r=>t({...a,contract_modality:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"tiempo_completo",children:"Tiempo Completo"}),e.jsx("option",{value:"medio_tiempo",children:"Medio Tiempo"}),e.jsx("option",{value:"por_horas",children:"Por Horas"}),e.jsx("option",{value:"freelance",children:"Freelance"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialización *"}),e.jsxs("select",{value:a.specialization,onChange:r=>t({...a,specialization:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"theoretical",children:"Solo Teórico"}),e.jsx("option",{value:"practical",children:"Solo Práctico"}),e.jsx("option",{value:"both",children:"Ambos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado *"}),e.jsxs("select",{value:a.status,onChange:r=>t({...a,status:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"active",children:"Activo"}),e.jsx("option",{value:"inactive",children:"Inactivo"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-4 pb-2 border-b-2 border-purple-600",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center font-bold mr-3",children:"3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Datos de Contacto y Emergencia"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección Actual"}),e.jsx("textarea",{rows:2,value:a.current_address,onChange:r=>t({...a,current_address:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Dirección completa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contacto de Emergencia"}),e.jsx("input",{type:"text",value:a.emergency_contact_name,onChange:r=>t({...a,emergency_contact_name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre completo"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono de Emergencia"}),e.jsx("input",{type:"tel",value:a.emergency_contact_number,onChange:r=>t({...a,emergency_contact_number:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+51 987654321"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Parentesco"}),e.jsxs("select",{value:a.emergency_contact_relationship,onChange:r=>t({...a,emergency_contact_relationship:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar"}),e.jsx("option",{value:"padre",children:"Padre"}),e.jsx("option",{value:"madre",children:"Madre"}),e.jsx("option",{value:"esposo",children:"Esposo/a"}),e.jsx("option",{value:"hermano",children:"Hermano/a"}),e.jsx("option",{value:"hijo",children:"Hijo/a"}),e.jsx("option",{value:"otro",children:"Otro"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b-2 border-orange-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center font-bold mr-3",children:"4"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Horarios Disponibles"})]}),e.jsxs("button",{type:"button",onClick:M,className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4"}),"Agregar Horario"]})]}),e.jsx("div",{className:"space-y-3",children:a.available_schedule.map((r,o)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("select",{value:r.dayOfWeek,onChange:i=>b(o,"dayOfWeek",i.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Lunes",children:"Lunes"}),e.jsx("option",{value:"Martes",children:"Martes"}),e.jsx("option",{value:"Miércoles",children:"Miércoles"}),e.jsx("option",{value:"Jueves",children:"Jueves"}),e.jsx("option",{value:"Viernes",children:"Viernes"}),e.jsx("option",{value:"Sábado",children:"Sábado"}),e.jsx("option",{value:"Domingo",children:"Domingo"})]}),e.jsx("input",{type:"time",value:r.startTime,onChange:i=>b(o,"startTime",i.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-500",children:"a"}),e.jsx("input",{type:"time",value:r.endTime,onChange:i=>b(o,"endTime",i.target.value),className:"px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",r.duration," min)"]}),a.available_schedule.length>1&&e.jsx("button",{type:"button",onClick:()=>B(o),className:"text-red-600 hover:text-red-700 p-1",children:e.jsx(N,{className:"h-4 w-4"})})]},o))})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 rounded-b-3xl border-t-2 border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 text-gray-700 bg-white hover:bg-gray-100 border-2 border-gray-300 rounded-xl font-semibold transition-all duration-200",children:"Cancelar"}),e.jsxs("button",{type:"submit",className:"px-6 py-3 rounded-xl font-semibold transition-all duration-200 shadow-sm flex items-center gap-2 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white",children:[l?"Actualizar":"Crear"," Profesor"]})]})})]})]})})},P=()=>{x.reload({only:["teachers"],preserveState:!1,preserveScroll:!1})},A=d.useMemo(()=>[{headerName:"Profesor",field:"name",minWidth:250,filter:"agTextColumnFilter",cellRenderer:l=>{const s=l.data;return e.jsxs("div",{className:"flex items-center py-2 w-full h-full",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:s.name?.split(" ").map(n=>n[0]).join("")||"?"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}},{headerName:"Estado",field:"status",width:120,filter:"agTextColumnFilter",cellRenderer:l=>{const s=l.value;return e.jsx("div",{className:"flex items-center w-full h-full",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${s==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[s==="active"?e.jsx(O,{className:"w-3 h-3 mr-1"}):e.jsx(W,{className:"w-3 h-3 mr-1"}),s==="active"?"Activo":"Inactivo"]})})}},{headerName:"Especialización",field:"specialization",width:150,filter:"agTextColumnFilter",cellRenderer:l=>{const s=l.value;return e.jsx("div",{className:"flex items-center w-full h-full",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s==="theoretical"?"bg-blue-100 text-blue-800":s==="practical"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx($,{className:"w-3 h-3 mr-1"}),s==="theoretical"?"Teórico":s==="practical"?"Práctico":"Ambos"]})})}},{headerName:"Nivel de Idioma",field:"language_level",width:140,filter:"agTextColumnFilter",cellRenderer:l=>e.jsx("div",{className:"flex items-center w-full h-full",children:e.jsx("span",{className:"text-sm text-gray-900",children:l.value||"No especificado"})})},{headerName:"Modalidad",field:"work_modality",width:130,filter:"agTextColumnFilter",cellRenderer:l=>e.jsx("div",{className:"flex items-center w-full h-full",children:e.jsx("span",{className:"text-sm text-gray-900",children:l.value||"No especificado"})})},{headerName:"Grupos Asignados",field:"assignedGroups",width:150,filter:!1,cellRenderer:l=>{const s=l.value||[];return e.jsx("div",{className:"flex items-center w-full h-full",children:s.length>0?e.jsxs("div",{className:"space-y-1",children:[s.slice(0,2).map(n=>e.jsx("div",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:n.groupName},n.groupId)),s.length>2&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",s.length-2," más"]})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Sin grupos"})})}},{headerName:"Horarios",field:"availableSchedule",width:180,filter:!1,cellRenderer:l=>{const s=l.value||[];return e.jsx("div",{className:"flex items-center w-full h-full",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[e.jsxs("div",{className:"font-medium",children:[s.length," horarios"]}),s.slice(0,2).map((n,a)=>e.jsxs("div",{className:"text-xs text-gray-500",children:[n.dayOfWeek," ",n.startTime,"-",n.endTime]},a)),s.length>2&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",s.length-2," más"]})]})})}},{headerName:"Acciones",width:120,sortable:!1,filter:!1,cellRenderer:l=>{const s=l.data;return e.jsxs("div",{className:"flex items-center space-x-2 w-full h-full",children:[e.jsx("button",{onClick:()=>h(s),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:"Editar profesor",children:e.jsx(V,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>T(s.id),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Eliminar profesor",children:e.jsx(N,{className:"h-4 w-4"})})]})}}],[]);return e.jsx(F,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[u?.success&&e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 mb-4",children:e.jsx("p",{className:"text-green-700",children:u.success})}),u?.error&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:e.jsx("p",{className:"text-red-700",children:u.error})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Profesores"}),e.jsx("p",{className:"text-gray-600",children:"Gestiona perfiles de profesores y asignaciones de horarios"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 text-gray-700 bg-white border-2 border-gray-300 hover:border-gray-400 rounded-lg font-medium transition-colors",title:"Recargar datos desde el servidor",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),e.jsx("span",{children:"Recargar"})]}),e.jsxs("button",{onClick:()=>g(!0),className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("span",{children:"Agregar Profesor"})]})]})]}),_&&e.jsx(j,{onSubmit:k,onCancel:()=>g(!1)}),m&&e.jsx(j,{teacher:m,onSubmit:S,onCancel:()=>h(null)}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, email, especialización, nivel, modalidad...",value:p,onChange:l=>f(l.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),p&&e.jsx("button",{onClick:()=>f(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"ag-theme-quartz",style:{height:"600px",width:"100%"},children:e.jsx(R,{theme:G,rowData:v,columnDefs:A,quickFilterText:p,defaultColDef:{sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[5,10,20,50,100],rowSelection:{mode:"singleRow"},animateRows:!0,domLayout:"normal",rowHeight:60,headerHeight:48,suppressCellFocus:!0,rowClass:"hover:bg-gray-50"})})]})})};export{fe as default};
