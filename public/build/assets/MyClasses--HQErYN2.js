import{c as L,j as e,L as S}from"./app-C20PMGFE.js";import{A as E}from"./AuthenticatedLayout-CoxGlEUd.js";import{B as c}from"./badge-D6WBSPNm.js";import{C as N,a as y,d as $,c as A,b as D}from"./card-DZC9_eF6.js";import{P as M}from"./progress-Bd2Om73y.js";import{B as C}from"./button-A7tge7-D.js";import{B as R}from"./book-open-CLcs6IKU.js";import{C as _}from"./calendar-BImOY--Y.js";import{C as V}from"./clock-D2FmpCIh.js";import{V as H}from"./video-BnGZavym.js";import{c as T}from"./createLucideIcon-CV5nJv-t.js";import{L as q}from"./lock-D72aLYmn.js";import{C as b}from"./circle-check-big-DzF_ckL0.js";/* empty css            */import"./dropdown-menu-CuAekoYv.js";import"./index-lq6QG8Q8.js";import"./index-FMhRtu3n.js";import"./index-gzDxTBy5.js";import"./file-text-Biy_N_AA.js";import"./triangle-alert-DBZ47Kgx.js";import"./clsx-B-dksMZM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],w=T("CirclePlay",F),xe=a=>{const s=L.c(18),{enrollments:i,completedCount:n,totalCount:l}=a;let h;s[0]!==n||s[1]!==l?(h=l>0?Math.round(n/l*100):0,s[0]=n,s[1]=l,s[2]=h):h=s[2];const j=h,k=G,B=I,P=O;let u;s[3]===Symbol.for("react.memo_cache_sentinel")?(u=e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mis Clases"}),e.jsx("p",{className:"text-gray-600",children:"Revisa el contenido de tus sesiones y completa las evaluaciones"})]}),s[3]=u):u=s[3];let f;s[4]===Symbol.for("react.memo_cache_sentinel")?(f=e.jsx($,{className:"text-lg",children:"Tu Progreso"}),s[4]=f):f=s[4];let m;s[5]!==n||s[6]!==l?(m=e.jsxs(A,{className:"pb-2",children:[f,e.jsxs(D,{children:["Has completado ",n," de ",l," clases"]})]}),s[5]=n,s[6]=l,s[7]=m):m=s[7];let o;s[8]!==j?(o=e.jsx(y,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{value:j,className:"flex-1 h-3"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[j,"%"]})]})}),s[8]=j,s[9]=o):o=s[9];let d;s[10]!==m||s[11]!==o?(d=e.jsxs(N,{className:"mb-8",children:[m,o]}),s[10]=m,s[11]=o,s[12]=d):d=s[12];let x;s[13]!==i?(x=i.length===0?e.jsx(N,{children:e.jsxs(y,{className:"py-12 text-center",children:[e.jsx(R,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tienes clases asignadas"}),e.jsx("p",{className:"text-gray-600",children:"Cuando se te asignen clases, aparecerán aquí."})]})}):e.jsx("div",{className:"space-y-4",children:i.map(r=>{const{scheduled_class:p}=r,{template:t}=p,v=P(p.status);return e.jsx(N,{className:`transition ${v?"hover:shadow-md":"opacity-75"}`,children:e.jsx(y,{className:"p-0",children:e.jsxs("div",{className:"flex items-stretch",children:[e.jsx("div",{className:"w-2 rounded-l-lg",style:{backgroundColor:t.academic_level?.color||"#3B82F6"}}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(c,{variant:"outline",className:"text-xs",children:t.academic_level.name}),e.jsxs(c,{variant:"secondary",className:"text-xs",children:["Sesión ",t.session_number]}),k(p.status,r.attended,r.exam_completed)]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"w-4 h-4"}),B(p.scheduled_at)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"w-4 h-4"}),t.duration_minutes," min"]}),p.recording_url&&e.jsxs("span",{className:"flex items-center gap-1 text-purple-600",children:[e.jsx(H,{className:"w-4 h-4"}),"Grabación disponible"]})]})]}),e.jsx("div",{className:"ml-4",children:v?e.jsx(S,{href:`/student/class-enrollments/${r.id}`,children:e.jsxs(C,{children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Ver Clase"]})}):e.jsxs(C,{disabled:!0,variant:"outline",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Próximamente"]})})]}),p.status==="completed"&&e.jsxs("div",{className:"mt-3 pt-3 border-t flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-1 text-sm ${r.attended?"text-green-600":"text-gray-400"}`,children:[e.jsx(b,{className:"w-4 h-4"}),"Asistencia"]}),t.has_exam&&e.jsxs("div",{className:`flex items-center gap-1 text-sm ${r.exam_completed?"text-green-600":"text-gray-400"}`,children:[e.jsx(b,{className:"w-4 h-4"}),"Evaluación"]})]})]})]})})},r.id)})}),s[13]=i,s[14]=x):x=s[14];let g;return s[15]!==d||s[16]!==x?(g=e.jsx(E,{children:e.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[u,d,x]})}),s[15]=d,s[16]=x,s[17]=g):g=s[17],g};function G(a,s,i){return a==="completed"&&s&&i?e.jsxs(c,{className:"bg-green-600",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"Completada"]}):a==="completed"?e.jsx(c,{variant:"secondary",children:"Clase terminada"}):a==="in_progress"?e.jsxs(c,{className:"bg-blue-600",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"En progreso"]}):a==="scheduled"?e.jsxs(c,{variant:"outline",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),"Programada"]}):e.jsx(c,{variant:"destructive",children:"Cancelada"})}function I(a){return new Date(a).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function O(a){return a==="completed"||a==="in_progress"}export{xe as default};
