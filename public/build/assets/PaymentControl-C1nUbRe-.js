import{r as u,j as e,a as F}from"./app-BRj81kEq.js";import{A as V,C as S,S as w,D as A}from"./AuthenticatedLayout-D-uJVJhk.js";import{A as R,t as M,M as z,a as E}from"./index.esm-DuwD3iCN.js";import{I as $}from"./input-BsiPAfz-.js";/* empty css                       */import{C as T}from"./clock-Br4CqKVv.js";import{E as L}from"./eye-0BLRh7Va.js";import{S as U}from"./search-DXmSw5E6.js";import{U as G}from"./users-BO1trRyc.js";import{C as v}from"./circle-alert-BO0v5htZ.js";import{C as D}from"./circle-check-big-D7PXqlBA.js";import{F as q}from"./file-text-J4sBvY3b.js";import{D as I}from"./dollar-sign-BrSh-V4f.js";import{C as H}from"./calendar-BthGqSks.js";/* empty css            */import"./button-BZfOaVwK.js";import"./clsx-B-dksMZM.js";import"./dropdown-menu-Cs9VLXgS.js";import"./createLucideIcon-G4lw96yS.js";import"./index-C6g5MJAq.js";import"./index-DdjKPMIt.js";import"./index-C7WBSBJx.js";import"./badge-C2ia6sJZ.js";import"./triangle-alert-BCoFe7RR.js";z.registerModules([E]);const O=({student:C,enrollment:l,onClose:d,onVerifyVoucher:y})=>{const[b,h]=u.useState(null),j=async r=>{h(r);try{await y(r,"approve")}finally{h(null)}},P=async r=>{const n=await w.fire({title:"Rechazar Voucher",input:"textarea",inputLabel:"Motivo del rechazo",inputPlaceholder:"Explica por qu√© se rechaza este voucher...",inputAttributes:{"aria-label":"Motivo del rechazo"},showCancelButton:!0,confirmButtonText:"Rechazar",cancelButtonText:"Cancelar",confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",inputValidator:i=>{if(!i)return"Debes especificar un motivo"}});if(n.isConfirmed&&n.value){h(r);try{await y(r,"reject",n.value)}finally{h(null)}}},m=r=>{if(r.status==="verified")return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#17BC91]/10 text-[#17BC91] border border-[#17BC91]/30",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Verificado"]});if(r.status==="paid")return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#073372]/10 text-[#073372] border border-[#073372]/30 animate-pulse",children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),"Pendiente Verificaci√≥n"]});if(r.status==="pending"||r.status==="overdue"){const n=r.due_date||r.dueDate||"";let i;if(typeof n=="string"&&n.includes("-")){const[a,c,B]=n.split("-").map(Number);i=new Date(a,(c||1)-1,B||1)}else i=new Date(n);const p=new Date,f=new Date(p.getFullYear(),p.getMonth(),p.getDate()),o=r.daysUntilDue,g=r.daysUntilGraceLimit;let x=typeof o=="number"?o:Math.round((i.getTime()-f.getTime())/(1e3*60*60*24));const s=l.paymentPlan?.gracePeriodDays||l.paymentPlan?.grace_period_days||0;let t=typeof g=="number"?g:(function(){const a=new Date(i);return a.setDate(a.getDate()+s),Math.round((a.getTime()-f.getTime())/(1e3*60*60*24))})();return console.log("üîç Cashier Debug - Cuota:",{dueDateStr:n,dueDate:i.toISOString().split("T")[0],today:f.toISOString().split("T")[0],gracePeriodDays:s,daysUntilDue:x,daysUntilGraceLimit:t,moraEnDias:Math.abs(t),usingServer:typeof g=="number"}),x<0&&t>=0&&s>0?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800 border border-orange-300",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"Per√≠odo de Gracia (",t,"d)"]}):t<0?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800 border border-red-300",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Vencido con Mora (",Math.abs(t),"d)"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-[#F98613]/10 text-[#F98613] border border-[#F98613]/30",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"Pendiente (",x>0?`${x}d`:"Vence hoy",")"]})}return e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"Desconocido"]})};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-6xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#073372] to-[#17BC91] px-8 py-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Cronograma de Pagos"}),e.jsxs("p",{className:"text-white/90 text-sm",children:[C.name," - ",C.enrollmentCode]})]}),e.jsx("button",{onClick:d,className:"text-white hover:bg-white/20 rounded-full p-2 transition-colors",children:e.jsx(S,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(90vh-200px)]",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-600 font-semibold uppercase",children:"Total Plan"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:["S/ ",((l.enrollment_fee||0)+(l.totalPending||0)+(l.totalPaid||0)).toFixed(2)]})]}),e.jsx(q,{className:"h-8 w-8 text-blue-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600 font-semibold uppercase",children:"Pagado"}),e.jsxs("p",{className:"text-2xl font-bold text-green-900 mt-1",children:["S/ ",((l.enrollment_fee||0)+(l.totalPaid||0)).toFixed(2)]})]}),e.jsx(D,{className:"h-8 w-8 text-green-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl p-4 border border-yellow-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-yellow-600 font-semibold uppercase",children:"Pendiente"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-900 mt-1",children:["S/ ",(l.totalPending||0).toFixed(2)]})]}),e.jsx(v,{className:"h-8 w-8 text-yellow-600 opacity-50"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-4 border border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-600 font-semibold uppercase",children:"Progreso"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:[(l.paymentProgress||0).toFixed(2),"%"]})]}),e.jsx(I,{className:"h-8 w-8 text-purple-600 opacity-50"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cuotas del Plan"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cuota"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Fecha Vencimiento"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Monto Base"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Mora"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total a Pagar"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pagado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Voucher"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.installments&&l.installments.length>0?l.installments.map(r=>{const n=r.installment_number||r.installmentNumber||0,i=r.due_date||r.dueDate||"";let p=new Date(i);if(typeof i=="string"&&i.includes("-")){const[t,a,c]=i.split("-").map(Number);p=new Date(t,(a||1)-1,c||1)}const f=r.paid_amount||r.paidAmount||0,o=r.late_fee||r.lateFee||0,g=r.total_due||r.totalDue||r.amount+o,x=r.verifiedBy||r.verified_by,s=r.vouchers||[];return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:n})}),e.jsxs("span",{className:"ml-3 text-sm font-medium text-gray-900",children:["Cuota ",n]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(H,{className:"w-4 h-4 mr-2 text-gray-400"}),p.toLocaleDateString("es-PE",{year:"numeric",month:"short",day:"numeric"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["S/ ",r.amount.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o>0?e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["+ S/ ",o.toFixed(2)]}):e.jsx("span",{className:"text-sm text-gray-400",children:"‚Äî"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:`text-sm font-bold ${o>0?"text-red-600":"text-gray-900"}`,children:["S/ ",g.toFixed(2)]}),o>0&&e.jsx("span",{className:"text-xs text-red-500 italic",children:"(incluye mora)"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["S/ ",f.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m(r)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s&&s.length>0?e.jsx("div",{className:"space-y-1",children:s.map(t=>{const a=t.status||"pending";return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("a",{href:t.voucher_url||"#",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Ver"]}),a==="approved"&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-800 rounded-full",children:"Aprobado"}),a==="pending"&&e.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full animate-pulse",children:"Pendiente"}),a==="rejected"&&e.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-800 rounded-full",children:"Rechazado"})]},t.id)})}):e.jsx("span",{className:"text-sm text-gray-400",children:"Sin voucher"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s&&s.length>0&&s.some(t=>t.status==="pending")?e.jsx("div",{className:"flex items-center space-x-2",children:s.filter(t=>t.status==="pending").map(t=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>j(t.id),disabled:b===t.id,className:"inline-flex items-center px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white text-xs font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b===t.id?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin mr-1"}),"Procesando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Aprobar"]})}),e.jsxs("button",{onClick:()=>P(t.id),disabled:b===t.id,className:"inline-flex items-center px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Rechazar"]})]},t.id))}):r.status==="verified"&&x?e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("div",{children:"Verificado por:"}),e.jsx("div",{className:"font-medium text-gray-700",children:x.name})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"‚Äî"})})]},r.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"No hay cuotas registradas"})})})]})})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:d,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2.5 rounded-xl font-medium transition-colors",children:"Cerrar"})})]})})},fe=({students:C=[]})=>{const[l]=u.useState(C??[]),[d,y]=u.useState(null),[b,h]=u.useState(!1),[j,P]=u.useState(""),[m,r]=u.useState("all"),n=async s=>{try{console.log("üìã Abriendo cronograma para estudiante:",s.id,s.name);const t=await F.get(`/cashier/students/${s.id}/enrollment`);if(console.log("‚úÖ Respuesta del servidor:",t.data),t.data.success)y({...s,enrollment:t.data.enrollment}),h(!0);else throw new Error(t.data.message||"No se pudo cargar el cronograma")}catch(t){console.error("‚ùå Error al cargar cronograma:",t),console.error("Error response:",t.response?.data),await w.fire({title:"Error",text:t.response?.data?.message||"No se pudo cargar el cronograma de pagos",icon:"error",confirmButtonColor:"#ef4444"})}},i=async(s,t,a)=>{const c=t==="approve"?"¬øAprobar Voucher?":"¬øRechazar Voucher?",B=t==="approve"?"¬øConfirmas que el voucher de pago es v√°lido?":"El voucher ser√° rechazado y el estudiante deber√° subir uno nuevo.";if(!(t==="reject"&&a)){if(t==="approve"&&!(await w.fire({title:c,html:`
          <div class="text-left">
            <p class="text-gray-700 mb-3">${B}</p>
            <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
              <p class="text-sm text-blue-800">
                <strong>Importante:</strong> Al aprobar este voucher:
              </p>
              <ul class="text-sm text-blue-700 mt-2 space-y-1 list-disc list-inside">
                <li>Se marcar√° el voucher como aprobado</li>
                <li>Se actualizar√° la cuota correspondiente</li>
                <li>Se registrar√° tu nombre como revisor</li>
              </ul>
            </div>
          </div>
        `,icon:"question",showCancelButton:!0,confirmButtonColor:"#10b981",cancelButtonColor:"#6b7280",confirmButtonText:"S√≠, Aprobar",cancelButtonText:"Cancelar",reverseButtons:!0})).isConfirmed)return}try{const N=await F.post(`/cashier/vouchers/${s}/verify`,{action:t,rejection_reason:a});if(N.data.success){if(d?.enrollment){const k=await F.get(`/cashier/students/${d.id}/enrollment`);k.data.success&&y({...d,enrollment:k.data.enrollment})}await w.fire({title:t==="approve"?"¬°Aprobado!":"Rechazado",text:N.data.message,icon:"success",confirmButtonColor:"#10b981",timer:2e3,timerProgressBar:!0})}}catch(N){console.error("Error al verificar voucher:",N),await w.fire({title:"Error",text:"No se pudo procesar la verificaci√≥n del voucher",icon:"error",confirmButtonColor:"#ef4444"})}},p=u.useMemo(()=>{let s=l.filter(t=>t.enrollmentVerified);return m==="pending"?s=s.filter(t=>t.enrollment&&(t.enrollment.paymentProgress||0)<100):m==="completed"&&(s=s.filter(t=>t.enrollment&&t.enrollment.paymentProgress===100)),s},[l,m]),f=u.useMemo(()=>[{headerName:"Estudiante",field:"name",minWidth:300,filter:"agTextColumnFilter",cellRenderer:s=>{const t=s.data;return e.jsxs("div",{className:"flex items-center py-2 w-full h-full",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#073372] to-[#17BC91] rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:t.name.split(" ").map(a=>a[0]).join("")})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.email})]})]})}},{headerName:"C√≥digo",field:"enrollmentCode",width:150,filter:"agTextColumnFilter",cellRenderer:s=>e.jsx("div",{className:"flex items-center h-full",children:e.jsx("span",{className:"text-sm font-mono text-gray-900",children:s.value})})},{headerName:"Plan",width:200,filter:"agTextColumnFilter",cellRenderer:s=>{const t=s.data;return e.jsx("div",{className:"flex items-center h-full",children:e.jsx("span",{className:"text-sm text-gray-900",children:t.paymentPlan?.name||t.enrollment?.paymentPlan?.name||"Sin plan"})})}},{headerName:"Progreso de Pagos",width:250,cellRenderer:s=>{const t=s.data,a=t.enrollment?.paymentProgress||0;return e.jsxs("div",{className:"flex flex-col justify-center h-full space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs font-medium text-gray-600",children:[a.toFixed(0),"% completado"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["S/ ",((t.enrollment?.totalPaid||0)+(t.enrollment?.enrollment_fee||0)).toFixed(2)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${a===100?"bg-[#17BC91]":a>=50?"bg-[#073372]":"bg-[#F98613]"}`,style:{width:`${a}%`}})})]})}},{headerName:"Pendientes Pago",width:140,cellRenderer:s=>{const a=s.data.enrollment?.installments?.filter(c=>c.status==="pending"||c.status==="overdue").length||0;return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${a===0?"bg-[#17BC91]/10 text-[#17BC91] border border-[#17BC91]/30":"bg-[#F98613]/10 text-[#F98613] border border-[#F98613]/30"}`,children:[a," ",a===1?"cuota":"cuotas"]})})}},{headerName:"Por Verificar",width:140,cellRenderer:s=>{const a=s.data.enrollment?.installments?.filter(c=>c.status==="paid").length||0;return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${a===0?"bg-gray-100 text-gray-600":"bg-[#073372]/10 text-[#073372] border border-[#073372]/30 animate-pulse"}`,children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),a," ",a===1?"voucher":"vouchers"]})})}},{headerName:"Acciones",width:120,sortable:!1,filter:!1,cellRenderer:s=>{const t=s.data;return e.jsx("div",{className:"flex items-center justify-center space-x-2 h-full",children:e.jsxs("button",{onClick:()=>n(t),className:"inline-flex items-center px-3 py-1.5 bg-[#073372] hover:bg-[#17BC91] text-white text-sm font-medium rounded-lg transition-colors",title:"Ver y verificar cronograma",children:[e.jsx(L,{className:"h-4 w-4 mr-1"}),"Ver"]})})}}],[]),o=l.filter(s=>s.enrollmentVerified),g=o.filter(s=>s.enrollment&&(s.enrollment.paymentProgress||0)<100),x=o.filter(s=>s.enrollment&&s.enrollment.paymentProgress===100);return e.jsxs(V,{children:[e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Control de Pagos"}),e.jsx("p",{className:"text-gray-600",children:"Gestiona y verifica los pagos de estudiantes matriculados"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx($,{type:"text",label:"Buscar por nombre, email, c√≥digo, plan...",value:j,onChange:s=>P(s.target.value),icon:e.jsx(U,{className:"w-4 h-4"}),className:"pr-10"}),j&&e.jsx("button",{onClick:()=>P(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors z-20",children:e.jsx(S,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-1 inline-flex",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>r("all"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="all"?"bg-gradient-to-r from-[#073372] to-[#17BC91] text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx("span",{children:"Todos"}),e.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:o.length})]})}),e.jsx("button",{onClick:()=>r("pending"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="pending"?"bg-gradient-to-r from-[#F98613] to-orange-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:"Con Pagos Pendientes"}),e.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:g.length})]})}),e.jsx("button",{onClick:()=>r("completed"),className:`px-6 py-3 rounded-lg font-medium transition-all ${m==="completed"?"bg-gradient-to-r from-[#17BC91] to-teal-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{children:"Pagos Completos"}),e.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs",children:x.length})]})})]})}),e.jsx("div",{className:"ag-theme-quartz",style:{height:"600px",width:"100%"},children:e.jsx(R,{theme:M,rowData:p,columnDefs:f,quickFilterText:j,defaultColDef:{sortable:!0,filter:!0,resizable:!0,flex:1,minWidth:100},pagination:!0,paginationPageSize:10,paginationPageSizeSelector:[10,20,50,100],rowSelection:{mode:"singleRow"},animateRows:!0,domLayout:"normal",rowHeight:70,headerHeight:48,suppressCellFocus:!0,rowClass:"hover:bg-gray-50"})})]}),b&&d&&d.enrollment&&e.jsx(O,{student:d,enrollment:d.enrollment,onClose:()=>h(!1),onVerifyVoucher:i})]})};export{fe as default};
