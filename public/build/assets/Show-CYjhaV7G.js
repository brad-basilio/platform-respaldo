import{c as qs,r as we,j as s,b as Ce,H as et,L as st}from"./app-KPmqvMTa.js";import{F as ns,D as tt,t as o,A as rt}from"./AuthenticatedLayout-C4ZEayIc.js";import{B as i}from"./button-fdp7SNS6.js";import{B as c}from"./badge-CYZl1_Bf.js";import{a as Is,b as Ls,D as Us,c as Gs,d as Fs,e as Rs}from"./dialog-CoBJfOKK.js";import{I as Ts}from"./input-Dc4FiR_e.js";import{L as Bs}from"./label-1rYyNLM9.js";import{P as lt}from"./play-DuO-CTLt.js";import{C as Ps}from"./circle-check-big-CTbQCZge.js";import{E as zs}from"./external-link-DLn9R2bM.js";import{F as Vs}from"./film-Dqpqmo2o.js";import{T as at}from"./target-CqRbSH2b.js";import{B as nt}from"./book-open-H6UNTQm5.js";import{C as it,L as ct,a as ot,M as dt}from"./message-circle-DDKlUfyi.js";import{U as $s}from"./users-vJCjkHpK.js";import{U as mt}from"./user-plus-D8QbENTd.js";import{c as xt}from"./createLucideIcon-PoozB8hw.js";import{C as ht}from"./circle-check-BWDMEgW5.js";import{E as ut}from"./eye-B0vKlsNe.js";import{V as Hs}from"./video-JCYaHrB4.js";import{A as gt}from"./arrow-left-Db5eX0EX.js";import{C as ft}from"./clock-CJ19qoG5.js";import{G as pt}from"./graduation-cap-BGCdGqCn.js";import{C as bt}from"./calendar-DyWEUs2Z.js";/* empty css            */import"./dropdown-menu-h4YyKOSn.js";import"./index-B_fMtRaF.js";import"./index-BJH3MYEZ.js";import"./index-C3n1hn6C.js";import"./x-TeHIxAo4.js";import"./triangle-alert-DCXe2EAo.js";import"./clsx-B-dksMZM.js";import"./index-D2_7JVX1.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],yt=xt("UserMinus",jt),ur=a=>{const e=qs.c(223),{scheduledClass:t}=a,[is,Se]=we.useState(!1),[cs,ke]=we.useState(!1),[d,Os]=we.useState(t.recording_url||""),[m,Ds]=we.useState(""),[Ee,os]=we.useState(null),[_e,Qs]=we.useState(null),r=t.template,Zs=Nt,Ys=vt,Js=wt,Ms=_t;let Ae;e[0]!==t.id?(Ae=l=>{Ce.put(`/admin/scheduled-classes/${t.id}/status`,{status:l},{onSuccess:Ct,onError:St})},e[0]=t.id,e[1]=Ae):Ae=e[1];const x=Ae;let $e;e[2]!==d||e[3]!==t.id?($e=()=>{d&&Ce.post(`/admin/scheduled-classes/${t.id}/recording`,{recording_url:d},{onSuccess:()=>{o.success("Grabaci√≥n guardada"),Se(!1)},onError:kt})},e[2]=d,e[3]=t.id,e[4]=$e):$e=e[4];const ds=$e;let ze;e[5]!==t.id||e[6]!==m?(ze=()=>{m&&Ce.post(`/admin/scheduled-classes/${t.id}/enroll`,{student_id:m},{onSuccess:()=>{o.success("Aprendiz inscrito"),ke(!1),Ds("")},onError:Et})},e[5]=t.id,e[6]=m,e[7]=ze):ze=e[7];const ms=ze;let De;e[8]!==t.id?(De=l=>{confirm("¬øEst√°s seguro de remover a este aprendiz?")&&Ce.delete(`/admin/scheduled-classes/${t.id}/unenroll/${l}`,{onSuccess:At,onError:$t})},e[8]=t.id,e[9]=De):De=e[9];const xs=De;let Me;e[10]!==t.id?(Me=l=>{os(l.id),Ce.post(`/admin/scheduled-classes/${t.id}/mark-attendance/${l.id}`,{attended:!l.attended},{preserveScroll:!0,onSuccess:()=>{o.success(l.attended?"Asistencia removida":"Asistencia marcada"),os(null)},onError:()=>{o.error("Error al actualizar asistencia"),os(null)}})},e[10]=t.id,e[11]=Me):Me=e[11];const hs=Me,Ks=zt,Ie=t.recording_url||r.intro_video_url;let Le;e[12]!==Ie?(Le=Ie?Ks(Ie):null,e[12]=Ie,e[13]=Le):Le=e[13];const Ue=Le,us=!!t.recording_url;let Ge;e[14]!==t.status?(Ge=Js(t.status),e[14]=t.status,e[15]=Ge):Ge=e[15];const n=Ge,gs=`Grupo: ${r.title}`;let h;e[16]!==gs?(h=s.jsx(et,{title:gs}),e[16]=gs,e[17]=h):h=e[17];let Fe;e[18]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx("div",{className:"bg-white border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs(st,{href:"/admin/scheduled-classes",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(gt,{className:"w-5 h-5"}),s.jsx("span",{children:"Volver a Grupos de Clase"})]})})}),e[18]=Fe):Fe=e[18];let u;e[19]!==Ue?(u=Ue?s.jsx("iframe",{src:Ue,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500",children:[s.jsx(Hs,{className:"w-16 h-16 mb-3 opacity-50"}),s.jsx("span",{className:"text-sm",children:"Video no disponible"})]}),e[19]=Ue,e[20]=u):u=e[20];let g;e[21]!==us?(g=us&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs(c,{className:"bg-red-600 text-white",children:[s.jsx(Vs,{className:"w-3 h-3 mr-1"}),"Grabaci√≥n"]})}),e[21]=us,e[22]=g):g=e[22];let f;e[23]!==u||e[24]!==g?(f=s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-2xl overflow-hidden shadow-lg",children:[u,g]})}),e[23]=u,e[24]=g,e[25]=f):f=e[25];const fs=r.academic_level?.color||"#3B82F6";let p;e[26]!==fs?(p={backgroundColor:fs},e[26]=fs,e[27]=p):p=e[27];const ps=r.academic_level?.name;let b;e[28]!==p||e[29]!==ps?(b=s.jsx(c,{style:p,className:"text-white border-0",children:ps}),e[28]=p,e[29]=ps,e[30]=b):b=e[30];let j;e[31]!==r.session_number?(j=s.jsxs(c,{variant:"outline",children:["Sesi√≥n ",r.session_number]}),e[31]=r.session_number,e[32]=j):j=e[32];let y;e[33]!==r.modality?(y=r.modality&&s.jsx(c,{variant:"outline",className:"capitalize",children:r.modality==="theoretical"?"Te√≥rico":"Pr√°ctico"}),e[33]=r.modality,e[34]=y):y=e[34];let N;e[35]!==b||e[36]!==j||e[37]!==y?(N=s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[b,j,y]}),e[35]=b,e[36]=j,e[37]=y,e[38]=N):N=e[38];let v;e[39]!==r.title?(v=s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-3",children:r.title}),e[39]=r.title,e[40]=v):v=e[40];let w;e[41]!==r.description?(w=r.description&&s.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:r.description}),e[41]=r.description,e[42]=w):w=e[42];let Re;e[43]===Symbol.for("react.memo_cache_sentinel")?(Re=s.jsx(ft,{className:"w-4 h-4"}),e[43]=Re):Re=e[43];let _;e[44]!==r.duration_minutes?(_=s.jsxs("div",{className:"flex items-center gap-2",children:[Re,s.jsxs("span",{children:[r.duration_minutes," minutos"]})]}),e[44]=r.duration_minutes,e[45]=_):_=e[45];let Te;e[46]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsx(dt,{className:"w-4 h-4"}),e[46]=Te):Te=e[46];const bs=r.questions?.length||0;let C;e[47]!==bs?(C=s.jsxs("div",{className:"flex items-center gap-2",children:[Te,s.jsxs("span",{children:[bs," preguntas"]})]}),e[47]=bs,e[48]=C):C=e[48];let Be;e[49]===Symbol.for("react.memo_cache_sentinel")?(Be=s.jsx(ns,{className:"w-4 h-4"}),e[49]=Be):Be=e[49];const js=r.resources?.length||0;let S;e[50]!==js?(S=s.jsxs("div",{className:"flex items-center gap-2",children:[Be,s.jsxs("span",{children:[js," recursos"]})]}),e[50]=js,e[51]=S):S=e[51];let k;e[52]!==_||e[53]!==C||e[54]!==S?(k=s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mb-6",children:[_,C,S]}),e[52]=_,e[53]=C,e[54]=S,e[55]=k):k=e[55];const ys=`rounded-xl p-4 ${n.bgColor} border ${n.borderColor} mb-4`,Ns=`w-2.5 h-2.5 rounded-full ${n.color}`;let E;e[56]!==Ns?(E=s.jsx("div",{className:Ns}),e[56]=Ns,e[57]=E):E=e[57];const vs=`font-semibold ${n.textColor}`;let A;e[58]!==n.label||e[59]!==vs?(A=s.jsx("span",{className:vs,children:n.label}),e[58]=n.label,e[59]=vs,e[60]=A):A=e[60];let $;e[61]!==E||e[62]!==A?($=s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[E,A]}),e[61]=E,e[62]=A,e[63]=$):$=e[63];const ws=`text-sm ${n.textColor} opacity-80`;let z;e[64]!==t.scheduled_at?(z=Ms(t.scheduled_at),e[64]=t.scheduled_at,e[65]=z):z=e[65];let D;e[66]!==ws||e[67]!==z?(D=s.jsx("p",{className:ws,children:z}),e[66]=ws,e[67]=z,e[68]=D):D=e[68];let M;e[69]!==ys||e[70]!==$||e[71]!==D?(M=s.jsxs("div",{className:ys,children:[$,D]}),e[69]=ys,e[70]=$,e[71]=D,e[72]=M):M=e[72];let I;e[73]!==x||e[74]!==t.status?(I=t.status==="scheduled"&&s.jsxs(i,{className:"w-full bg-orange-600 hover:bg-orange-700 h-11",onClick:()=>x("in_progress"),children:[s.jsx(lt,{className:"w-5 h-5 mr-2"}),"Iniciar Clase"]}),e[73]=x,e[74]=t.status,e[75]=I):I=e[75];let L;e[76]!==x||e[77]!==t.status?(L=t.status==="in_progress"&&s.jsxs(i,{className:"w-full bg-green-600 hover:bg-green-700 h-11",onClick:()=>x("completed"),children:[s.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Marcar Completada"]}),e[76]=x,e[77]=t.status,e[78]=L):L=e[78];let U;e[79]!==t.meet_url?(U=t.meet_url&&s.jsx("a",{href:t.meet_url,target:"_blank",rel:"noopener noreferrer",className:"block w-full",children:s.jsxs(i,{variant:"outline",className:"w-full h-11",children:[s.jsx(zs,{className:"w-4 h-4 mr-2"}),"Abrir enlace de Meet"]})}),e[79]=t.meet_url,e[80]=U):U=e[80];let G;e[81]!==t.recording_url||e[82]!==t.status?(G=t.status==="completed"&&s.jsxs(i,{variant:"outline",className:"w-full h-11",onClick:()=>Se(!0),children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),t.recording_url?"Cambiar Grabaci√≥n":"Agregar Grabaci√≥n"]}),e[81]=t.recording_url,e[82]=t.status,e[83]=G):G=e[83];let F;e[84]!==I||e[85]!==L||e[86]!==U||e[87]!==G?(F=s.jsxs("div",{className:"mt-auto space-y-2",children:[I,L,U,G]}),e[84]=I,e[85]=L,e[86]=U,e[87]=G,e[88]=F):F=e[88];let R;e[89]!==N||e[90]!==v||e[91]!==w||e[92]!==k||e[93]!==M||e[94]!==F?(R=s.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[N,v,w,k,M,F]}),e[89]=N,e[90]=v,e[91]=w,e[92]=k,e[93]=M,e[94]=F,e[95]=R):R=e[95];let T;e[96]!==f||e[97]!==R?(T=s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[f,R]})})}),e[96]=f,e[97]=R,e[98]=T):T=e[98];let B;e[99]!==r.objectives?(B=r.objectives&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(at,{className:"w-5 h-5 text-blue-600"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Objetivos de Aprendizaje"})]})}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"rich-content text-gray-900 max-w-none whitespace-pre-line",children:r.objectives})})]}),e[99]=r.objectives,e[100]=B):B=e[100];let P;e[101]!==r.content?(P=r.content&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(nt,{className:"w-5 h-5 text-purple-600"})}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Contenido de la Clase"})]})}),s.jsx("div",{className:"px-6 py-4",children:s.jsx("div",{className:"rich-content max-w-none",dangerouslySetInnerHTML:{__html:r.content}})})]}),e[101]=r.content,e[102]=P):P=e[102];let V;e[103]!==_e||e[104]!==r.academic_level?.color||e[105]!==r.questions?(V=r.questions&&r.questions.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-amber-50 to-orange-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center",children:s.jsx(it,{className:"w-5 h-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preguntas de Evaluaci√≥n"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.questions.length," preguntas ¬∑ ",r.questions.reduce(Dt,0)," puntos totales"]})]})]}),s.jsx(c,{className:"bg-amber-100 text-amber-700 border-amber-200",children:"Vista Admin"})]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:r.questions.sort(Mt).map((l,Xs)=>s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0 text-sm font-bold text-white shadow-sm",style:{backgroundColor:r.academic_level?.color||"#073372"},children:Xs+1}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(c,{variant:"outline",className:"text-xs border-gray-300 text-gray-600",children:l.type==="multiple_choice"?"Opci√≥n M√∫ltiple":l.type==="true_false"?"Verdadero/Falso":"Respuesta Abierta"}),s.jsxs(c,{className:"text-xs bg-blue-100 text-blue-700 border-0",children:[l.points||1," ",(l.points||1)===1?"punto":"puntos"]})]}),s.jsx("p",{className:"text-gray-900 font-medium leading-relaxed text-base",children:l.question})]})]}),l.options&&l.options.length>0&&s.jsx("div",{className:"ml-14 space-y-2",children:l.options.map(It)}),l.explanation&&s.jsxs("div",{className:"ml-14 mt-4",children:[s.jsxs("button",{onClick:()=>Qs(_e===l.id?null:l.id),className:"flex items-center gap-2 text-sm text-amber-600 hover:text-amber-700 font-medium",children:[s.jsx(ct,{className:"w-4 h-4"}),_e===l.id?"Ocultar explicaci√≥n":"Ver explicaci√≥n"]}),_e===l.id&&s.jsx("div",{className:"mt-3 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-amber-800 leading-relaxed",children:l.explanation})})]})]},l.id))})]}),e[103]=_e,e[104]=r.academic_level?.color,e[105]=r.questions,e[106]=V):V=e[106];let H;e[107]!==r.resources?(H=r.resources&&r.resources.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gradient-to-r from-green-50 to-transparent",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(ns,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recursos de la Clase"}),s.jsxs("p",{className:"text-sm text-gray-500",children:[r.resources.length," materiales disponibles"]})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-3",children:r.resources.map(l=>s.jsxs("a",{href:l.download_url||(l.file_path?`/storage/${l.file_path}`:"#"),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-4 p-4 rounded-xl border border-gray-200 hover:border-green-400 hover:shadow-md transition-all duration-200 group",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 text-white ${Ys(l.file_type)}`,children:Zs(l.file_type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 group-hover:text-green-700 transition-colors",children:l.name}),l.description&&s.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:l.description}),s.jsx("p",{className:"text-xs text-gray-400 capitalize mt-1",children:l.file_type})]}),s.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:l.file_type==="link"?s.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium",children:[s.jsx(zs,{className:"w-4 h-4"}),"Abrir"]}):s.jsxs("span",{className:"flex items-center gap-1 text-green-600 text-sm font-medium",children:[s.jsx(tt,{className:"w-4 h-4"}),"Descargar"]})})]},l.id))})})]}),e[107]=r.resources,e[108]=H):H=e[108];let O;e[109]!==B||e[110]!==P||e[111]!==V||e[112]!==H?(O=s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[B,P,V,H]}),e[109]=B,e[110]=P,e[111]=V,e[112]=H,e[113]=O):O=e[113];let Pe;e[114]===Symbol.for("react.memo_cache_sentinel")?(Pe=s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-[#073372]"}),"Informaci√≥n del Grupo"]}),e[114]=Pe):Pe=e[114];let Ve;e[115]===Symbol.for("react.memo_cache_sentinel")?(Ve=s.jsx("span",{className:"text-gray-500 text-sm",children:"Nivel"}),e[115]=Ve):Ve=e[115];const _s=r.academic_level?.color||"#3B82F6";let Q;e[116]!==_s?(Q={backgroundColor:_s},e[116]=_s,e[117]=Q):Q=e[117];const Cs=r.academic_level?.name;let Z;e[118]!==Q||e[119]!==Cs?(Z=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Ve,s.jsx(c,{style:Q,className:"text-white border-0",children:Cs})]}),e[118]=Q,e[119]=Cs,e[120]=Z):Z=e[120];let He;e[121]===Symbol.for("react.memo_cache_sentinel")?(He=s.jsx("span",{className:"text-gray-500 text-sm",children:"Sesi√≥n"}),e[121]=He):He=e[121];let Y;e[122]!==r.session_number?(Y=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[He,s.jsx("span",{className:"font-medium text-gray-900",children:r.session_number})]}),e[122]=r.session_number,e[123]=Y):Y=e[123];let Oe;e[124]===Symbol.for("react.memo_cache_sentinel")?(Oe=s.jsx("span",{className:"text-gray-500 text-sm",children:"Modalidad"}),e[124]=Oe):Oe=e[124];const Ss=r.modality==="theoretical"?"Te√≥rico":r.modality==="practical"?"Pr√°ctico":"-";let J;e[125]!==Ss?(J=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Oe,s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:Ss})]}),e[125]=Ss,e[126]=J):J=e[126];let Qe;e[127]===Symbol.for("react.memo_cache_sentinel")?(Qe=s.jsx("span",{className:"text-gray-500 text-sm",children:"Duraci√≥n"}),e[127]=Qe):Qe=e[127];let K;e[128]!==r.duration_minutes?(K=s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[Qe,s.jsxs("span",{className:"font-medium text-gray-900",children:[r.duration_minutes," min"]})]}),e[128]=r.duration_minutes,e[129]=K):K=e[129];let Ze;e[130]===Symbol.for("react.memo_cache_sentinel")?(Ze=s.jsx("span",{className:"text-gray-500 text-sm",children:"Capacidad"}),e[130]=Ze):Ze=e[130];let W;e[131]!==t.enrollments.length||e[132]!==t.max_students?(W=s.jsxs("div",{className:"flex items-center justify-between py-2",children:[Ze,s.jsxs("span",{className:"font-medium text-gray-900",children:[t.enrollments.length,"/",t.max_students]})]}),e[131]=t.enrollments.length,e[132]=t.max_students,e[133]=W):W=e[133];let X;e[134]!==Z||e[135]!==Y||e[136]!==J||e[137]!==K||e[138]!==W?(X=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[Pe,s.jsxs("div",{className:"space-y-3",children:[Z,Y,J,K,W]})]}),e[134]=Z,e[135]=Y,e[136]=J,e[137]=K,e[138]=W,e[139]=X):X=e[139];let q;e[140]!==t.teacher?(q=t.teacher&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx($s,{className:"w-5 h-5 text-[#073372]"}),"Instructor Asignado"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-[#073372] flex items-center justify-center text-white font-bold",children:t.teacher.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:t.teacher.name}),s.jsx("p",{className:"text-sm text-gray-500",children:t.teacher.email})]})]})]}),e[140]=t.teacher,e[141]=q):q=e[141];const ks=`rounded-xl border p-6 ${n.bgColor} ${n.borderColor}`,Es=`font-semibold mb-3 flex items-center gap-2 ${n.textColor}`;let Ye;e[142]===Symbol.for("react.memo_cache_sentinel")?(Ye=s.jsx(bt,{className:"w-5 h-5"}),e[142]=Ye):Ye=e[142];let ee;e[143]!==Es?(ee=s.jsxs("h3",{className:Es,children:[Ye,"Fecha Programada"]}),e[143]=Es,e[144]=ee):ee=e[144];const Ws=n.textColor;let se;e[145]!==t.scheduled_at?(se=Ms(t.scheduled_at),e[145]=t.scheduled_at,e[146]=se):se=e[146];let te;e[147]!==n.textColor||e[148]!==se?(te=s.jsx("p",{className:Ws,children:se}),e[147]=n.textColor,e[148]=se,e[149]=te):te=e[149];let re;e[150]!==ks||e[151]!==ee||e[152]!==te?(re=s.jsxs("div",{className:ks,children:[ee,te]}),e[150]=ks,e[151]=ee,e[152]=te,e[153]=re):re=e[153];let Je;e[154]===Symbol.for("react.memo_cache_sentinel")?(Je=s.jsx($s,{className:"w-5 h-5 text-[#073372]"}),e[154]=Je):Je=e[154];let le,ae;e[155]!==t.enrollments.length||e[156]!==t.max_students?(le=s.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[Je,"Aprendices (",t.enrollments.length,"/",t.max_students,")"]}),ae=t.enrollments.length<t.max_students&&s.jsx(i,{size:"sm",variant:"outline",onClick:()=>ke(!0),children:s.jsx(mt,{className:"w-4 h-4"})}),e[155]=t.enrollments.length,e[156]=t.max_students,e[157]=le,e[158]=ae):(le=e[157],ae=e[158]);let ne;e[159]!==le||e[160]!==ae?(ne=s.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[le,ae]})}),e[159]=le,e[160]=ae,e[161]=ne):ne=e[161];let ie;e[162]!==hs||e[163]!==xs||e[164]!==Ee||e[165]!==t.enrollments?(ie=s.jsx("div",{className:"p-4",children:t.enrollments.length===0?s.jsxs("div",{className:"text-center py-6 text-gray-500",children:[s.jsx($s,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay aprendices inscritos"})]}):s.jsx("div",{className:"space-y-2",children:t.enrollments.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:"w-9 h-9 rounded-full bg-[#073372] flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:l.student.first_name?.charAt(0)||"?"}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium truncate",children:[l.student.first_name," ",l.student.last_name]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsxs("button",{onClick:()=>hs(l),disabled:Ee===l.id,className:`inline-flex items-center gap-1 text-xs px-2 py-0.5 rounded-full border transition-colors ${l.attended?"bg-green-50 text-green-700 border-green-300 hover:bg-green-100":"bg-gray-100 text-gray-500 border-gray-300 hover:bg-gray-200"} ${Ee===l.id?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx(Ps,{className:`w-3 h-3 ${l.attended?"fill-green-500":""}`}),l.attended?"Asisti√≥":"Sin asistencia"]}),l.exam_completed&&s.jsx(c,{variant:"outline",className:"text-xs text-blue-600 border-blue-300",children:"Examen ‚úì"})]})]})]}),s.jsx(i,{variant:"ghost",size:"icon",className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>xs(l.student.id),children:s.jsx(yt,{className:"h-4 w-4"})})]},l.id))})}),e[162]=hs,e[163]=xs,e[164]=Ee,e[165]=t.enrollments,e[166]=ie):ie=e[166];let ce;e[167]!==ne||e[168]!==ie?(ce=s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden shadow-sm",children:[ne,ie]}),e[167]=ne,e[168]=ie,e[169]=ce):ce=e[169];let oe;e[170]!==t.notes?(oe=t.notes&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 rounded-xl border border-blue-100 p-6",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"üìù Notas"}),s.jsx("p",{className:"text-sm text-blue-800",children:t.notes})]}),e[170]=t.notes,e[171]=oe):oe=e[171];let de;e[172]!==X||e[173]!==q||e[174]!==re||e[175]!==ce||e[176]!==oe?(de=s.jsxs("div",{className:"space-y-6",children:[X,q,re,ce,oe]}),e[172]=X,e[173]=q,e[174]=re,e[175]=ce,e[176]=oe,e[177]=de):de=e[177];let me;e[178]!==O||e[179]!==de?(me=s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[O,de]})}),e[178]=O,e[179]=de,e[180]=me):me=e[180];let xe;e[181]!==T||e[182]!==me?(xe=s.jsxs("div",{className:"min-h-screen bg-gray-100",children:[Fe,T,me]}),e[181]=T,e[182]=me,e[183]=xe):xe=e[183];let Ke;e[184]===Symbol.for("react.memo_cache_sentinel")?(Ke=s.jsx("style",{children:`
        .rich-content h1 { 
          font-size: 1.75rem; 
          font-weight: 700; 
          margin: 1.5rem 0 0.75rem; 
          line-height: 1.2;
          color: #111827;
        }
        .rich-content h2 { 
          font-size: 1.375rem; 
          font-weight: 600; 
          margin: 1.25rem 0 0.5rem; 
          line-height: 1.3;
          color: #1f2937;
        }
        .rich-content h3 { 
          font-size: 1.125rem; 
          font-weight: 600; 
          margin: 1rem 0 0.5rem;
          color: #374151;
        }
        .rich-content p {
          margin: 0.5rem 0;
          line-height: 1.6;
          color: #374151;
        }
        .rich-content ul, .rich-content ol { 
          padding-left: 1.5rem; 
          margin: 0.75rem 0; 
        }
        .rich-content li { 
          margin: 0.25rem 0;
          line-height: 1.6;
        }
        .rich-content ul { list-style-type: disc; }
        .rich-content ol { list-style-type: decimal; }
        .rich-content blockquote { 
          border-left: 4px solid #e5e7eb; 
          padding-left: 1rem; 
          margin: 1rem 0;
          color: #6b7280;
          font-style: italic;
        }
        .rich-content pre {
          background: #1f2937;
          color: #e5e7eb;
          padding: 1rem;
          border-radius: 0.5rem;
          font-family: 'Fira Code', 'Monaco', monospace;
          overflow-x: auto;
          margin: 1rem 0;
        }
        .rich-content code {
          background: #f3f4f6;
          padding: 0.125rem 0.25rem;
          border-radius: 0.25rem;
          font-family: 'Fira Code', 'Monaco', monospace;
          font-size: 0.875em;
        }
        .rich-content pre code {
          background: none;
          padding: 0;
          color: inherit;
        }
        .rich-content img {
          max-width: 100%;
          height: auto;
          border-radius: 0.5rem;
          margin: 1rem 0;
        }
        .rich-content a {
          color: #3b82f6;
          text-decoration: underline;
          cursor: pointer;
        }
        .rich-content a:hover {
          color: #2563eb;
        }
        .rich-content hr {
          border: none;
          border-top: 2px solid #e5e7eb;
          margin: 1.5rem 0;
        }
        .rich-content strong {
          font-weight: 600;
        }
        .rich-content em {
          font-style: italic;
        }
        .rich-content u {
          text-decoration: underline;
        }
      `}),e[184]=Ke):Ke=e[184];const As=t.recording_url?"Cambiar Grabaci√≥n":"Agregar Grabaci√≥n";let he;e[185]!==As?(he=s.jsx(Is,{children:As}),e[185]=As,e[186]=he):he=e[186];let We;e[187]===Symbol.for("react.memo_cache_sentinel")?(We=s.jsx(Ls,{children:"La grabaci√≥n reemplazar√° el video de introducci√≥n para los aprendices"}),e[187]=We):We=e[187];let ue;e[188]!==he?(ue=s.jsxs(Us,{children:[he,We]}),e[188]=he,e[189]=ue):ue=e[189];let Xe;e[190]===Symbol.for("react.memo_cache_sentinel")?(Xe=s.jsx(Bs,{children:"URL de la Grabaci√≥n"}),e[190]=Xe):Xe=e[190];let qe;e[191]===Symbol.for("react.memo_cache_sentinel")?(qe=l=>Os(l.target.value),e[191]=qe):qe=e[191];let ge;e[192]!==d?(ge=s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[Xe,s.jsx(Ts,{type:"url",value:d,onChange:qe,placeholder:"https://drive.google.com/..."})]})}),e[192]=d,e[193]=ge):ge=e[193];let es;e[194]===Symbol.for("react.memo_cache_sentinel")?(es=s.jsx(i,{variant:"outline",onClick:()=>Se(!1),children:"Cancelar"}),e[194]=es):es=e[194];let fe;e[195]!==ds?(fe=s.jsxs(Gs,{children:[es,s.jsx(i,{onClick:ds,className:"bg-[#073372] hover:bg-[#052555]",children:"Guardar"})]}),e[195]=ds,e[196]=fe):fe=e[196];let pe;e[197]!==ue||e[198]!==ge||e[199]!==fe?(pe=s.jsxs(Fs,{children:[ue,ge,fe]}),e[197]=ue,e[198]=ge,e[199]=fe,e[200]=pe):pe=e[200];let be;e[201]!==is||e[202]!==pe?(be=s.jsx(Rs,{open:is,onOpenChange:Se,children:pe}),e[201]=is,e[202]=pe,e[203]=be):be=e[203];let ss;e[204]===Symbol.for("react.memo_cache_sentinel")?(ss=s.jsxs(Us,{children:[s.jsx(Is,{children:"Inscribir Aprendiz"}),s.jsx(Ls,{children:"Ingresa el ID del aprendiz a inscribir"})]}),e[204]=ss):ss=e[204];let ts;e[205]===Symbol.for("react.memo_cache_sentinel")?(ts=s.jsx(Bs,{children:"ID del Aprendiz"}),e[205]=ts):ts=e[205];let rs;e[206]===Symbol.for("react.memo_cache_sentinel")?(rs=l=>Ds(l.target.value),e[206]=rs):rs=e[206];let je;e[207]!==m?(je=s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[ts,s.jsx(Ts,{type:"number",value:m,onChange:rs,placeholder:"ID del aprendiz"})]})}),e[207]=m,e[208]=je):je=e[208];let ls;e[209]===Symbol.for("react.memo_cache_sentinel")?(ls=s.jsx(i,{variant:"outline",onClick:()=>ke(!1),children:"Cancelar"}),e[209]=ls):ls=e[209];let ye;e[210]!==ms?(ye=s.jsxs(Gs,{children:[ls,s.jsx(i,{onClick:ms,className:"bg-[#073372] hover:bg-[#052555]",children:"Inscribir"})]}),e[210]=ms,e[211]=ye):ye=e[211];let Ne;e[212]!==je||e[213]!==ye?(Ne=s.jsxs(Fs,{children:[ss,je,ye]}),e[212]=je,e[213]=ye,e[214]=Ne):Ne=e[214];let ve;e[215]!==cs||e[216]!==Ne?(ve=s.jsx(Rs,{open:cs,onOpenChange:ke,children:Ne}),e[215]=cs,e[216]=Ne,e[217]=ve):ve=e[217];let as;return e[218]!==be||e[219]!==ve||e[220]!==xe||e[221]!==h?(as=s.jsxs(rt,{children:[h,xe,Ke,be,ve]}),e[218]=be,e[219]=ve,e[220]=xe,e[221]=h,e[222]=as):as=e[222],as};function Nt(a){switch(a){case"video":return s.jsx(Hs,{className:"w-5 h-5"});case"pdf":return s.jsx(ns,{className:"w-5 h-5"});case"image":return s.jsx(ut,{className:"w-5 h-5"});case"link":return s.jsx(zs,{className:"w-5 h-5"});default:return s.jsx(ns,{className:"w-5 h-5"})}}function vt(a){switch(a){case"video":return"bg-red-500";case"pdf":return"bg-red-600";case"image":return"bg-blue-500";case"link":return"bg-green-500";default:return"bg-gray-500"}}function wt(a){const e={scheduled:{variant:"outline",label:"Programada",color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200",textColor:"text-blue-700"},in_progress:{variant:"default",label:"En Curso",color:"bg-orange-500",bgColor:"bg-orange-50",borderColor:"border-orange-200",textColor:"text-orange-700"},completed:{variant:"secondary",label:"Completada",color:"bg-green-500",bgColor:"bg-green-50",borderColor:"border-green-200",textColor:"text-green-700"},cancelled:{variant:"destructive",label:"Cancelada",color:"bg-red-500",bgColor:"bg-red-50",borderColor:"border-red-200",textColor:"text-red-700"}};return e[a]||e.scheduled}function _t(a){return new Date(a).toLocaleDateString("es-PE",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Lima"})}function Ct(){return o.success("Estado actualizado")}function St(){return o.error("Error al actualizar estado")}function kt(){return o.error("Error al guardar grabaci√≥n")}function Et(){return o.error("Error al inscribir aprendiz")}function At(){return o.success("Aprendiz removido")}function $t(){return o.error("Error al remover aprendiz")}function zt(a){if(!a)return null;const e=a.match(/(?:youtube\.com\/(?:watch\?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);if(e)return`https://www.youtube.com/embed/${e[1]}`;const t=a.match(/vimeo\.com\/(\d+)/);return t?`https://player.vimeo.com/video/${t[1]}`:a}function Dt(a,e){return a+(e.points||1)}function Mt(a,e){return(a.order||0)-(e.order||0)}function It(a,e){return s.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border-2 transition-all ${a.is_correct?"bg-green-50 border-green-300 shadow-sm":"bg-gray-50 border-gray-200"}`,children:[a.is_correct?s.jsx(ht,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):s.jsx(ot,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:`flex-1 ${a.is_correct?"text-green-800 font-medium":"text-gray-700"}`,children:a.text}),a.is_correct&&s.jsx(c,{className:"bg-green-600 text-white border-0 text-xs",children:"Correcta"})]},e)}export{ur as default};
